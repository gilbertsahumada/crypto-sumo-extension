import{j as e,r as n,R as d,a as u}from"./client-DzwojeCa.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))o(t);new MutationObserver(t=>{for(const s of t)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&o(c)}).observe(document,{childList:!0,subtree:!0});function a(t){const s={};return t.integrity&&(s.integrity=t.integrity),t.referrerPolicy&&(s.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?s.credentials="include":t.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(t){if(t.ep)return;t.ep=!0;const s=a(t);fetch(t.href,s)}})();const m=()=>e.jsxs("div",{className:"header",children:[e.jsx("img",{src:"/img/logo-32.png",alt:""}),e.jsx("span",{className:"font-bold text-lg",children:"Sumo"})]}),i=({title:l,subtitle:r,icon:a,isSelected:o,onClick:t})=>e.jsxs("div",{className:`wallet-button ${o?"selected":""}`,onClick:t,children:[a,e.jsxs("div",{className:"wallet-info",children:[e.jsx("span",{className:"font-medium text-sm",children:l}),r&&e.jsx("span",{className:"text-xs text-white",children:r})]}),e.jsx("div",{className:"ml-auto",children:o?e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-5 h-5",style:{color:"#8B5CF6"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})}):e.jsx("div",{className:"w-5 h-5 border border-gray-500 rounded"})})]}),f=({selectedWallet:l,setSelectedWallet:r})=>{const a=n.useCallback(t=>{r(t),chrome.storage.local.set({selectedWallet:t}),chrome.tabs.query({url:"*://*.twitter.com/*"},s=>{for(const c of s)c.id&&chrome.tabs.sendMessage(c.id,{type:"walletChanged"})})},[r]),o=n.useCallback(()=>{r(null),chrome.storage.local.remove(["selectedWallet"])},[r]);return e.jsxs("div",{className:"wallet-selector",children:[e.jsx(i,{title:"Core Wallet",subtitle:"Use with Avalanche C-Chain",icon:"",isSelected:l==="core",onClick:()=>l==="core"?o():a("core")}),e.jsx(i,{title:"Rabby Wallet",subtitle:"EVM-focused, privacy-friendly",icon:"",isSelected:l==="rabby",onClick:()=>l==="rabby"?o():a("rabby")}),e.jsx(i,{title:"MetaMask",subtitle:"EVM-focused, privacy-friendly",icon:"",isSelected:l==="metamask",onClick:()=>l==="metamask"?o():a("metamask")})]})},h=()=>{const[l,r]=n.useState(!0),[a,o]=n.useState(null);return n.useEffect(()=>{chrome.storage.local.get(["selectedWallet"],t=>{const s=t.selectedWallet??null;o(s),r(!1)})},[]),l?null:e.jsxs("div",{className:"popup-container",children:[e.jsx(m,{}),e.jsxs("div",{className:"popup-content",children:[e.jsx("h1",{className:"text-xl font-bold",children:"Enable Sumo Extension"}),e.jsx(f,{selectedWallet:a,setSelectedWallet:o}),a&&e.jsx("div",{className:"notification",children:e.jsx("span",{className:"text-sm text-yellow-800",children:"Only one wallet should be active at a time."})})]})]})};d.createRoot(document.getElementById("app")).render(e.jsx(u.StrictMode,{children:e.jsx("div",{className:"h-720px w-320px",children:e.jsx(h,{})})}));
