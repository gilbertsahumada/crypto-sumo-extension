const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-CEGzUVFx.js","assets/client-DzwojeCa.js"])))=>i.map(i=>d[i]);
var $p=Object.defineProperty;var Ip=(t,e,n)=>e in t?$p(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var me=(t,e,n)=>Ip(t,typeof e!="symbol"?e+"":e,n);import{r as L,j as E,c as kp}from"./client-DzwojeCa.js";const Bp="1.0.8";let $e=class Ni extends Error{constructor(e,n={}){var o;const r=n.cause instanceof Ni?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Ni&&n.cause.docsPath||n.docsPath,i=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${Bp}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function gt(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Pl=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Tl=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Sl=/^\(.+?\).*?$/,cc=/^tuple(?<array>(\[(\d*)\])*)$/;function Fi(t){let e=t.type;if(cc.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const i=t.components[s];e+=Fi(i),s<n-1&&(e+=", ")}const r=gt(cc,t.type);return e+=`)${(r==null?void 0:r.array)??""}`,Fi({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function On(t){let e="";const n=t.length;for(let r=0;r<n;r++){const s=t[r];e+=Fi(s),r!==n-1&&(e+=", ")}return e}function bs(t){var e;return t.type==="function"?`function ${t.name}(${On(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${On(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${On(t.inputs)})`:t.type==="error"?`error ${t.name}(${On(t.inputs)})`:t.type==="constructor"?`constructor(${On(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Cl=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Mp(t){return Cl.test(t)}function Rp(t){return gt(Cl,t)}const $l=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function Np(t){return $l.test(t)}function Fp(t){return gt($l,t)}const Il=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function Dp(t){return Il.test(t)}function Lp(t){return gt(Il,t)}const kl=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function Oo(t){return kl.test(t)}function jp(t){return gt(kl,t)}const Bl=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function Op(t){return Bl.test(t)}function Vp(t){return gt(Bl,t)}const Ml=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Up(t){return Ml.test(t)}function zp(t){return gt(Ml,t)}const _p=/^receive\(\) external payable$/;function Hp(t){return _p.test(t)}const qp=new Set(["indexed"]),Di=new Set(["calldata","memory","storage"]);class Gp extends $e{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Wp extends $e{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Kp extends $e{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Yp extends $e{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Xp extends $e{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class Zp extends $e{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Jp extends $e{constructor({param:e,type:n,modifier:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Qp extends $e{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class $n extends $e{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class em extends $e{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class tm extends $e{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class nm extends $e{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class rm extends $e{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function sm(t,e,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return e?`${e}:${t}${r}`:t}const Ys=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Li(t,e={}){if(Dp(t))return im(t,e);if(Np(t))return om(t,e);if(Mp(t))return am(t,e);if(Op(t))return cm(t,e);if(Up(t))return um(t);if(Hp(t))return{type:"receive",stateMutability:"payable"};throw new em({signature:t})}function im(t,e={}){const n=Lp(t);if(!n)throw new $n({signature:t,type:"function"});const r=je(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Ht(r[a],{modifiers:Di,structs:e,type:"function"}));const o=[];if(n.returns){const a=je(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Ht(a[u],{modifiers:Di,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function om(t,e={}){const n=Fp(t);if(!n)throw new $n({signature:t,type:"event"});const r=je(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ht(r[o],{modifiers:qp,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function am(t,e={}){const n=Rp(t);if(!n)throw new $n({signature:t,type:"error"});const r=je(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ht(r[o],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function cm(t,e={}){const n=Vp(t);if(!n)throw new $n({signature:t,type:"constructor"});const r=je(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Ht(r[o],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function um(t){const e=zp(t);if(!e)throw new $n({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const lm=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dm=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fm=/^u?int$/;function Ht(t,e){var d,f;const n=sm(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(Ys.has(n))return Ys.get(n);const r=Sl.test(t),s=gt(r?dm:lm,t);if(!s)throw new Yp({param:t});if(s.name&&pm(s.name))throw new Xp({param:t,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(e==null?void 0:e.structs)??{};let c,u={};if(r){c="tuple";const h=je(s.type),m=[],p=h.length;for(let v=0;v<p;v++)m.push(Ht(h[v],{structs:a}));u={components:m}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(fm.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!Rl(c))throw new Kp({type:c});if(s.modifier){if(!((f=(d=e==null?void 0:e.modifiers)==null?void 0:d.has)!=null&&f.call(d,s.modifier)))throw new Zp({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(Di.has(s.modifier)&&!mm(c,!!s.array))throw new Jp({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...i,...o,...u};return Ys.set(n,l),l}function je(t,e=[],n="",r=0){const s=t.trim().length;for(let i=0;i<s;i++){const o=t[i],a=t.slice(i+1);switch(o){case",":return r===0?je(a,[...e,n.trim()]):je(a,e,`${n}${o}`,r);case"(":return je(a,e,`${n}${o}`,r+1);case")":return je(a,e,`${n}${o}`,r-1);default:return je(a,e,`${n}${o}`,r)}}if(n==="")return e;if(r!==0)throw new rm({current:n,depth:r});return e.push(n.trim()),e}function Rl(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Pl.test(t)||Tl.test(t)}const hm=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function pm(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Pl.test(t)||Tl.test(t)||hm.test(t)}function mm(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Nl(t){const e={},n=t.length;for(let o=0;o<n;o++){const a=t[o];if(!Oo(a))continue;const c=jp(a);if(!c)throw new $n({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let f=0;f<d;f++){const m=u[f].trim();if(!m)continue;const p=Ht(m,{type:"struct"});l.push(p)}if(!l.length)throw new tm({signature:a});e[c.name]=l}const r={},s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=Fl(c,e)}return r}const ym=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Fl(t,e,n=new Set){const r=[],s=t.length;for(let i=0;i<s;i++){const o=t[i];if(Sl.test(o.type))r.push(o);else{const c=gt(ym,o.type);if(!(c!=null&&c.type))throw new Qp({abiParameter:o});const{array:u,type:l}=c;if(l in e){if(n.has(l))throw new nm({type:l});r.push({...o,type:`tuple${u??""}`,components:Fl(e[l]??[],e,new Set([...n,l]))})}else if(Rl(l))r.push(o);else throw new Wp({type:l})}}return r}function Dl(t){const e=Nl(t),n=[],r=t.length;for(let s=0;s<r;s++){const i=t[s];Oo(i)||n.push(Li(i,e))}return n}function uc(t){let e;if(typeof t=="string")e=Li(t);else{const n=Nl(t),r=t.length;for(let s=0;s<r;s++){const i=t[s];if(!Oo(i)){e=Li(i,n);break}}}if(!e)throw new Gp({signature:t});return e}function H(t,e,n){const r=t[e.name];if(typeof r=="function")return r;const s=t[n];return typeof s=="function"?s:i=>e(t,i)}function Oe(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new Im(t.type);return`${t.name}(${$s(t.inputs,{includeName:e})})`}function $s(t,{includeName:e=!1}={}){return t?t.map(n=>gm(n,{includeName:e})).join(e?", ":","):""}function gm(t,{includeName:e}){return t.type.startsWith("tuple")?`(${$s(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function et(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Z(t){return et(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Ll="2.30.5";let Vn={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Ll}`},I=class ji extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof ji?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof ji&&n.cause.docsPath||n.docsPath,i=(a=Vn.getDocsUrl)==null?void 0:a.call(Vn,{...n,docsPath:s}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Vn.version?[`Version: ${Vn.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Ll}walk(e){return jl(this,e)}};function jl(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jl(t.cause,e):e?null:t}class bm extends I{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class lc extends I{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class Ol extends I{constructor({data:e,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${$s(n,{includeName:!0})})`,`Data:   ${e} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=r}}class Mr extends I{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class wm extends I{constructor({expectedLength:e,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class vm extends I{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Z(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class xm extends I{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Am extends I{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class dc extends I{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class Vl extends I{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Em extends I{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class Ul extends I{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class fc extends I{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class vn extends I{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class zl extends I{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class Pm extends I{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class Tm extends I{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Oe(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Oe(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let Sm=class extends I{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Qn extends I{constructor({abiItem:e,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${$s(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=r,this.size=s}}class Is extends I{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Oe(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class Cm extends I{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class $m extends I{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let _l=class extends I{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class Im extends I{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class km extends I{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let Hl=class extends I{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},ql=class extends I{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class hc extends I{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${e} ${r} long.`,{name:"InvalidBytesLengthError"})}}function In(t,{dir:e,size:n=32}={}){return typeof t=="string"?Et(t,{dir:e,size:n}):Bm(t,{dir:e,size:n})}function Et(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new ql({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Bm(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new ql({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=e==="right";r[i?s:n-s-1]=t[i?s:t.length-s-1]}return r}let Gl=class extends I{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class Mm extends I{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class Rm extends I{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let Nm=class extends I{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Se(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,r=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=e==="left"?n.slice(r):n.slice(0,n.length-r),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function Ue(t,{size:e}){if(Z(t)>e)throw new Nm({givenSize:Z(t),maxSize:e})}function Ce(t,e={}){const{signed:n}=e;e.size&&Ue(t,{size:e.size});const r=BigInt(t);if(!n)return r;const s=(t.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function Fm(t,e={}){let n=t;if(e.size&&(Ue(n,{size:e.size}),n=Se(n)),Se(n)==="0x00")return!1;if(Se(n)==="0x01")return!0;throw new Rm(n)}function tt(t,e={}){return Number(Ce(t,e))}const Dm=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function U(t,e={}){return typeof t=="number"||typeof t=="bigint"?z(t,e):typeof t=="string"?er(t,e):typeof t=="boolean"?Wl(t,e):re(t,e)}function Wl(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Ue(n,{size:e.size}),In(n,{size:e.size})):n}function re(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=Dm[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(Ue(r,{size:e.size}),In(r,{dir:"right",size:e.size})):r}function z(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof t=="bigint"?"n":"";throw new Gl({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?In(a,{size:r}):a}const Lm=new TextEncoder;function er(t,e={}){const n=Lm.encode(t);return re(n,e)}const jm=new TextEncoder;function kn(t,e={}){return typeof t=="number"||typeof t=="bigint"?Vm(t,e):typeof t=="boolean"?Om(t,e):et(t)?Ve(t,e):Vt(t,e)}function Om(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(Ue(n,{size:e.size}),In(n,{size:e.size})):n}const rt={zero:48,nine:57,A:65,F:70,a:97,f:102};function pc(t){if(t>=rt.zero&&t<=rt.nine)return t-rt.zero;if(t>=rt.A&&t<=rt.F)return t-(rt.A-10);if(t>=rt.a&&t<=rt.f)return t-(rt.a-10)}function Ve(t,e={}){let n=t;e.size&&(Ue(n,{size:e.size}),n=In(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=pc(r.charCodeAt(a++)),u=pc(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new I(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function Vm(t,e){const n=z(t,e);return Ve(n)}function Vt(t,e={}){const n=jm.encode(t);return typeof e.size=="number"?(Ue(n,{size:e.size}),In(n,{dir:"right",size:e.size})):n}const Zr=BigInt(2**32-1),mc=BigInt(32);function Um(t,e=!1){return e?{h:Number(t&Zr),l:Number(t>>mc&Zr)}:{h:Number(t>>mc&Zr)|0,l:Number(t&Zr)|0}}function zm(t,e=!1){const n=t.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=Um(t[i],e);[r[i],s[i]]=[o,a]}return[r,s]}const _m=(t,e,n)=>t<<n|e>>>32-n,Hm=(t,e,n)=>e<<n|t>>>32-n,qm=(t,e,n)=>e<<n-32|t>>>64-n,Gm=(t,e,n)=>t<<n-32|e>>>64-n,nn=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Wm(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function tr(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function qt(t,...e){if(!Wm(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Km(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");tr(t.outputLen),tr(t.blockLen)}function xn(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Kl(t,e){qt(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function Ym(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function An(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Xs(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function _e(t,e){return t<<32-e|t>>>e}const Xm=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function Zm(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Jm(t){for(let e=0;e<t.length;e++)t[e]=Zm(t[e]);return t}const yc=Xm?t=>t:Jm;function Qm(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function ks(t){return typeof t=="string"&&(t=Qm(t)),qt(t),t}function e0(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];qt(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}class Vo{}function Yl(t){const e=r=>t().update(ks(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function t0(t=32){if(nn&&typeof nn.getRandomValues=="function")return nn.getRandomValues(new Uint8Array(t));if(nn&&typeof nn.randomBytes=="function")return Uint8Array.from(nn.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const n0=BigInt(0),Un=BigInt(1),r0=BigInt(2),s0=BigInt(7),i0=BigInt(256),o0=BigInt(113),Xl=[],Zl=[],Jl=[];for(let t=0,e=Un,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Xl.push(2*(5*r+n)),Zl.push((t+1)*(t+2)/2%64);let s=n0;for(let i=0;i<7;i++)e=(e<<Un^(e>>s0)*o0)%i0,e&r0&&(s^=Un<<(Un<<BigInt(i))-Un);Jl.push(s)}const Ql=zm(Jl,!0),a0=Ql[0],c0=Ql[1],gc=(t,e,n)=>n>32?qm(t,e,n):_m(t,e,n),bc=(t,e,n)=>n>32?Gm(t,e,n):Hm(t,e,n);function u0(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=gc(u,l,1)^n[a],f=bc(u,l,1)^n[a+1];for(let h=0;h<50;h+=10)t[o+h]^=d,t[o+h+1]^=f}let s=t[2],i=t[3];for(let o=0;o<24;o++){const a=Zl[o],c=gc(s,i,a),u=bc(s,i,a),l=Xl[o];s=t[l],i=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=a0[r],t[1]^=c0[r]}An(n)}class Uo extends Vo{constructor(e,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,tr(r),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ym(this.state)}clone(){return this._cloneInto()}keccak(){yc(this.state32),u0(this.state32,this.rounds),yc(this.state32),this.posOut=0,this.pos=0}update(e){xn(this),e=ks(e),qt(e);const{blockLen:n,state:r}=this,s=e.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=e[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:s}=this;e[r]^=n,n&128&&r===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){xn(this,!1),qt(e),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=e.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);e.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tr(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Kl(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,An(this.state)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return e||(e=new Uo(n,r,s,o,i)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=i,e.suffix=r,e.outputLen=s,e.enableXOF=o,e.destroyed=this.destroyed,e}}const l0=(t,e,n)=>Yl(()=>new Uo(e,t,n)),ed=l0(1,136,256/8);function ae(t,e){const n=e||"hex",r=ed(et(t,{strict:!1})?kn(t):t);return n==="bytes"?r:U(r)}const d0=t=>ae(kn(t));function f0(t){return d0(t)}function h0(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new I("Unable to normalize signature.");return s}const p0=t=>{const e=typeof t=="string"?t:bs(t);return h0(e)};function td(t){return f0(p0(t))}const Bs=td;let fe=class extends I{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},zo=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const Zs=new zo(8192);function Ms(t,e){if(Zs.has(`${t}.${e}`))return Zs.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=ae(Vt(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return Zs.set(`${t}.${e}`,i),i}function m0(t,e){if(!ee(t,{strict:!1}))throw new fe({address:t});return Ms(t,e)}const y0=/^0x[a-fA-F0-9]{40}$/,Js=new zo(8192);function ee(t,e){const{strict:n=!0}=e??{},r=`${t}.${n}`;if(Js.has(r))return Js.get(r);const s=y0.test(t)?t.toLowerCase()===t?!0:n?Ms(t)===t:!0:!1;return Js.set(r,s),s}function dt(t){return typeof t[0]=="string"?De(t):g0(t)}function g0(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let r=0;for(const s of t)n.set(s,r),r+=s.length;return n}function De(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Gt(t,e,n,{strict:r}={}){return et(t,{strict:!1})?id(t,e,n,{strict:r}):sd(t,e,n,{strict:r})}function nd(t,e){if(typeof e=="number"&&e>0&&e>Z(t)-1)throw new Hl({offset:e,position:"start",size:Z(t)})}function rd(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Z(t)!==n-e)throw new Hl({offset:n,position:"end",size:Z(t)})}function sd(t,e,n,{strict:r}={}){nd(t,e);const s=t.slice(e,n);return r&&rd(s,e,n),s}function id(t,e,n,{strict:r}={}){nd(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return r&&rd(s,e,n),s}const b0=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,od=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function $t(t,e){if(t.length!==e.length)throw new xm({expectedLength:t.length,givenLength:e.length});const n=w0({params:t,values:e}),r=Ho(n);return r.length===0?"0x":r}function w0({params:t,values:e}){const n=[];for(let r=0;r<t.length;r++)n.push(_o({param:t[r],value:e[r]}));return n}function _o({param:t,value:e}){const n=qo(t.type);if(n){const[r,s]=n;return x0(e,{length:r,param:{...t,type:s}})}if(t.type==="tuple")return S0(e,{param:t});if(t.type==="address")return v0(e);if(t.type==="bool")return E0(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const r=t.type.startsWith("int"),[,,s="256"]=od.exec(t.type)??[];return P0(e,{signed:r,size:Number(s)})}if(t.type.startsWith("bytes"))return A0(e,{param:t});if(t.type==="string")return T0(e);throw new Cm(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Ho(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Z(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(z(e+s,{size:32})),r.push(a),s+=Z(a)):n.push(a)}return dt([...n,...r])}function v0(t){if(!ee(t))throw new fe({address:t});return{dynamic:!1,encoded:Et(t.toLowerCase())}}function x0(t,{length:e,param:n}){const r=e===null;if(!Array.isArray(t))throw new _l(t);if(!r&&t.length!==e)throw new wm({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const i=[];for(let o=0;o<t.length;o++){const a=_o({param:n,value:t[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=Ho(i);if(r){const a=z(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?dt([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:dt(i.map(({encoded:o})=>o))}}function A0(t,{param:e}){const[,n]=e.type.split("bytes"),r=Z(t);if(!n){let s=t;return r%32!==0&&(s=Et(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:dt([Et(z(r,{size:32})),s])}}if(r!==Number.parseInt(n))throw new vm({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Et(t,{dir:"right"})}}function E0(t){if(typeof t!="boolean")throw new I(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Et(Wl(t))}}function P0(t,{signed:e,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new Gl({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:z(t,{size:32,signed:e})}}function T0(t){const e=er(t),n=Math.ceil(Z(e)/32),r=[];for(let s=0;s<n;s++)r.push(Et(Gt(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:dt([Et(z(Z(e),{size:32})),...r])}}function S0(t,{param:e}){let n=!1;const r=[];for(let s=0;s<e.components.length;s++){const i=e.components[s],o=Array.isArray(t)?s:i.name,a=_o({param:i,value:t[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Ho(r):dt(r.map(({encoded:s})=>s))}}function qo(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Rr=t=>Gt(td(t),0,4);function Jt(t){const{abi:e,args:n=[],name:r}=t,s=et(r,{strict:!1}),i=e.filter(a=>s?a.type==="function"?Rr(a)===r:a.type==="event"?Bs(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in a&&a.inputs[l];return d?Oi(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=ad(a.inputs,o.inputs,n);if(u)throw new Tm({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function Oi(t,e){const n=typeof t,r=e.type;switch(r){case"address":return ee(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>Oi(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>Oi(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function ad(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return ad(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?ee(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?ee(n[r],{strict:!1}):!1)return o}}const wc="/docs/contract/encodeEventTopics";function Nr(t){var c;const{abi:e,eventName:n,args:r}=t;let s=e[0];if(n){const u=Jt({abi:e,name:n});if(!u)throw new fc(n,{docsPath:wc});s=u}if(s.type!=="event")throw new fc(void 0,{docsPath:wc});const i=Oe(s),o=Bs(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];l.length>0&&(a=(u==null?void 0:u.map((d,f)=>Array.isArray(l[f])?l[f].map((h,m)=>vc({param:d,value:l[f][m]})):typeof l[f]<"u"&&l[f]!==null?vc({param:d,value:l[f]}):null))??[])}return[o,...a]}function vc({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ae(kn(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new km(t.type);return $t([t],[e])}function Rs(t,{method:e}){var r,s;const n={};return t.transport.type==="fallback"&&((s=(r=t.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&e===i&&(n[o]=c.request)})),i=>n[i]||t.request}async function cd(t,e){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=e,u=Rs(t,{method:"eth_newFilter"}),l=i?Nr({abi:r,args:s,eventName:i}):void 0,d=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?z(o):o,toBlock:typeof c=="bigint"?z(c):c,topics:l}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}function ze(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const xc="/docs/contract/encodeFunctionData";function C0(t){const{abi:e,args:n,functionName:r}=t;let s=e[0];if(r){const i=Jt({abi:e,args:n,name:r});if(!i)throw new vn(r,{docsPath:xc});s=i}if(s.type!=="function")throw new vn(void 0,{docsPath:xc});return{abi:[s],functionName:Rr(Oe(s))}}function Ee(t){const{args:e}=t,{abi:n,functionName:r}=(()=>{var a;return t.abi.length===1&&((a=t.functionName)!=null&&a.startsWith("0x"))?t:C0(t)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?$t(s.inputs,e??[]):void 0;return De([i,o??"0x"])}const ud={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},ld={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},$0={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class Ac extends I{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class dd extends I{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class I0 extends I{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const k0={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new I0({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new dd({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new Ac({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new Ac({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Go(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(k0);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function B0(t,e={}){typeof e.size<"u"&&Ue(t,{size:e.size});const n=re(t,e);return Ce(n,e)}function M0(t,e={}){let n=t;if(typeof e.size<"u"&&(Ue(n,{size:e.size}),n=Se(n)),n.length>1||n[0]>1)throw new Mm(n);return!!n[0]}function ut(t,e={}){typeof e.size<"u"&&Ue(t,{size:e.size});const n=re(t,e);return tt(n,e)}function R0(t,e={}){let n=t;return typeof e.size<"u"&&(Ue(n,{size:e.size}),n=Se(n,{dir:"right"})),new TextDecoder().decode(n)}function Fr(t,e){const n=typeof e=="string"?Ve(e):e,r=Go(n);if(Z(n)===0&&t.length>0)throw new Mr;if(Z(e)&&Z(e)<32)throw new Ol({data:typeof e=="string"?e:re(e),params:t,size:Z(e)});let s=0;const i=[];for(let o=0;o<t.length;++o){const a=t[o];r.setPosition(s);const[c,u]=pn(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function pn(t,e,{staticPosition:n}){const r=qo(e.type);if(r){const[s,i]=r;return F0(t,{...e,type:i},{length:s,staticPosition:n})}if(e.type==="tuple")return O0(t,e,{staticPosition:n});if(e.type==="address")return N0(t);if(e.type==="bool")return D0(t);if(e.type.startsWith("bytes"))return L0(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return j0(t,e);if(e.type==="string")return V0(t,{staticPosition:n});throw new $m(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Ec=32,Vi=32;function N0(t){const e=t.readBytes(32);return[Ms(re(sd(e,-20))),32]}function F0(t,e,{length:n,staticPosition:r}){if(!n){const o=ut(t.readBytes(Vi)),a=r+o,c=a+Ec;t.setPosition(a);const u=ut(t.readBytes(Ec)),l=nr(e);let d=0;const f=[];for(let h=0;h<u;++h){t.setPosition(c+(l?h*32:d));const[m,p]=pn(t,e,{staticPosition:c});d+=p,f.push(m)}return t.setPosition(r+32),[f,32]}if(nr(e)){const o=ut(t.readBytes(Vi)),a=r+o,c=[];for(let u=0;u<n;++u){t.setPosition(a+u*32);const[l]=pn(t,e,{staticPosition:a});c.push(l)}return t.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=pn(t,e,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function D0(t){return[M0(t.readBytes(32),{size:32}),32]}function L0(t,e,{staticPosition:n}){const[r,s]=e.type.split("bytes");if(!s){const o=ut(t.readBytes(32));t.setPosition(n+o);const a=ut(t.readBytes(32));if(a===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(a);return t.setPosition(n+32),[re(c),32]}return[re(t.readBytes(Number.parseInt(s),32)),32]}function j0(t,e){const n=e.type.startsWith("int"),r=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[r>48?B0(s,{signed:n}):ut(s,{signed:n}),32]}function O0(t,e,{staticPosition:n}){const r=e.components.length===0||e.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(nr(e)){const o=ut(t.readBytes(Vi)),a=n+o;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(a+i);const[l,d]=pn(t,u,{staticPosition:a});i+=d,s[r?c:u==null?void 0:u.name]=l}return t.setPosition(n+32),[s,32]}for(let o=0;o<e.components.length;++o){const a=e.components[o],[c,u]=pn(t,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function V0(t,{staticPosition:e}){const n=ut(t.readBytes(32)),r=e+n;t.setPosition(r);const s=ut(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const i=t.readBytes(s,32),o=R0(Se(i));return t.setPosition(e+32),[o,32]}function nr(t){var r;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(r=t.components)==null?void 0:r.some(nr);const n=qo(t.type);return!!(n&&nr({...t,type:n[1]}))}function U0(t){const{abi:e,data:n}=t,r=Gt(n,0,4);if(r==="0x")throw new Mr;const i=[...e||[],ld,$0].find(o=>o.type==="error"&&r===Rr(Oe(o)));if(!i)throw new Vl(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Fr(i.inputs,Gt(n,4)):void 0,errorName:i.name}}const ce=(t,e,n)=>JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString():s,n);function fd({abiItem:t,args:e,includeFunctionName:n=!0,includeName:r=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof e[i]=="object"?ce(e[i]):e[i]}`).join(", ")})`}const hd={gwei:9,wei:18},z0={ether:-9,wei:9};function pd(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,i]=[n.slice(0,n.length-e),n.slice(n.length-e)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function Wo(t,e="wei"){return pd(t,hd[e])}function Pe(t,e="wei"){return pd(t,z0[e])}class _0 extends I{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class H0 extends I{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Pc(t){return t.reduce((e,{slot:n,value:r})=>`${e}        ${n}: ${r}
`,"")}function q0(t){return t.reduce((e,{address:n,...r})=>{let s=`${e}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Pc(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Pc(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Dr(t){const e=Object.entries(t).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=e.reduce((r,[s])=>Math.max(r,s.length),0);return e.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class G0 extends I{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class W0 extends I{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class K0 extends I{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Dr(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Y0 extends I{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class Qs extends I{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var m;const h=Dr({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${Wo(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class md extends I{constructor({blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),e&&i!==void 0&&(o=`Transaction at block hash "${e}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class yd extends I{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class X0 extends I{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const Z0=t=>t,Ko=t=>t;class gd extends I{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f,stateOverride:h}){var v;const m=n?ze(n):void 0;let p=Dr({from:m==null?void 0:m.address,to:d,value:typeof f<"u"&&`${Wo(f)} ${((v=s==null?void 0:s.nativeCurrency)==null?void 0:v.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:l});h&&(p+=`
${q0(h)}`),super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",p].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class cs extends I{constructor(e,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Jt({abi:n,args:r,name:o}),u=c?fd({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?Oe(c,{includeName:!0}):void 0,d=Dr({address:s&&Z0(s),function:l,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(e.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:e,docsPath:i,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=e,this.contractAddress=s,this.functionName=o,this.sender=a}}class mn extends I{constructor({abi:e,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=U0({abi:e,data:n});const{abiItem:l,errorName:d,args:f}=o;if(d==="Error")c=f[0];else if(d==="Panic"){const[h]=f;c=ud[h]}else{const h=l?Oe(l,{includeName:!0}):void 0,m=l&&f?fd({abiItem:l,args:f,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",m&&m!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${m}`:""]}}catch(l){i=l}else s&&(c=s);let u;i instanceof Vl&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class J0 extends I{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class Q0 extends I{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Ns extends I{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class Wn extends I{constructor({body:e,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${Ko(o)}`,e&&`Request body: ${ce(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=i,this.url=o}}class Yo extends I{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Ko(r)}`,`Request body: ${ce(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Tc extends I{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ko(n)}`,`Request body: ${ce(e)}`],name:"TimeoutError"})}}const ey=-1;class Te extends I{constructor(e,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:s||(e==null?void 0:e.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||e.name,this.code=e instanceof Yo?e.code:n??ey}}class Ie extends Te{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class rr extends Te{constructor(e){super(e,{code:rr.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(rr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class sr extends Te{constructor(e){super(e,{code:sr.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(sr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ir extends Te{constructor(e,{method:n}={}){super(e,{code:ir.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(ir,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class or extends Te{constructor(e){super(e,{code:or.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(or,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Wt extends Te{constructor(e){super(e,{code:Wt.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Wt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Kt extends Te{constructor(e){super(e,{code:Kt.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Kt,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ar extends Te{constructor(e){super(e,{code:ar.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ar,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class cr extends Te{constructor(e){super(e,{code:cr.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(cr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class ur extends Te{constructor(e){super(e,{code:ur.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(ur,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Ft extends Te{constructor(e,{method:n}={}){super(e,{code:Ft.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Ft,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class En extends Te{constructor(e){super(e,{code:En.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(En,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class lr extends Te{constructor(e){super(e,{code:lr.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(lr,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class yn extends Ie{constructor(e){super(e,{code:yn.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(yn,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class dr extends Ie{constructor(e){super(e,{code:dr.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(dr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class fr extends Ie{constructor(e,{method:n}={}){super(e,{code:fr.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(fr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class hr extends Ie{constructor(e){super(e,{code:hr.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(hr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class pr extends Ie{constructor(e){super(e,{code:pr.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(pr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class mr extends Ie{constructor(e){super(e,{code:mr.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(mr,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class yr extends Ie{constructor(e){super(e,{code:yr.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(yr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class gr extends Ie{constructor(e){super(e,{code:gr.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(gr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class br extends Ie{constructor(e){super(e,{code:br.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(br,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class wr extends Ie{constructor(e){super(e,{code:wr.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(wr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class vr extends Ie{constructor(e){super(e,{code:vr.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(vr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class xr extends Ie{constructor(e){super(e,{code:xr.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(xr,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ar extends Ie{constructor(e){super(e,{code:Ar.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ar,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class ty extends Te{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const ny=3;function Pn(t,{abi:e,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=t instanceof Ns?t:t instanceof I?t.walk(m=>"data"in m)||t.walk():{},{code:c,data:u,details:l,message:d,shortMessage:f}=a,h=t instanceof Mr?new J0({functionName:i}):[ny,Wt.code].includes(c)&&(u||l||d||f)?new mn({abi:e,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof Yo?l:f??d}):t;return new cs(h,{abi:e,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function ry(t){const e=ae(`0x${t.substring(4)}`).substring(26);return Ms(`0x${e}`)}const sy="modulepreload",iy=function(t){return"/"+t},Sc={},bd=function(e,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=iy(c),c in Sc)return;Sc[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":sy,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})};async function oy({hash:t,signature:e}){const n=et(t)?t:U(t),{secp256k1:r}=await bd(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>Yw);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:l,v:d,yParity:f}=e,h=Number(f??d),m=Cc(h);return new r.Signature(Ce(u),Ce(l)).addRecoveryBit(m)}const o=et(e)?e:U(e);if(Z(o)!==65)throw new Error("invalid signature length");const a=tt(`0x${o.slice(130)}`),c=Cc(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Cc(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function wd({hash:t,signature:e}){return ry(await oy({hash:t,signature:e}))}function ft(t,e="hex"){const n=vd(t),r=Go(new Uint8Array(n.length));return n.encode(r),e==="hex"?re(r.bytes):r.bytes}function vd(t){return Array.isArray(t)?ay(t.map(e=>vd(e))):cy(t)}function ay(t){const e=t.reduce((s,i)=>s+i.length,0),n=xd(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:i}of t)i(s)}}}function cy(t){const e=typeof t=="string"?Ve(t):t,n=xd(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function xd(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new I("Length is too large.")}function uy(t){const{chainId:e,nonce:n,to:r}=t,s=t.contractAddress??t.address,i=ae(De(["0x05",ft([e?z(e):"0x",s,n?z(n):"0x"])]));return r==="bytes"?Ve(i):i}async function ly(t){const{authorization:e,signature:n}=t;return wd({hash:uy(e),signature:n??e})}class us extends I{constructor(e,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:f}){var m;const h=Dr({from:n==null?void 0:n.address,to:d,value:typeof f<"u"&&`${Wo(f)} ${((m=s==null?void 0:s.nativeCurrency)==null?void 0:m.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${Pe(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${Pe(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Pe(u)} gwei`,nonce:l});super(e.shortMessage,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class an extends I{constructor({cause:e,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(an,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(an,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Pt extends I{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(Pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class gn extends I{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${Pe(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(gn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Ui extends I{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Ui,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class zi extends I{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(zi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class _i extends I{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(_i,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class bn extends I{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(bn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Hi extends I{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Hi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class qi extends I{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(qi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Gi extends I{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Gi,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Tn extends I{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${Pe(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${Pe(r)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Tn,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Fs extends I{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function Xo(t,e){const n=(t.details||"").toLowerCase(),r=t instanceof I?t.walk(s=>(s==null?void 0:s.code)===an.code):t;return r instanceof I?new an({cause:t,message:r.details}):an.nodeMessage.test(n)?new an({cause:t,message:t.details}):Pt.nodeMessage.test(n)?new Pt({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):gn.nodeMessage.test(n)?new gn({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Ui.nodeMessage.test(n)?new Ui({cause:t,nonce:e==null?void 0:e.nonce}):zi.nodeMessage.test(n)?new zi({cause:t,nonce:e==null?void 0:e.nonce}):_i.nodeMessage.test(n)?new _i({cause:t,nonce:e==null?void 0:e.nonce}):bn.nodeMessage.test(n)?new bn({cause:t}):Hi.nodeMessage.test(n)?new Hi({cause:t,gas:e==null?void 0:e.gas}):qi.nodeMessage.test(n)?new qi({cause:t,gas:e==null?void 0:e.gas}):Gi.nodeMessage.test(n)?new Gi({cause:t}):Tn.nodeMessage.test(n)?new Tn({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Fs({cause:t})}function dy(t,{docsPath:e,...n}){const r=(()=>{const s=Xo(t,n);return s instanceof Fs?t:s})();return new us(r,{docsPath:e,...n})}function Zo(t,{format:e}){if(!e)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in t&&(n[a]=t[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=e(t||{});return r(s),n}function Jo(t,e){return({exclude:n,format:r})=>({exclude:n,format:s=>{const i=e(s);if(n)for(const o of n)delete i[o];return{...i,...r(s)}},type:t})}const fy={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Lr(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=py(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>re(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=z(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=z(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=z(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=z(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=z(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=z(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=fy[t.type]),typeof t.value<"u"&&(e.value=z(t.value)),e}const hy=Jo("transactionRequest",Lr);function py(t){return t.map(e=>({address:e.address,r:e.r?z(BigInt(e.r)):e.r,s:e.s?z(BigInt(e.s)):e.s,chainId:z(e.chainId),nonce:z(e.nonce),...typeof e.yParity<"u"?{yParity:z(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:z(e.v)}:{}}))}function $c(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:r})=>{if(n.length!==66)throw new hc({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new hc({size:r.length,targetSize:66,type:"hex"});return e[n]=r,e},{})}function my(t){const{balance:e,nonce:n,state:r,stateDiff:s,code:i}=t,o={};if(i!==void 0&&(o.code=i),e!==void 0&&(o.balance=z(e)),n!==void 0&&(o.nonce=z(n)),r!==void 0&&(o.state=$c(r)),s!==void 0){if(o.state)throw new H0;o.stateDiff=$c(s)}return o}function Qo(t){if(!t)return;const e={};for(const{address:n,...r}of t){if(!ee(n,{strict:!1}))throw new fe({address:n});if(e[n])throw new _0({address:n});e[n]=my(r)}return e}const jr=2n**256n-1n;function Or(t){const{account:e,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=t,o=e?ze(e):void 0;if(o&&!ee(o.address))throw new fe({address:o.address});if(i&&!ee(i))throw new fe({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new G0;if(r&&r>jr)throw new Pt({maxFeePerGas:r});if(s&&r&&s>r)throw new Tn({maxFeePerGas:r,maxPriorityFeePerGas:s})}class yy extends I{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class ea extends I{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class gy extends I{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Pe(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class Ad extends I{constructor({blockHash:e,blockNumber:n}){let r="Block";e&&(r=`Block at hash "${e}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const Ed={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ds(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?tt(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?tt(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?Ed[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=wy(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const by=Jo("transaction",Ds);function wy(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function ta(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Ds(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const vy=Jo("block",ta);async function We(t,{blockHash:e,blockNumber:n,blockTag:r,includeTransactions:s}={}){var l,d,f;const i=r??"latest",o=s??!1,a=n!==void 0?z(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,o]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[a||i,o]},{dedupe:!!a}),!c)throw new Ad({blockHash:e,blockNumber:n});return(((f=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.block)==null?void 0:f.format)||ta)(c)}async function na(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function xy(t,e){return Pd(t,e)}async function Pd(t,e){var i,o;const{block:n,chain:r=t.chain,request:s}=e||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await H(t,We,"getBlock")({}),l=await a({block:u,client:t,request:s});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return Ce(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):H(t,We,"getBlock")({}),H(t,na,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new ea;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function Ay(t,e){return Wi(t,e)}async function Wi(t,e){var f,h;const{block:n,chain:r=t.chain,request:s,type:i="eip1559"}=e||{},o=await(async()=>{var m,p;return typeof((m=r==null?void 0:r.fees)==null?void 0:m.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:t,request:s}):((p=r==null?void 0:r.fees)==null?void 0:p.baseFeeMultiplier)??1.2})();if(o<1)throw new yy;const c=10**(((f=o.toString().split(".")[1])==null?void 0:f.length)??0),u=m=>m*BigInt(Math.ceil(o*c))/BigInt(c),l=n||await H(t,We,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const m=await r.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:s,type:i});if(m!==null)return m}if(i==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new ea;const m=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await Pd(t,{block:l,chain:r,request:s}),p=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??p+m,maxPriorityFeePerGas:m}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await H(t,na,"getGasPrice")({}))}}async function Td(t,{address:e,blockTag:n="latest",blockNumber:r}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof r=="bigint"?z(r):n]},{dedupe:!!r});return tt(s)}function ra(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(i=>Ve(i)):t.blobs,s=[];for(const i of r)s.push(Uint8Array.from(e.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>re(i))}function sa(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),r=typeof t.blobs[0]=="string"?t.blobs.map(o=>Ve(o)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(o=>Ve(o)):t.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(e.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>re(o))}function Ey(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}function Py(t,e,n){return t&e^~t&n}function Ty(t,e,n){return t&e^t&n^e&n}class Sy extends Vo{constructor(e,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(e),this.view=Xs(this.buffer)}update(e){xn(this),e=ks(e),qt(e);const{view:n,buffer:r,blockLen:s}=this,i=e.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Xs(e);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xn(this),Kl(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,An(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;Ey(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Xs(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=i,e.length=s,e.pos=a,s%n&&e.buffer.set(r),e}clone(){return this._cloneInto()}}const wt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cy=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),vt=new Uint32Array(64);class $y extends Sy{constructor(e=32){super(64,e,8,!1),this.A=wt[0]|0,this.B=wt[1]|0,this.C=wt[2]|0,this.D=wt[3]|0,this.E=wt[4]|0,this.F=wt[5]|0,this.G=wt[6]|0,this.H=wt[7]|0}get(){const{A:e,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[e,n,r,s,i,o,a,c]}set(e,n,r,s,i,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)vt[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const f=vt[d-15],h=vt[d-2],m=_e(f,7)^_e(f,18)^f>>>3,p=_e(h,17)^_e(h,19)^h>>>10;vt[d]=p+vt[d-7]+m+vt[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const f=_e(a,6)^_e(a,11)^_e(a,25),h=l+f+Py(a,c,u)+Cy[d]+vt[d]|0,p=(_e(r,2)^_e(r,13)^_e(r,22))+Ty(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+p|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){An(vt)}destroy(){this.set(0,0,0,0,0,0,0,0),An(this.buffer)}}const Sd=Yl(()=>new $y),Iy=Sd;function ky(t,e){return Iy(et(t,{strict:!1})?kn(t):t)}function By(t){const{commitment:e,version:n=1}=t,r=t.to??(typeof e=="string"?"hex":"bytes"),s=ky(e);return s.set([n],0),r==="bytes"?s:re(s)}function Cd(t){const{commitments:e,version:n}=t,r=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const i of e)s.push(By({commitment:i,to:r,version:n}));return s}const Ic=6,$d=32,ia=4096,Id=$d*ia,kc=Id*Ic-1-1*ia*Ic,kd=1;class My extends I{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class Bd extends I{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class Ry extends I{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class Ny extends I{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${kd}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function Fy(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Ve(t.data):t.data,r=Z(n);if(!r)throw new Bd;if(r>kc)throw new My({maxSize:kc,size:r});const s=[];let i=!0,o=0;for(;i;){const a=Go(new Uint8Array(Id));let c=0;for(;c<ia;){const u=n.slice(o,o+($d-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return e==="bytes"?s.map(a=>a.bytes):s.map(a=>re(a.bytes))}function Md(t){const{data:e,kzg:n,to:r}=t,s=t.blobs??Fy({data:e,to:r}),i=t.commitments??ra({blobs:s,kzg:n,to:r}),o=t.proofs??sa({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function Rd(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new K0({transaction:t})}async function Nd(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return tt(e)}const Dy=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Bc=new Map;async function Fd(t,e){const{account:n=t.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:u=Dy,type:l}=e,d=n&&ze(n),f={...e,...d?{from:d==null?void 0:d.address}:{}};let h;async function m(){return h||(h=await H(t,We,"getBlock")({blockTag:"latest"}),h)}let p;async function v(){return p||(s?s.id:typeof e.chainId<"u"?e.chainId:(p=await H(t,Nd,"getChainId")({}),p))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const y=await v();f.nonce=await c.consume({address:d.address,chainId:y,client:t})}else f.nonce=await H(t,Td,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const y=ra({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const w=Cd({commitments:y,to:"hex"});f.blobVersionedHashes=w}if(u.includes("sidecars")){const w=sa({blobs:r,commitments:y,kzg:o}),g=Md({blobs:r,commitments:y,proofs:w,to:"hex"});f.sidecars=g}}if(u.includes("chainId")&&(f.chainId=await v()),(u.includes("fees")||u.includes("type"))&&typeof l>"u")try{f.type=Rd(f)}catch{let y=Bc.get(t.uid);if(typeof y>"u"){const w=await m();y=typeof(w==null?void 0:w.baseFeePerGas)=="bigint",Bc.set(t.uid,y)}f.type=y?"eip1559":"legacy"}if(u.includes("fees"))if(f.type!=="legacy"&&f.type!=="eip2930"){if(typeof f.maxFeePerGas>"u"||typeof f.maxPriorityFeePerGas>"u"){const y=await m(),{maxFeePerGas:w,maxPriorityFeePerGas:g}=await Wi(t,{block:y,chain:s,request:f});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<g)throw new gy({maxPriorityFeePerGas:g});f.maxPriorityFeePerGas=g,f.maxFeePerGas=w}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new ea;if(typeof e.gasPrice>"u"){const y=await m(),{gasPrice:w}=await Wi(t,{block:y,chain:s,request:f,type:"legacy"});f.gasPrice=w}}return u.includes("gas")&&typeof i>"u"&&(f.gas=await H(t,oa,"estimateGas")({...f,account:d&&{address:d.address,type:"json-rpc"}})),Or(f),delete f.parameters,f}async function Dd(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=typeof n=="bigint"?z(n):void 0,i=await t.request({method:"eth_getBalance",params:[e,s||r]});return BigInt(i)}async function oa(t,e){var s,i,o;const{account:n=t.account}=e,r=n?ze(n):void 0;try{let G=function(M){const{block:N,request:D,rpcStateOverride:k}=M;return t.request({method:"eth_estimateGas",params:k?[D,N??"pending",k]:N?[D,N]:[D]})};const{accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,blockNumber:d,blockTag:f,data:h,gas:m,gasPrice:p,maxFeePerBlobGas:v,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:g,value:b,stateOverride:A,...P}=await Fd(t,{...e,parameters:(r==null?void 0:r.type)==="local"?void 0:["blobVersionedHashes"]}),S=(typeof d=="bigint"?z(d):void 0)||f,x=Qo(A),T=await(async()=>{if(P.to)return P.to;if(c&&c.length>0)return await ly({authorization:c[0]}).catch(()=>{throw new I("`to` is required. Could not infer from `authorizationList`")})})();Or(e);const $=(o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionRequest)==null?void 0:o.format,F=($||Lr)({...Zo(P,{format:$}),from:r==null?void 0:r.address,accessList:a,authorizationList:c,blobs:u,blobVersionedHashes:l,data:h,gas:m,gasPrice:p,maxFeePerBlobGas:v,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:g,to:T,value:b});let R=BigInt(await G({block:S,request:F,rpcStateOverride:x}));if(c){const M=await Dd(t,{address:F.from}),N=await Promise.all(c.map(async D=>{const{address:k}=D,j=await G({block:S,request:{authorizationList:void 0,data:h,from:r==null?void 0:r.address,to:k,value:z(M)},rpcStateOverride:x}).catch(()=>100000n);return 2n*BigInt(j)}));R+=N.reduce((D,k)=>D+k,0n)}return R}catch(a){throw dy(a,{...e,account:r,chain:t.chain})}}async function Ly(t,e){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=e,c=Ee({abi:n,args:s,functionName:i});try{return await H(t,oa,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const l=a.account?ze(a.account):void 0;throw Pn(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:l==null?void 0:l.address})}}function aa(t,e){if(!ee(t,{strict:!1}))throw new fe({address:t});if(!ee(e,{strict:!1}))throw new fe({address:e});return t.toLowerCase()===e.toLowerCase()}const Mc="/docs/contract/decodeEventLog";function ca(t){const{abi:e,data:n,strict:r,topics:s}=t,i=r??!0,[o,...a]=s;if(!o)throw new Em({docsPath:Mc});const c=e.length===1?e[0]:e.find(p=>p.type==="event"&&o===Bs(Oe(p)));if(!(c&&"name"in c)||c.type!=="event")throw new Ul(o,{docsPath:Mc});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(p=>!("name"in p&&p.name));let f=d?[]:{};const h=l.filter(p=>"indexed"in p&&p.indexed);for(let p=0;p<h.length;p++){const v=h[p],y=a[p];if(!y)throw new Is({abiItem:c,param:v});f[d?p:v.name||p]=jy({param:v,value:y})}const m=l.filter(p=>!("indexed"in p&&p.indexed));if(m.length>0){if(n&&n!=="0x")try{const p=Fr(m,n);if(p)if(d)f=[...f,...p];else for(let v=0;v<m.length;v++)f[m[v].name]=p[v]}catch(p){if(i)throw p instanceof Ol||p instanceof dd?new Qn({abiItem:c,data:n,params:m,size:Z(n)}):p}else if(i)throw new Qn({abiItem:c,data:"0x",params:m,size:0})}return{eventName:u,args:Object.values(f).length>0?f:void 0}}function jy({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Fr([t],e)||[])[0]}function ua(t){const{abi:e,args:n,logs:r,strict:s=!0}=t,i=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return r.map(o=>{var a;try{const c=e.find(l=>l.type==="event"&&o.topics[0]===Bs(l));if(!c)return null;const u=ca({...o,abi:[c],strict:s});return i&&!i.includes(u.eventName)||!Oy({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...o}}catch(c){let u,l;if(c instanceof Ul)return null;if(c instanceof Qn||c instanceof Is){if(s)return null;u=c.abiItem.name,l=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:l?[]:{},eventName:u}}}).filter(Boolean)}function Oy(t){const{args:e,inputs:n,matchArgs:r}=t;if(!r)return!0;if(!e)return!1;function s(i,o,a){try{return i.type==="address"?aa(o,a):i.type==="string"||i.type==="bytes"?ae(kn(o))===a:o===a}catch{return!1}}return Array.isArray(e)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,e[o])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,e[i])):!1}):!1}function ht(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function la(t,{address:e,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,l=o??(i?[i]:void 0);let d=[];l&&(d=[l.flatMap(p=>Nr({abi:[p],eventName:p.name,args:o?void 0:a}))],i&&(d=d[0]));let f;n?f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,blockHash:n}]}):f=await t.request({method:"eth_getLogs",params:[{address:e,topics:d,fromBlock:typeof r=="bigint"?z(r):r,toBlock:typeof s=="bigint"?z(s):s}]});const h=f.map(m=>ht(m));return l?ua({abi:l,args:a,logs:h,strict:u}):h}async function Ld(t,e){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=e,l=o?Jt({abi:n,name:o}):void 0,d=l?void 0:n.filter(f=>f.type==="event");return H(t,la,"getLogs")({address:r,args:s,blockHash:i,event:l,events:d,fromBlock:a,toBlock:c,strict:u})}const ei="/docs/contract/decodeFunctionResult";function Qt(t){const{abi:e,args:n,functionName:r,data:s}=t;let i=e[0];if(r){const a=Jt({abi:e,args:n,name:r});if(!a)throw new vn(r,{docsPath:ei});i=a}if(i.type!=="function")throw new vn(void 0,{docsPath:ei});if(!i.outputs)throw new zl(i.name,{docsPath:ei});const o=Fr(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const da=BigInt(0),Ki=BigInt(1);function Vr(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function fa(t){if(!Vr(t))throw new Error("Uint8Array expected")}function Er(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Jr(t){const e=t.toString(16);return e.length&1?"0"+e:e}function jd(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?da:BigInt("0x"+t)}const Od=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Vy=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Pr(t){if(fa(t),Od)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=Vy[t[n]];return e}const st={_0:48,_9:57,A:65,F:70,a:97,f:102};function Rc(t){if(t>=st._0&&t<=st._9)return t-st._0;if(t>=st.A&&t<=st.F)return t-(st.A-10);if(t>=st.a&&t<=st.f)return t-(st.a-10)}function ws(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Od)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Rc(t.charCodeAt(i)),a=Rc(t.charCodeAt(i+1));if(o===void 0||a===void 0){const c=t[i]+t[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function Ut(t){return jd(Pr(t))}function Vd(t){return fa(t),jd(Pr(Uint8Array.from(t).reverse()))}function Ur(t,e){return ws(t.toString(16).padStart(e*2,"0"))}function Ud(t,e){return Ur(t,e).reverse()}function Re(t,e,n){let r;if(typeof e=="string")try{r=ws(e)}catch(i){throw new Error(t+" must be hex string or Uint8Array, cause: "+i)}else if(Vr(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return r}function vs(...t){let e=0;for(let r=0;r<t.length;r++){const s=t[r];fa(s),e+=s.length}const n=new Uint8Array(e);for(let r=0,s=0;r<t.length;r++){const i=t[r];n.set(i,s),s+=i.length}return n}const ti=t=>typeof t=="bigint"&&da<=t;function ha(t,e,n){return ti(t)&&ti(e)&&ti(n)&&e<=t&&t<n}function wn(t,e,n,r){if(!ha(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function Uy(t){let e;for(e=0;t>da;t>>=Ki,e+=1);return e}const Ls=t=>(Ki<<BigInt(t))-Ki,ni=t=>new Uint8Array(t),Nc=t=>Uint8Array.from(t);function zy(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=ni(t),s=ni(t),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=ni(0))=>{s=a(Nc([0]),d),r=a(),d.length!==0&&(s=a(Nc([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const f=[];for(;d<e;){r=a();const h=r.slice();f.push(h),d+=r.length}return vs(...f)};return(d,f)=>{o(),c(d);let h;for(;!(h=f(u()));)c();return o(),h}}const _y={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Vr(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function js(t,e,n={}){const r=(s,i,o)=>{const a=_y[i];if(typeof a!="function")throw new Error("invalid validator function");const c=t[s];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(e))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return t}function Fc(t){const e=new WeakMap;return(n,...r)=>{const s=e.get(n);if(s!==void 0)return s;const i=t(n,...r);return e.set(n,i),i}}const Hy="0.1.1";function qy(){return Hy}class K extends Error{constructor(e,n={}){const r=(()=>{var c;if(n.cause instanceof K){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof K&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${qy()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=e}walk(e){return zd(this,e)}}function zd(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?zd(t.cause,e):e?null:t}const Gy="#__bigint";function Wy(t,e,n){return JSON.stringify(t,(r,s)=>typeof s=="bigint"?s.toString()+Gy:s,n)}function Ky(t,e){if(Lc(t)>e)throw new sg({givenSize:Lc(t),maxSize:e})}const it={zero:48,nine:57,A:65,F:70,a:97,f:102};function Dc(t){if(t>=it.zero&&t<=it.nine)return t-it.zero;if(t>=it.A&&t<=it.F)return t-(it.A-10);if(t>=it.a&&t<=it.f)return t-(it.a-10)}function Yy(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;if(t.length>r)throw new ig({size:t.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=t[o?i:t.length-i-1]}return s}function pa(t,e){if(Fe(t)>e)throw new lg({givenSize:Fe(t),maxSize:e})}function Xy(t,e){if(typeof e=="number"&&e>0&&e>Fe(t)-1)throw new Wd({offset:e,position:"start",size:Fe(t)})}function Zy(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Fe(t)!==n-e)throw new Wd({offset:n,position:"end",size:Fe(t)})}function _d(t,e={}){const{dir:n,size:r=32}=e;if(r===0)return t;const s=t.replace("0x","");if(s.length>r*2)throw new dg({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Jy=new TextEncoder;function Qy(t){return t instanceof Uint8Array?t:typeof t=="string"?tg(t):eg(t)}function eg(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function tg(t,e={}){const{size:n}=e;let r=t;n&&(pa(t,n),r=Xt(t,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=Dc(s.charCodeAt(c++)),l=Dc(s.charCodeAt(c++));if(u===void 0||l===void 0)throw new K(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+l}return o}function ng(t,e={}){const{size:n}=e,r=Jy.encode(t);return typeof n=="number"?(Ky(r,n),rg(r,n)):r}function rg(t,e){return Yy(t,{dir:"right",size:e})}function Lc(t){return t.length}let sg=class extends K{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},ig=class extends K{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const og=new TextEncoder,ag=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cg(t,e={}){const{strict:n=!1}=e;if(!t)throw new jc(t);if(typeof t!="string")throw new jc(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new Oc(t);if(!t.startsWith("0x"))throw new Oc(t)}function nt(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function Hd(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(pa(n,e.size),Yt(n,e.size)):n}function qd(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=ag[t[s]];const r=`0x${n}`;return typeof e.size=="number"?(pa(r,e.size),Xt(r,e.size)):r}function ye(t,e={}){const{signed:n,size:r}=e,s=BigInt(t);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof t=="bigint"?"n":"";throw new Gd({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${t}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Yt(c,r):c}function ma(t,e={}){return qd(og.encode(t),e)}function Yt(t,e){return _d(t,{dir:"left",size:e})}function Xt(t,e){return _d(t,{dir:"right",size:e})}function ya(t,e,n,r={}){const{strict:s}=r;Xy(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&Zy(i,e,n),i}function Fe(t){return Math.ceil((t.length-2)/2)}function ug(t,e={}){const{strict:n=!1}=e;try{return cg(t,{strict:n}),!0}catch{return!1}}class Gd extends K{constructor({max:e,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class jc extends K{constructor(e){super(`Value \`${typeof e=="object"?Wy(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class Oc extends K{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class lg extends K{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class Wd extends K{constructor({offset:e,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class dg extends K{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function fg(t){return{address:t.address,amount:ye(t.amount),index:ye(t.index),validatorIndex:ye(t.validatorIndex)}}function Kd(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:ye(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:ye(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:ye(t.gasLimit)},...typeof t.number=="bigint"&&{number:ye(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:ye(t.prevRandao)},...typeof t.time=="bigint"&&{time:ye(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(fg)}}}const Yi=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],Xi=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],Yd=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],Xd=[...Yd,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],hg=[...Yd,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],Vc=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Uc=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],zc=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],pg="0x82ad56cb",Zd="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",mg="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",yg="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class Zi extends I{constructor({blockNumber:e,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...e&&r.blockCreated&&r.blockCreated>e?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class Jd extends I{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class zr extends I{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const ri="/docs/contract/encodeDeployData";function ga(t){const{abi:e,args:n,bytecode:r}=t;if(!n||n.length===0)return r;const s=e.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new bm({docsPath:ri});if(!("inputs"in s))throw new lc({docsPath:ri});if(!s.inputs||s.inputs.length===0)throw new lc({docsPath:ri});const i=$t(s.inputs,n);return De([r,i])}function Bn({blockNumber:t,chain:e,contract:n}){var s;const r=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!r)throw new Zi({chain:e,contract:{name:n}});if(t&&r.blockCreated&&r.blockCreated>t)throw new Zi({blockNumber:t,chain:e,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function Qd(t,{docsPath:e,...n}){const r=(()=>{const s=Xo(t,n);return s instanceof Fs?t:s})();return new gd(r,{docsPath:e,...n})}function ef(){let t=()=>{},e=()=>{};return{promise:new Promise((r,s)=>{t=r,e=s}),resolve:t,reject:e}}const si=new Map;function tf({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const l=c();o();const d=l.map(({args:f})=>f);d.length!==0&&t(d).then(f=>{s&&Array.isArray(f)&&f.sort(s);for(let h=0;h<l.length;h++){const{resolve:m}=l[h];m==null||m([f[h],f])}}).catch(f=>{for(let h=0;h<l.length;h++){const{reject:m}=l[h];m==null||m(f)}})},o=()=>si.delete(e),a=()=>c().map(({args:l})=>l),c=()=>si.get(e)||[],u=l=>si.set(e,[...c(),l]);return{flush:o,async schedule(l){const{promise:d,resolve:f,reject:h}=ef();return(n==null?void 0:n([...a(),l]))&&i(),c().length>0?(u({args:l,resolve:f,reject:h}),d):(u({args:l,resolve:f,reject:h}),setTimeout(i,r),d)}}}async function _r(t,e){var F,G,R,M;const{account:n=t.account,authorizationList:r,batch:s=!!((F=t.batch)!=null&&F.multicall),blockNumber:i,blockTag:o="pending",accessList:a,blobs:c,blockOverrides:u,code:l,data:d,factory:f,factoryData:h,gas:m,gasPrice:p,maxFeePerBlobGas:v,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:g,to:b,value:A,stateOverride:P,...C}=e,S=n?ze(n):void 0;if(l&&(f||h))throw new I("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&b)throw new I("Cannot provide both `code` & `to` as parameters.");const x=l&&d,T=f&&h&&b&&d,$=x||T,B=x?wg({code:l,data:d}):T?vg({data:d,factory:f,factoryData:h,to:b}):d;try{Or(e);const D=(typeof i=="bigint"?z(i):void 0)||o,k=u?Kd(u):void 0,j=Qo(P),W=(M=(R=(G=t.chain)==null?void 0:G.formatters)==null?void 0:R.transactionRequest)==null?void 0:M.format,he=(W||Lr)({...Zo(C,{format:W}),from:S==null?void 0:S.address,accessList:a,authorizationList:r,blobs:c,data:B,gas:m,gasPrice:p,maxFeePerBlobGas:v,maxFeePerGas:y,maxPriorityFeePerGas:w,nonce:g,to:$?void 0:b,value:A});if(s&&gg({request:he})&&!j&&!k)try{return await bg(t,{...he,blockNumber:i,blockTag:o})}catch(ie){if(!(ie instanceof Jd)&&!(ie instanceof Zi))throw ie}const pe=(()=>{const ie=[he,D];return j&&k?[...ie,j,k]:j?[...ie,j]:k?[...ie,{},k]:ie})(),ne=await t.request({method:"eth_call",params:pe});return ne==="0x"?{data:void 0}:{data:ne}}catch(N){const D=xg(N),{offchainLookup:k,offchainLookupSignature:j}=await bd(async()=>{const{offchainLookup:W,offchainLookupSignature:Y}=await import("./ccip-CEGzUVFx.js");return{offchainLookup:W,offchainLookupSignature:Y}},__vite__mapDeps([0,1]));if(t.ccipRead!==!1&&(D==null?void 0:D.slice(0,10))===j&&b)return{data:await k(t,{data:D,to:b})};throw $&&(D==null?void 0:D.slice(0,10))==="0x101bb98d"?new Q0({factory:f}):Qd(N,{...e,account:S,chain:t.chain})}}function gg({request:t}){const{data:e,to:n,...r}=t;return!(!e||e.startsWith(pg)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function bg(t,e){var p;const{batchSize:n=1024,wait:r=0}=typeof((p=t.batch)==null?void 0:p.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:i="pending",data:o,multicallAddress:a,to:c}=e;let u=a;if(!u){if(!t.chain)throw new Jd;u=Bn({blockNumber:s,chain:t.chain,contract:"multicall3"})}const d=(typeof s=="bigint"?z(s):void 0)||i,{schedule:f}=tf({id:`${t.uid}.${d}`,wait:r,shouldSplitBatch(v){return v.reduce((w,{data:g})=>w+(g.length-2),0)>n*2},fn:async v=>{const y=v.map(b=>({allowFailure:!0,callData:b.data,target:b.to})),w=Ee({abi:Yi,args:[y],functionName:"aggregate3"}),g=await t.request({method:"eth_call",params:[{data:w,to:u},d]});return Qt({abi:Yi,args:[y],functionName:"aggregate3",data:g||"0x"})}}),[{returnData:h,success:m}]=await f({data:o,to:c});if(!m)throw new Ns({data:h});return h==="0x"?{data:void 0}:{data:h}}function wg(t){const{code:e,data:n}=t;return ga({abi:Dl(["constructor(bytes, bytes)"]),bytecode:Zd,args:[e,n]})}function vg(t){const{data:e,factory:n,factoryData:r,to:s}=t;return ga({abi:Dl(["constructor(address, bytes, address, bytes)"]),bytecode:mg,args:[s,e,n,r]})}function xg(t){var n;if(!(t instanceof I))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function pt(t,e){const{abi:n,address:r,args:s,functionName:i,...o}=e,a=Ee({abi:n,args:s,functionName:i});try{const{data:c}=await H(t,_r,"call")({...o,data:a,to:r});return Qt({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Pn(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function Ag(t,e){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=e,c=a.account?ze(a.account):t.account,u=Ee({abi:n,args:s,functionName:o});try{const{data:l}=await H(t,_r,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=Qt({abi:n,args:s,functionName:o,data:l||"0x"}),f=n.filter(h=>"name"in h&&h.name===e.functionName);return{result:d,request:{abi:f,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(l){throw Pn(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const ii=new Map,_c=new Map;let Eg=0;function Tt(t,e,n){const r=++Eg,s=()=>ii.get(t)||[],i=()=>{const l=s();ii.set(t,l.filter(d=>d.id!==r))},o=()=>{const l=s();if(!l.some(f=>f.id===r))return;const d=_c.get(t);l.length===1&&d&&d(),i()},a=s();if(ii.set(t,[...a,{id:r,fns:e}]),a&&a.length>0)return o;const c={};for(const l in e)c[l]=(...d)=>{var h,m;const f=s();if(f.length!==0)for(const p of f)(m=(h=p.fns)[l])==null||m.call(h,...d)};const u=n(c);return typeof u=="function"&&_c.set(t,u),o}async function Ji(t){return new Promise(e=>setTimeout(e,t))}function Hr(t,{emitOnBegin:e,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;e&&(a=await t({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await Ji(c);const u=async()=>{s&&(await t({unpoll:i}),await Ji(r),u())};u()})(),i}const Pg=new Map,Tg=new Map;function Sg(t){const e=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=e(t,Pg),r=e(t,Tg);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Cg(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const r=Sg(e),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=t(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const $g=t=>`blockNumber.${t}`;async function qr(t,{cacheTime:e=t.cacheTime}={}){const n=await Cg(()=>t.request({method:"eth_blockNumber"}),{cacheKey:$g(t.uid),cacheTime:e});return BigInt(n)}async function Os(t,{filter:e}){const n="strict"in e&&e.strict,r=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>ht(i));return!("abi"in e)||!e.abi?s:ua({abi:e.abi,logs:s,strict:n})}async function Vs(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Ig(t,e){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:d=t.pollingInterval,strict:f}=e;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const v=f??!1,y=ce(["watchContractEvent",r,s,i,t.uid,o,d,v,a]);return Tt(y,{onLogs:u,onError:c},w=>{let g;a!==void 0&&(g=a-1n);let b,A=!1;const P=Hr(async()=>{var C;if(!A){try{b=await H(t,cd,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:v,fromBlock:a})}catch{}A=!0;return}try{let S;if(b)S=await H(t,Os,"getFilterChanges")({filter:b});else{const x=await H(t,qr,"getBlockNumber")({});g&&g<x?S=await H(t,Ld,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:g+1n,toBlock:x,strict:v}):S=[],g=x}if(S.length===0)return;if(i)w.onLogs(S);else for(const x of S)w.onLogs([x])}catch(S){b&&S instanceof Kt&&(A=!1),(C=w.onError)==null||C.call(w,S)}},{emitOnBegin:!0,interval:d});return async()=>{b&&await H(t,Vs,"uninstallFilter")({filter:b}),P()}})})():(()=>{const v=f??!1,y=ce(["watchContractEvent",r,s,i,t.uid,o,d,v]);let w=!0,g=()=>w=!1;return Tt(y,{onLogs:u,onError:c},b=>((async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const S=t.transport.transports.find(x=>x.config.type==="webSocket");return S?S.value:t.transport}return t.transport})(),P=o?Nr({abi:n,eventName:o,args:s}):[],{unsubscribe:C}=await A.subscribe({params:["logs",{address:r,topics:P}],onData(S){var T;if(!w)return;const x=S.result;try{const{eventName:$,args:B}=ca({abi:n,data:x.data,topics:x.topics,strict:f}),F=ht(x,{args:B,eventName:$});b.onLogs([F])}catch($){let B,F;if($ instanceof Qn||$ instanceof Is){if(f)return;B=$.abiItem.name,F=(T=$.abiItem.inputs)==null?void 0:T.some(R=>!("name"in R&&R.name))}const G=ht(x,{args:F?[]:{},eventName:B});b.onLogs([G])}},onError(S){var x;(x=b.onError)==null||x.call(b,S)}});g=C,w||g()}catch(A){c==null||c(A)}})(),()=>g()))})()}async function kg(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const Bg={"0x0":"reverted","0x1":"success"};function Mg(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>ht(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?tt(t.transactionIndex):null,status:t.status?Bg[t.status]:null,type:t.type?Ed[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const Qi=256;let Qr=Qi,es;function nf(t=11){if(!es||Qr+t>Qi*2){es="",Qr=0;for(let e=0;e<Qi;e++)es+=(256+Math.random()*256|0).toString(16).substring(1)}return es.substring(Qr,Qr+++t)}function Rg(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:r,key:s="base",name:i="Base Client",pollingInterval:o=4e3,type:a="base"}=t,c=t.chain,u=t.account?ze(t.account):void 0,{config:l,request:d,value:f}=t.transport({chain:c,pollingInterval:o}),h={...l,...f},m={account:u,batch:e,cacheTime:n,ccipRead:r,chain:c,key:s,name:i,pollingInterval:o,request:d,transport:h,type:a,uid:nf()};function p(v){return y=>{const w=y(v);for(const b in m)delete w[b];const g={...v,...w};return Object.assign(g,{extend:p(g)})}}return Object.assign(m,{extend:p(m)})}const ts=new zo(8192);function Ng(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ts.get(n))return ts.get(n);const r=t().finally(()=>ts.delete(n));return ts.set(n,r),r}function eo(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof e=="function"?e({count:a,error:u}):e;l&&await Ji(l),o({count:a+1})};try{const u=await t();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}function Fg(t,e={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:u}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new Ft(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new Ft(new Error("method not supported"),{method:u});const l=s?er(`${c}.${ce(n)}`):void 0;return Ng(()=>eo(async()=>{try{return await t(n)}catch(f){const h=f;switch(h.code){case rr.code:throw new rr(h);case sr.code:throw new sr(h);case ir.code:throw new ir(h,{method:n.method});case or.code:throw new or(h);case Wt.code:throw new Wt(h);case Kt.code:throw new Kt(h);case ar.code:throw new ar(h);case cr.code:throw new cr(h);case ur.code:throw new ur(h);case Ft.code:throw new Ft(h,{method:n.method});case En.code:throw new En(h);case lr.code:throw new lr(h);case yn.code:throw new yn(h);case dr.code:throw new dr(h);case fr.code:throw new fr(h);case hr.code:throw new hr(h);case pr.code:throw new pr(h);case mr.code:throw new mr(h);case yr.code:throw new yr(h);case gr.code:throw new gr(h);case br.code:throw new br(h);case wr.code:throw new wr(h);case vr.code:throw new vr(h);case xr.code:throw new xr(h);case Ar.code:throw new Ar(h);case 5e3:throw new yn(h);default:throw f instanceof I?f:new ty(h)}}},{delay:({count:f,error:h})=>{var m;if(h&&h instanceof Wn){const p=(m=h==null?void 0:h.headers)==null?void 0:m.get("Retry-After");if(p!=null&&p.match(/\d/))return Number.parseInt(p)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Dg(f)}),{enabled:s,id:l})}}function Dg(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===En.code||t.code===Wt.code:t instanceof Wn&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Lg({key:t,methods:e,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=nf();return{config:{key:t,methods:e,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:Fg(r,{methods:e,retryCount:s,retryDelay:i,uid:u}),value:c}}class jg extends I{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Og(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(e),i(a)}finally{clearTimeout(o)}})()})}function Vg(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Hc=Vg();function Ug(t,e={}){return{async request(n){var d;const{body:r,onRequest:s=e.onRequest,onResponse:i=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:l}=a;try{const f=await Og(async({signal:m})=>{const p={...a,body:Array.isArray(r)?ce(r.map(g=>({jsonrpc:"2.0",id:g.id??Hc.take(),...g}))):ce({jsonrpc:"2.0",id:r.id??Hc.take(),...r}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:l||(o>0?m:null)},v=new Request(t,p),y=await(s==null?void 0:s(v,p))??{...p,url:t};return await fetch(y.url??t,y)},{errorInstance:new Tc({body:r,url:t}),timeout:o,signal:!0});i&&await i(f);let h;if((d=f.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))h=await f.json();else{h=await f.text();try{h=JSON.parse(h||"{}")}catch(m){if(f.ok)throw m;h={error:h}}}if(!f.ok)throw new Wn({body:r,details:ce(h.error)||f.statusText,headers:f.headers,status:f.status,url:t});return h}catch(f){throw f instanceof Wn||f instanceof Tc?f:new Wn({body:r,cause:f,url:t})}}}}function ls(t,e={}){const{batch:n,fetchOptions:r,key:s="http",methods:i,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:u,raw:l}=e;return({chain:d,retryCount:f,timeout:h})=>{const{batchSize:m=1e3,wait:p=0}=typeof n=="object"?n:{},v=e.retryCount??f,y=h??e.timeout??1e4,w=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!w)throw new jg;const g=Ug(w,{fetchOptions:r,onRequest:a,onResponse:c,timeout:y});return Lg({key:s,methods:i,name:o,async request({method:b,params:A}){const P={method:b,params:A},{schedule:C}=tf({id:w,wait:p,shouldSplitBatch($){return $.length>m},fn:$=>g.request({body:$}),sort:($,B)=>$.id-B.id}),S=async $=>n?C($):[await g.request({body:$})],[{error:x,result:T}]=await S(P);if(l)return{error:x,result:T};if(x)throw new Yo({body:P,error:x,url:w});return T},retryCount:v,retryDelay:u,timeout:y,type:"http"},{fetchOptions:r,url:w})}}function ba(t,e){var r,s,i,o,a,c;if(!(t instanceof I))return!1;const n=t.walk(u=>u instanceof mn);return n instanceof mn?!!(((r=n.data)==null?void 0:r.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((i=n.data)==null?void 0:i.errorName)==="ResolverNotContract"||((o=n.data)==null?void 0:o.errorName)==="ResolverError"||((a=n.data)==null?void 0:a.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===ud[50]):!1}function zg(t){const{abi:e,data:n}=t,r=Gt(n,0,4),s=e.find(i=>i.type==="function"&&r===Rr(Oe(i)));if(!s)throw new Pm(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Fr(s.inputs,Gt(n,4)):void 0}}const oi="/docs/contract/encodeErrorResult";function qc(t){const{abi:e,errorName:n,args:r}=t;let s=e[0];if(n){const c=Jt({abi:e,args:r,name:n});if(!c)throw new dc(n,{docsPath:oi});s=c}if(s.type!=="error")throw new dc(void 0,{docsPath:oi});const i=Oe(s),o=Rr(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new Am(s.name,{docsPath:oi});a=$t(s.inputs,r)}return De([o,a])}const ai="/docs/contract/encodeFunctionResult";function _g(t){const{abi:e,functionName:n,result:r}=t;let s=e[0];if(n){const o=Jt({abi:e,name:n});if(!o)throw new vn(n,{docsPath:ai});s=o}if(s.type!=="function")throw new vn(void 0,{docsPath:ai});if(!s.outputs)throw new zl(s.name,{docsPath:ai});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new _l(r)})();return $t(s.outputs,i)}const rf="x-batch-gateway:true";async function UE(t){const{data:e,ccipRequest:n}=t,{args:[r]}=zg({abi:Xi,data:e}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=Hg(c)}})),_g({abi:Xi,functionName:"query",result:[s,i]})}function Hg(t){return t.name==="HttpRequestError"&&t.status?qc({abi:Xi,errorName:"HttpError",args:[t.status,t.shortMessage]}):qc({abi:[ld],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function sf(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return et(e)?e:null}function ds(t){let e=new Uint8Array(32).fill(0);if(!t)return re(e);const n=t.split(".");for(let r=n.length-1;r>=0;r-=1){const s=sf(n[r]),i=s?kn(s):ae(Vt(n[r]),"bytes");e=ae(dt([e,i]),"bytes")}return re(e)}function qg(t){return`[${t.slice(2)}]`}function Gg(t){const e=new Uint8Array(32).fill(0);return t?sf(t)||ae(Vt(t)):re(e)}function Us(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Vt(e).byteLength+2);let r=0;const s=e.split(".");for(let i=0;i<s.length;i++){let o=Vt(s[i]);o.byteLength>255&&(o=Vt(qg(Gg(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Wg(t,e){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Bn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(d=>i.endsWith(d)))return null;try{const d=Ee({abi:Uc,functionName:"addr",...s!=null?{args:[ds(i),BigInt(s)]}:{args:[ds(i)]}}),f={address:u,abi:Xd,functionName:"resolve",args:[U(Us(i)),d,o??[rf]],blockNumber:n,blockTag:r},m=await H(t,pt,"readContract")(f);if(m[0]==="0x")return null;const p=Qt({abi:Uc,args:s!=null?[ds(i),BigInt(s)]:void 0,functionName:"addr",data:m[0]});return p==="0x"||Se(p)==="0x00"?null:p}catch(d){if(a)throw d;if(ba(d,"resolve"))return null;throw d}}class Kg extends I{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class zn extends I{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class wa extends I{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Yg extends I{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Xg=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Zg=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Jg=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Qg=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function eb(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=t})}}function Gc(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function of({uri:t,gatewayUrls:e}){const n=Jg.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const r=Gc(e==null?void 0:e.ipfs,"https://ipfs.io"),s=Gc(e==null?void 0:e.arweave,"https://arweave.net"),i=t.match(Xg),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},l=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||Zg.test(t);if(t.startsWith("http")&&!l&&!d){let h=t;return e!=null&&e.arweave&&(h=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let f=t.replace(Qg,"");if(f.startsWith("<svg")&&(f=`data:image/svg+xml;base64,${btoa(f)}`),f.startsWith("data:")||f.startsWith("{"))return{uri:f,isOnChain:!0,isEncoded:!1};throw new wa({uri:t})}function af(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Kg({data:t});return t.image||t.image_url||t.image_data}async function tb({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await va({gatewayUrls:t,uri:af(n)})}catch{throw new wa({uri:e})}}async function va({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:r}=of({uri:e,gatewayUrls:t});if(r||await eb(n))return n;throw new wa({uri:e})}function nb(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=e.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new zn({reason:"Only EIP-155 supported"});if(!o)throw new zn({reason:"Chain ID not found"});if(!c)throw new zn({reason:"Contract address not found"});if(!s)throw new zn({reason:"Token ID not found"});if(!a)throw new zn({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function rb(t,{nft:e}){if(e.namespace==="erc721")return pt(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return pt(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Yg({namespace:e.namespace})}async function sb(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?ib(t,{gatewayUrls:e,record:n}):va({uri:n,gatewayUrls:e})}async function ib(t,{gatewayUrls:e,record:n}){const r=nb(n),s=await rb(t,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=of({uri:s,gatewayUrls:e});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,l=JSON.parse(u);return va({uri:af(l),gatewayUrls:e})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),tb({gatewayUrls:e,uri:i.replace(/(?:0x)?{id}/,c)})}async function cf(t,e){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Bn({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:Xd,functionName:"resolve",args:[U(Us(i)),Ee({abi:Vc,functionName:"text",args:[ds(i),s]}),o??[rf]],blockNumber:n,blockTag:r},h=await H(t,pt,"readContract")(d);if(h[0]==="0x")return null;const m=Qt({abi:Vc,functionName:"text",data:h[0]});return m===""?null:m}catch(d){if(a)throw d;if(ba(d,"resolve"))return null;throw d}}async function ob(t,{blockNumber:e,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await H(t,cf,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await sb(t,{record:c,gatewayUrls:r})}catch{return null}}async function ab(t,{address:e,blockNumber:n,blockTag:r,gatewayUrls:s,strict:i,universalResolverAddress:o}){let a=o;if(!a){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");a=Bn({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:a,abi:hg,functionName:"reverse",args:[U(Us(c))],blockNumber:n,blockTag:r},l=H(t,pt,"readContract"),[d,f]=s?await l({...u,args:[...u.args,s]}):await l(u);return e.toLowerCase()!==f.toLowerCase()?null:d}catch(u){if(i)throw u;if(ba(u,"reverse"))return null;throw u}}async function cb(t,e){const{blockNumber:n,blockTag:r,name:s}=e,{chain:i}=t,o=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return Bn({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await H(t,pt,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[U(Us(s))],blockNumber:n,blockTag:r});return c}async function uf(t,e){var v,y,w;const{account:n=t.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:f,value:h,...m}=e,p=n?ze(n):void 0;try{Or(e);const b=(typeof r=="bigint"?z(r):void 0)||s,A=(w=(y=(v=t.chain)==null?void 0:v.formatters)==null?void 0:y.transactionRequest)==null?void 0:w.format,C=(A||Lr)({...Zo(m,{format:A}),from:p==null?void 0:p.address,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:f,value:h}),S=await t.request({method:"eth_createAccessList",params:[C,b]});return{accessList:S.accessList,gasUsed:BigInt(S.gasUsed)}}catch(g){throw Qd(g,{...e,account:p,chain:t.chain})}}async function ub(t){const e=Rs(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function lf(t,{address:e,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Rs(t,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>Nr({abi:[h],eventName:h.name,args:n}))],r&&(l=l[0]));const d=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof i=="bigint"?z(i):i,toBlock:typeof a=="bigint"?z(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function df(t){const e=Rs(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function lb(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function db(t,{blockHash:e,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?z(n):void 0;let i;return e?i=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):i=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),tt(i)}async function Wc(t,{address:e,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?z(n):void 0,i=await t.request({method:"eth_getCode",params:[e,s||r]},{dedupe:!!s});if(i!=="0x")return i}class fb extends I{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function hb(t,e){const{address:n,factory:r,factoryData:s}=e;try{const[i,o,a,c,u,l,d]=await H(t,pt,"readContract")({abi:pb,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new fb({address:n}):o}}const pb=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function mb(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(r=>BigInt(r)))}}async function yb(t,{blockCount:e,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?z(n):void 0,o=await t.request({method:"eth_feeHistory",params:[z(e),i||r,s]},{dedupe:!!i});return mb(o)}async function gb(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(i=>ht(i));return e.abi?ua({abi:e.abi,logs:s,strict:n}):s}function It(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}class bb extends I{constructor({domain:e}){super(`Invalid domain "${ce(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class wb extends I{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class vb extends I{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function xb(t){const{domain:e={},message:n,primaryType:r}=t,s={EIP712Domain:Sb({domain:e}),...t.types};Tb({domain:e,message:n,primaryType:r,types:s});const i=["0x1901"];return e&&i.push(Ab({domain:e,types:s})),r!=="EIP712Domain"&&i.push(ff({data:n,primaryType:r,types:s})),ae(dt(i))}function Ab({domain:t,types:e}){return ff({data:t,primaryType:"EIP712Domain",types:e})}function ff({data:t,primaryType:e,types:n}){const r=hf({data:t,primaryType:e,types:n});return ae(r)}function hf({data:t,primaryType:e,types:n}){const r=[{type:"bytes32"}],s=[Eb({primaryType:e,types:n})];for(const i of n[e]){const[o,a]=mf({types:n,name:i.name,type:i.type,value:t[i.name]});r.push(o),s.push(a)}return $t(r,s)}function Eb({primaryType:t,types:e}){const n=U(Pb({primaryType:t,types:e}));return ae(n)}function Pb({primaryType:t,types:e}){let n="";const r=pf({primaryType:t,types:e});r.delete(t);const s=[t,...Array.from(r).sort()];for(const i of s)n+=`${i}(${e[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function pf({primaryType:t,types:e},n=new Set){const r=t.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const i of e[s])pf({primaryType:i.type,types:e},n);return n}function mf({types:t,name:e,type:n,value:r}){if(t[n]!==void 0)return[{type:"bytes32"},ae(hf({data:r,primaryType:n,types:t}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},ae(r)];if(n==="string")return[{type:"bytes32"},ae(U(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>mf({name:e,type:s,types:t,value:o}));return[{type:"bytes32"},ae($t(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}function Tb(t){const{domain:e,message:n,primaryType:r,types:s}=t,i=(o,a)=>{for(const c of o){const{name:u,type:l}=c,d=a[u],f=l.match(od);if(f&&(typeof d=="number"||typeof d=="bigint")){const[p,v,y]=f;z(d,{signed:v==="int",size:Number.parseInt(y)/8})}if(l==="address"&&typeof d=="string"&&!ee(d))throw new fe({address:d});const h=l.match(b0);if(h){const[p,v]=h;if(v&&Z(d)!==Number.parseInt(v))throw new Sm({expectedSize:Number.parseInt(v),givenSize:Z(d)})}const m=s[l];m&&(Cb(l),i(m,d))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new bb({domain:e});i(s.EIP712Domain,e)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new wb({primaryType:r,types:s})}function Sb({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Cb(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new vb({type:t})}function $b(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:r}=n,s=n.address;if(!ee(s))throw new fe({address:s});if(r<0)throw new zr({chainId:r})}xa(t)}function Ib(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new Bd;for(const n of e){const r=Z(n),s=tt(Gt(n,0,1));if(r!==32)throw new Ry({hash:n,size:r});if(s!==kd)throw new Ny({hash:n,version:s})}}xa(t)}function xa(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=t;if(e<=0)throw new zr({chainId:e});if(s&&!ee(s))throw new fe({address:s});if(r&&r>jr)throw new Pt({maxFeePerGas:r});if(n&&r&&n>r)throw new Tn({maxFeePerGas:r,maxPriorityFeePerGas:n})}function kb(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(e<=0)throw new zr({chainId:e});if(i&&!ee(i))throw new fe({address:i});if(n||s)throw new I("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>jr)throw new Pt({maxFeePerGas:r})}function Bb(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=t;if(i&&!ee(i))throw new fe({address:i});if(typeof e<"u"&&e<=0)throw new zr({chainId:e});if(n||s)throw new I("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>jr)throw new Pt({maxFeePerGas:r})}function Gr(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:r,storageKeys:s}=t[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new Y0({storageKey:s[i]});if(!ee(r,{strict:!1}))throw new fe({address:r});e.push([r,s])}return e}function Mb(t,e){const n=Rd(t);return n==="eip1559"?Fb(t,e):n==="eip2930"?Db(t,e):n==="eip4844"?Nb(t,e):n==="eip7702"?Rb(t,e):Lb(t,e)}function Rb(t,e){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=t;$b(t);const f=Gr(l),h=jb(n);return De(["0x04",ft([U(r),i?U(i):"0x",u?U(u):"0x",c?U(c):"0x",s?U(s):"0x",o??"0x",a?U(a):"0x",d??"0x",f,h,...Mn(t,e)])])}function Nb(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=t;Ib(t);let f=t.blobVersionedHashes,h=t.sidecars;if(t.blobs&&(typeof f>"u"||typeof h>"u")){const g=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(P=>re(P)),b=t.kzg,A=ra({blobs:g,kzg:b});if(typeof f>"u"&&(f=Cd({commitments:A})),typeof h>"u"){const P=sa({blobs:g,commitments:A,kzg:b});h=Md({blobs:g,commitments:A,proofs:P})}}const m=Gr(l),p=[U(n),s?U(s):"0x",u?U(u):"0x",c?U(c):"0x",r?U(r):"0x",i??"0x",o?U(o):"0x",d??"0x",m,a?U(a):"0x",f??[],...Mn(t,e)],v=[],y=[],w=[];if(h)for(let g=0;g<h.length;g++){const{blob:b,commitment:A,proof:P}=h[g];v.push(b),y.push(A),w.push(P)}return De(["0x03",ft(h?[p,v,y,w]:p)])}function Fb(t,e){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=t;xa(t);const d=Gr(u),f=[U(n),s?U(s):"0x",c?U(c):"0x",a?U(a):"0x",r?U(r):"0x",i??"0x",o?U(o):"0x",l??"0x",d,...Mn(t,e)];return De(["0x02",ft(f)])}function Db(t,e){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=t;kb(t);const l=Gr(c),d=[U(n),i?U(i):"0x",u?U(u):"0x",r?U(r):"0x",o??"0x",a?U(a):"0x",s??"0x",l,...Mn(t,e)];return De(["0x01",ft(d)])}function Lb(t,e){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=t;Bb(t);let u=[i?U(i):"0x",c?U(c):"0x",r?U(r):"0x",o??"0x",a?U(a):"0x",s??"0x"];if(e){const l=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const h=27n+(e.v===27n?0n:1n);if(e.v!==h)throw new W0({v:e.v});return h})(),d=Se(e.r),f=Se(e.s);u=[...u,U(l),d==="0x00"?"0x":d,f==="0x00"?"0x":f]}else n>0&&(u=[...u,U(n),"0x","0x"]);return ft(u)}function Mn(t,e){const n=e??t,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=Se(n.r),o=Se(n.s);return[typeof s=="number"?s?U(1):"0x":r===0n?"0x":r===1n?U(1):r===27n?"0x":U(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function jb(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:r,nonce:s,...i}=n,o=n.address;e.push([r?U(r):"0x",o,s?U(s):"0x",...Mn({},i)])}return e}const Ob=`Ethereum Signed Message:
`;function Vb(t){const e=typeof t=="string"?er(t):typeof t.raw=="string"?t.raw:re(t.raw),n=er(`${Ob}${Z(e)}`);return dt([n,e])}function yf(t,e){return ae(Vb(t),e)}const gf="0x6492649264926492649264926492649264926492649264926492649264926492";function Ub(t){return id(t,-32)===gf}function zb(t){const{address:e,data:n,signature:r,to:s="hex"}=t,i=De([$t([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,r]),gf]);return s==="hex"?i:Ve(i)}class _b extends I{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Hb(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new _b({value:t});let[n,r="0"]=t.split(".");const s=n.startsWith("-");if(s&&(n=n.slice(1)),r=r.replace(/(0+)$/,""),e===0)Math.round(+`.${r}`)===1&&(n=`${BigInt(n)+1n}`),r="";else if(r.length>e){const[i,o,a]=[r.slice(0,e-1),r.slice(e-1,e),r.slice(e)],c=Math.round(+`${o}.${a}`);c>9?r=`${BigInt(i)+BigInt(1)}0`.padStart(i.length+1,"0"):r=`${i}${c}`,r.length>e&&(r=r.slice(1),n=`${BigInt(n)+1n}`),r=r.slice(0,e)}else r=r.padEnd(e,"0");return BigInt(`${s?"-":""}${n}${r}`)}function ci(t,e="wei"){return Hb(t,hd[e])}function qb(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function Gb(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?tt(t.nonce):void 0,storageProof:t.storageProof?qb(t.storageProof):void 0}}async function Wb(t,{address:e,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?z(n):void 0,a=await t.request({method:"eth_getProof",params:[e,s,o||i]});return Gb(a)}async function Kb(t,{address:e,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?z(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,i||r]})}async function Aa(t,{blockHash:e,blockNumber:n,blockTag:r,hash:s,index:i}){var l,d,f;const o=r||"latest",a=n!==void 0?z(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,z(i)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,z(i)]},{dedupe:!!a}),!c)throw new md({blockHash:e,blockNumber:n,blockTag:o,hash:s,index:i});return(((f=(d=(l=t.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:f.format)||Ds)(c)}async function bf(t,{hash:e,transactionReceipt:n}){const[r,s]=await Promise.all([H(t,qr,"getBlockNumber")({}),e?H(t,Aa,"getTransaction")({hash:e}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function xs(t,{hash:e}){var s,i,o;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new yd({hash:e});return(((o=(i=(s=t.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||Mg)(n)}async function Yb(t,e){var y;const{account:n,allowFailure:r=!0,batchSize:s,blockNumber:i,blockTag:o,multicallAddress:a,stateOverride:c}=e,u=e.contracts,l=s??(typeof((y=t.batch)==null?void 0:y.multicall)=="object"&&t.batch.multicall.batchSize||1024);let d=a;if(!d){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");d=Bn({blockNumber:i,chain:t.chain,contract:"multicall3"})}const f=[[]];let h=0,m=0;for(let w=0;w<u.length;w++){const{abi:g,address:b,args:A,functionName:P}=u[w];try{const C=Ee({abi:g,args:A,functionName:P});m+=(C.length-2)/2,l>0&&m>l&&f[h].length>0&&(h++,m=(C.length-2)/2,f[h]=[]),f[h]=[...f[h],{allowFailure:!0,callData:C,target:b}]}catch(C){const S=Pn(C,{abi:g,address:b,args:A,docsPath:"/docs/contract/multicall",functionName:P,sender:n});if(!r)throw S;f[h]=[...f[h],{allowFailure:!0,callData:"0x",target:b}]}}const p=await Promise.allSettled(f.map(w=>H(t,pt,"readContract")({abi:Yi,account:n,address:d,args:[w],blockNumber:i,blockTag:o,functionName:"aggregate3",stateOverride:c}))),v=[];for(let w=0;w<p.length;w++){const g=p[w];if(g.status==="rejected"){if(!r)throw g.reason;for(let A=0;A<f[w].length;A++)v.push({status:"failure",error:g.reason,result:void 0});continue}const b=g.value;for(let A=0;A<b.length;A++){const{returnData:P,success:C}=b[A],{callData:S}=f[w][A],{abi:x,address:T,functionName:$,args:B}=u[v.length];try{if(S==="0x")throw new Mr;if(!C)throw new Ns({data:P});const F=Qt({abi:x,args:B,data:P,functionName:$});v.push(r?{result:F,status:"success"}:F)}catch(F){const G=Pn(F,{abi:x,address:T,args:B,docsPath:"/docs/contract/multicall",functionName:$});if(!r)throw G;v.push({error:G,result:void 0,status:"failure"})}}}if(v.length!==u.length)throw new I("multicall results mismatch");return v}async function to(t,e){const{blockNumber:n,blockTag:r="pending",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=e;try{const c=[];for(const f of s){const h=f.blockOverrides?Kd(f.blockOverrides):void 0,m=f.calls.map(v=>{const y=v,w=y.account?ze(y.account):void 0,g={...y,data:y.abi?Ee(y):y.data,from:y.from??(w==null?void 0:w.address)};return Or(g),Lr(g)}),p=f.stateOverrides?Qo(f.stateOverrides):void 0;c.push({blockOverrides:h,calls:m,stateOverrides:p})}const l=(typeof n=="bigint"?z(n):void 0)||r;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},l]})).map((f,h)=>({...ta(f),calls:f.calls.map((m,p)=>{var T,$;const{abi:v,args:y,functionName:w,to:g}=s[h].calls[p],b=((T=m.error)==null?void 0:T.data)??m.returnData,A=BigInt(m.gasUsed),P=($=m.logs)==null?void 0:$.map(B=>ht(B)),C=m.status==="0x1"?"success":"failure",S=v&&C==="success"&&b!=="0x"?Qt({abi:v,data:b,functionName:w}):null,x=(()=>{var F;if(C==="success")return;let B;if(((F=m.error)==null?void 0:F.data)==="0x"?B=new Mr:m.error&&(B=new Ns(m.error)),!!B)return Pn(B,{abi:v??[],address:g,args:y,functionName:w??"<unknown>"})})();return{data:b,gasUsed:A,logs:P,status:C,...C==="success"?{result:S}:{error:x}}})}))}catch(c){const u=c,l=Xo(u,{});throw l instanceof Fs?u:l}}function wf(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,r=ed(Qy(t));return n==="Bytes"?r:qd(r)}class Xb extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const Zb={checksum:new Xb(8192)},ui=Zb.checksum,Jb=/^0x[a-fA-F0-9]{40}$/;function zs(t,e={}){const{strict:n=!0}=e;if(!Jb.test(t))throw new Kc({address:t,cause:new ew});if(n){if(t.toLowerCase()===t)return;if(Qb(t)!==t)throw new Kc({address:t,cause:new tw})}}function Qb(t){if(ui.has(t))return ui.get(t);zs(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=wf(ng(e),{as:"Bytes"}),r=e.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return ui.set(t,s),s}function no(t,e={}){const{strict:n=!0}=e??{};try{return zs(t,{strict:n}),!0}catch{return!1}}class Kc extends K{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class ew extends K{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class tw extends K{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function ro(t){let e=!0,n="",r=0,s="",i=!1;for(let o=0;o<t.length;o++){const a=t[o];if(["(",")",","].includes(a)&&(e=!0),a==="("&&r++,a===")"&&r--,!!e){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){t[o-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=a,n+=a}}if(!i)throw new K("Unable to normalize signature.");return s}function so(t,e){const n=typeof t,r=e.type;switch(r){case"address":return no(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in e?Object.values(e.components).every((s,i)=>so(Object.values(t)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(t)&&t.every(s=>so(s,{...e,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function vf(t,e,n){for(const r in t){const s=t[r],i=e[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return vf(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?no(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?no(n[r],{strict:!1}):!1)return o}}function xf(t,e={}){const{prepare:n=!0}=e,r=Array.isArray(t)||typeof t=="string"?uc(t):t;return{...r,...n?{hash:cn(r)}:{}}}function nw(t,e,n){const{args:r=[],prepare:s=!0}=n??{},i=ug(e,{strict:!1}),o=t.filter(u=>i?u.type==="function"||u.type==="error"?Af(u)===ya(e,0,4):u.type==="event"?cn(u)===e:!1:"name"in u&&u.name===e);if(o.length===0)throw new io({name:e});if(o.length===1)return{...o[0],...s?{hash:cn(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:cn(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,f)=>{const h="inputs"in u&&u.inputs[f];return h?so(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=vf(u.inputs,a.inputs,r);if(d)throw new sw({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...l]=o;return{...u,overloads:l}})();if(!c)throw new io({name:e});return{...c,...s?{hash:cn(c)}:{}}}function Af(t){return ya(cn(t),0,4)}function rw(t){const e=typeof t=="string"?t:bs(t);return ro(e)}function cn(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:wf(ma(rw(t)))}class sw extends K{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${ro(bs(e.abiItem))}\`, and`,`\`${n.type}\` in \`${ro(bs(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class io extends K{constructor({name:e,data:n,type:r="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const iw=/^(.*)\[([0-9]*)\]$/,ow=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Ef=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function aw({checksumAddress:t,parameters:e,values:n}){const r=[];for(let s=0;s<e.length;s++)r.push(Ea({checksumAddress:t,parameter:e[s],value:n[s]}));return r}function Ea({checksumAddress:t=!1,parameter:e,value:n}){const r=e,s=mw(r.type);if(s){const[i,o]=s;return uw(n,{checksumAddress:t,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return pw(n,{checksumAddress:t,parameter:r});if(r.type==="address")return cw(n,{checksum:t});if(r.type==="bool")return dw(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=Ef.exec(r.type)??[];return fw(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return lw(n,{type:r.type});if(r.type==="string")return hw(n);throw new Cf(r.type)}function Pa(t){let e=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?e+=32:e+=Fe(a)}const n=[],r=[];let s=0;for(let i=0;i<t.length;i++){const{dynamic:o,encoded:a}=t[i];o?(n.push(ye(e+s,{size:32})),r.push(a),s+=Fe(a)):n.push(a)}return nt(...n,...r)}function cw(t,e){const{checksum:n=!1}=e;return zs(t,{strict:n}),{dynamic:!1,encoded:Yt(t.toLowerCase())}}function uw(t,e){const{checksumAddress:n,length:r,parameter:s}=e,i=r===null;if(!Array.isArray(t))throw new gw(t);if(!i&&t.length!==r)throw new yw({expectedLength:r,givenLength:t.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<t.length;c++){const u=Ea({checksumAddress:n,parameter:s,value:t[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=Pa(a);if(i){const u=ye(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?nt(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:nt(...a.map(({encoded:c})=>c))}}function lw(t,{type:e}){const[,n]=e.split("bytes"),r=Fe(t);if(!n){let s=t;return r%32!==0&&(s=Xt(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:nt(Yt(ye(r,{size:32})),s)}}if(r!==Number.parseInt(n))throw new Tf({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Xt(t)}}function dw(t){if(typeof t!="boolean")throw new K(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Yt(Hd(t))}}function fw(t,{signed:e,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-r-1n:0n;if(t>r||t<s)throw new Gd({max:r.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:ye(t,{size:32,signed:e})}}function hw(t){const e=ma(t),n=Math.ceil(Fe(e)/32),r=[];for(let s=0;s<n;s++)r.push(Xt(ya(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:nt(Xt(ye(Fe(e),{size:32})),...r)}}function pw(t,e){const{checksumAddress:n,parameter:r}=e;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(t)?o:a.name,u=Ea({checksumAddress:n,parameter:a,value:t[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Pa(i):nt(...i.map(({encoded:o})=>o))}}function mw(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function Pf(t,e,n){const{checksumAddress:r=!1}={};if(t.length!==e.length)throw new Sf({expectedLength:t.length,givenLength:e.length});const s=aw({checksumAddress:r,parameters:t,values:e}),i=Pa(s);return i.length===0?"0x":i}function oo(t,e){if(t.length!==e.length)throw new Sf({expectedLength:t.length,givenLength:e.length});const n=[];for(let r=0;r<t.length;r++){const s=t[r],i=e[r];n.push(oo.encode(s,i))}return nt(...n)}(function(t){function e(n,r,s=!1){if(n==="address"){const c=r;return zs(c),Yt(c.toLowerCase(),s?32:0)}if(n==="string")return ma(r);if(n==="bytes")return r;if(n==="bool")return Yt(Hd(r),s?32:1);const i=n.match(Ef);if(i){const[c,u,l="256"]=i,d=Number.parseInt(l)/8;return ye(r,{size:s?32:d,signed:u==="int"})}const o=n.match(ow);if(o){const[c,u]=o;if(Number.parseInt(u)!==(r.length-2)/2)throw new Tf({expectedSize:Number.parseInt(u),value:r});return Xt(r,s?32:0)}const a=n.match(iw);if(a&&Array.isArray(r)){const[c,u]=a,l=[];for(let d=0;d<r.length;d++)l.push(e(u,r[d],!0));return l.length===0?"0x":nt(...l)}throw new Cf(n)}t.encode=e})(oo||(oo={}));class yw extends K{constructor({expectedLength:e,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class Tf extends K{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Fe(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class Sf extends K{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class gw extends K{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Cf extends K{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function bw(t,e){var s;const{bytecode:n,args:r}=e;return nt(n,(s=t.inputs)!=null&&s.length&&(r!=null&&r.length)?Pf(t.inputs,r):"0x")}function ww(t){return xf(t)}function vw(t,...e){const{overloads:n}=t,r=n?xw([t,...n],t.name,{args:e[0]}):t,s=Aw(r),i=e.length>0?Pf(r.inputs,e[0]):void 0;return i?nt(s,i):s}function rn(t,e={}){return xf(t,e)}function xw(t,e,n){const r=nw(t,e,n);if(r.type!=="function")throw new io({name:e,type:"function"});return r}function Aw(t){return Af(t)}const Ew="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",He="0x0000000000000000000000000000000000000000",Pw="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Tw(t,e){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=e,u=e.account?ze(e.account):void 0;if(o&&!u)throw new I("`account` is required when `traceAssetChanges` is true");const l=u?bw(ww("constructor(bytes, bytes)"),{bytecode:Zd,args:[Pw,vw(rn("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(e.calls.map(async k=>{if(!k.data&&!k.abi)return;const{accessList:j}=await uf(t,{account:u.address,...k,data:k.abi?Ee(k):k.data});return j.map(({address:W,storageKeys:Y})=>Y.length>0?W:null)})).then(k=>k.flat().filter(Boolean)):[],f=i==null?void 0:i.map(k=>k.address===(u==null?void 0:u.address)?{...k,nonce:0}:k),h=await to(t,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:l}],stateOverrides:i},{calls:d.map((k,j)=>({abi:[rn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:He,nonce:j})),stateOverrides:[{address:He,nonce:0}]}]:[],{calls:[...s,{}].map((k,j)=>({...k,from:u==null?void 0:u.address,nonce:j})),stateOverrides:f},...o?[{calls:[{data:l}]},{calls:d.map((k,j)=>({abi:[rn("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:k,from:He,nonce:j})),stateOverrides:[{address:He,nonce:0}]},{calls:d.map((k,j)=>({to:k,abi:[rn("function decimals() returns (uint256)")],functionName:"decimals",from:He,nonce:j})),stateOverrides:[{address:He,nonce:0}]},{calls:d.map((k,j)=>({to:k,abi:[rn("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:He,nonce:j})),stateOverrides:[{address:He,nonce:0}]},{calls:d.map((k,j)=>({to:k,abi:[rn("function symbol() returns (string)")],functionName:"symbol",from:He,nonce:j})),stateOverrides:[{address:He,nonce:0}]}]:[]],traceTransfers:a,validation:c}),m=o?h[2]:h[0],[p,v,,y,w,g,b,A]=o?h:[],{calls:P,...C}=m,S=P.slice(0,-1)??[],x=(p==null?void 0:p.calls)??[],T=(v==null?void 0:v.calls)??[],$=[...x,...T].map(k=>k.status==="success"?Ce(k.data):null),B=(y==null?void 0:y.calls)??[],F=(w==null?void 0:w.calls)??[],G=[...B,...F].map(k=>k.status==="success"?Ce(k.data):null),R=((g==null?void 0:g.calls)??[]).map(k=>k.status==="success"?k.result:null),M=((A==null?void 0:A.calls)??[]).map(k=>k.status==="success"?k.result:null),N=((b==null?void 0:b.calls)??[]).map(k=>k.status==="success"?k.result:null),D=[];for(const[k,j]of G.entries()){const W=$[k];if(typeof j!="bigint"||typeof W!="bigint")continue;const Y=R[k-1],he=M[k-1],pe=N[k-1],ne=k===0?{address:Ew,decimals:18,symbol:"ETH"}:{address:d[k-1],decimals:pe||Y?Number(Y??1):void 0,symbol:he??void 0};D.some(ie=>ie.token.address===ne.address)||D.push({token:ne,value:{pre:W,post:j,diff:j-W}})}return{assetChanges:D,block:C,results:S}}class $f extends Vo{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,Km(e);const r=ks(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?e.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=e.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),An(i)}update(e){return xn(this),this.iHash.update(e),this}digestInto(e){xn(this),qt(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return e=e,e.finished=s,e.destroyed=i,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const If=(t,e,n)=>new $f(t,e).update(n).digest();If.create=(t,e)=>new $f(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xe=BigInt(0),be=BigInt(1),Dt=BigInt(2),Sw=BigInt(3),kf=BigInt(4),Bf=BigInt(5),Mf=BigInt(8);function ve(t,e){const n=t%e;return n>=xe?n:e+n}function ke(t,e,n){let r=t;for(;e-- >xe;)r*=r,r%=n;return r}function ao(t,e){if(t===xe)throw new Error("invert: expected non-zero number");if(e<=xe)throw new Error("invert: expected positive modulus, got "+e);let n=ve(t,e),r=e,s=xe,i=be;for(;n!==xe;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==be)throw new Error("invert: does not exist");return ve(s,e)}function Rf(t,e){const n=(t.ORDER+be)/kf,r=t.pow(e,n);if(!t.eql(t.sqr(r),e))throw new Error("Cannot find square root");return r}function Cw(t,e){const n=(t.ORDER-Bf)/Mf,r=t.mul(e,Dt),s=t.pow(r,n),i=t.mul(e,s),o=t.mul(t.mul(i,Dt),s),a=t.mul(i,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function $w(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-be,n=0;for(;e%Dt===xe;)e/=Dt,n++;let r=Dt;const s=Ta(t);for(;Yc(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Rf;let i=s.pow(r,e);const o=(e+be)/Dt;return function(c,u){if(c.is0(u))return u;if(Yc(c,u)!==1)throw new Error("Cannot find square root");let l=n,d=c.mul(c.ONE,i),f=c.pow(u,e),h=c.pow(u,o);for(;!c.eql(f,c.ONE);){if(c.is0(f))return c.ZERO;let m=1,p=c.sqr(f);for(;!c.eql(p,c.ONE);)if(m++,p=c.sqr(p),m===l)throw new Error("Cannot find square root");const v=be<<BigInt(l-m-1),y=c.pow(d,v);l=m,d=c.sqr(y),f=c.mul(f,d),h=c.mul(h,y)}return h}}function Iw(t){return t%kf===Sw?Rf:t%Mf===Bf?Cw:$w(t)}const kw=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Bw(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kw.reduce((r,s)=>(r[s]="function",r),e);return js(t,n)}function Mw(t,e,n){if(n<xe)throw new Error("invalid exponent, negatives unsupported");if(n===xe)return t.ONE;if(n===be)return e;let r=t.ONE,s=e;for(;n>xe;)n&be&&(r=t.mul(r,s)),s=t.sqr(s),n>>=be;return r}function Nf(t,e,n=!1){const r=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((o,a,c)=>t.is0(a)?o:(r[c]=o,t.mul(o,a)),t.ONE),i=t.inv(s);return e.reduceRight((o,a,c)=>t.is0(a)?o:(r[c]=t.mul(o,r[c]),t.mul(o,a)),i),r}function Yc(t,e){const n=(t.ORDER-be)/Dt,r=t.pow(e,n),s=t.eql(r,t.ONE),i=t.eql(r,t.ZERO),o=t.eql(r,t.neg(t.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function Ff(t,e){e!==void 0&&tr(e);const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Ta(t,e,n=!1,r={}){if(t<=xe)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:i}=Ff(t,e);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:i,MASK:Ls(s),ZERO:xe,ONE:be,create:c=>ve(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return xe<=c&&c<t},is0:c=>c===xe,isOdd:c=>(c&be)===be,neg:c=>ve(-c,t),eql:(c,u)=>c===u,sqr:c=>ve(c*c,t),add:(c,u)=>ve(c+u,t),sub:(c,u)=>ve(c-u,t),mul:(c,u)=>ve(c*u,t),pow:(c,u)=>Mw(a,c,u),div:(c,u)=>ve(c*ao(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>ao(c,t),sqrt:r.sqrt||(c=>(o||(o=Iw(t)),o(a,c))),toBytes:c=>n?Ud(c,i):Ur(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?Vd(c):Ut(c)},invertBatch:c=>Nf(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function Df(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function Lf(t){const e=Df(t);return e+Math.ceil(e/2)}function Rw(t,e,n=!1){const r=t.length,s=Df(e),i=Lf(e);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Vd(t):Ut(t),a=ve(o,e-be)+be;return n?Ud(a,s):Ur(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xc=BigInt(0),co=BigInt(1);function li(t,e){const n=e.negate();return t?n:e}function jf(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function di(t,e){jf(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1),s=2**t,i=Ls(t),o=BigInt(t);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Zc(t,e,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(t&s),c=t>>o;a>r&&(a-=i,c+=co);const u=e*r,l=u+Math.abs(a)-1,d=a===0,f=a<0,h=e%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:u}}function Nw(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function Fw(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const fi=new WeakMap,Of=new WeakMap;function hi(t){return Of.get(t)||1}function Dw(t,e){return{constTimeNegate:li,hasPrecomputes(n){return hi(n)!==1},unsafeLadder(n,r,s=t.ZERO){let i=n;for(;r>Xc;)r&co&&(s=s.add(i)),i=i.double(),r>>=co;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=di(r,e),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=t.ZERO,o=t.BASE;const a=di(n,e);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:d,isNeg:f,isNegF:h,offsetF:m}=Zc(s,c,a);s=u,d?o=o.add(li(h,r[m])):i=i.add(li(f,r[l]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=t.ZERO){const o=di(n,e);for(let a=0;a<o.windows&&s!==Xc;a++){const{nextN:c,offset:u,isZero:l,isNeg:d}=Zc(s,a,o);if(s=c,!l){const f=r[u];i=i.add(d?f.negate():f)}}return i},getPrecomputes(n,r,s){let i=fi.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&fi.set(r,s(i))),i},wNAFCached(n,r,s){const i=hi(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=hi(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){jf(r,e),Of.set(n,r),fi.delete(n)}}}function Lw(t,e,n,r){Nw(n,t),Fw(r,e);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Uy(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Ls(c),l=new Array(Number(u)+1).fill(o),d=Math.floor((e.BITS-1)/c)*c;let f=o;for(let h=d;h>=0;h-=c){l.fill(o);for(let p=0;p<i;p++){const v=r[p],y=Number(v>>BigInt(h)&u);l[y]=l[y].add(n[p])}let m=o;for(let p=l.length-1,v=o;p>0;p--)v=v.add(l[p]),m=m.add(v);if(f=f.add(m),h!==0)for(let p=0;p<c;p++)f=f.double()}return f}function Vf(t){return Bw(t.Fp),js(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ff(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Jc(t){t.lowS!==void 0&&Er("lowS",t.lowS),t.prehash!==void 0&&Er("prehash",t.prehash)}function jw(t){const e=Vf(t);js(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=e;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Ow extends Error{constructor(e=""){super(e)}}const ot={Err:Ow,_tlv:{encode:(t,e)=>{const{Err:n}=ot;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,s=Jr(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?Jr(s.length/2|128):"";return Jr(t)+i+s+e},decode(t,e){const{Err:n}=ot;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=ot;if(t<ct)throw new e("integer: negative integers are not allowed");let n=Jr(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=ot;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Ut(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=ot,s=Re("signature",t),{v:i,l:o}=r.decode(48,s);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l}=r.decode(2,c);if(l.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=ot,r=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),i=r+s;return e.encode(48,i)}};function pi(t,e){return Pr(Ur(t,e))}const ct=BigInt(0),se=BigInt(1);BigInt(2);const mi=BigInt(3),Vw=BigInt(4);function Uw(t){const e=jw(t),{Fp:n}=e,r=Ta(e.n,e.nBitLength),s=e.toBytes||((g,b,A)=>{const P=b.toAffine();return vs(Uint8Array.from([4]),n.toBytes(P.x),n.toBytes(P.y))}),i=e.fromBytes||(g=>{const b=g.subarray(1),A=n.fromBytes(b.subarray(0,n.BYTES)),P=n.fromBytes(b.subarray(n.BYTES,2*n.BYTES));return{x:A,y:P}});function o(g){const{a:b,b:A}=e,P=n.sqr(g),C=n.mul(P,g);return n.add(n.add(C,n.mul(g,b)),A)}function a(g,b){const A=n.sqr(b),P=o(g);return n.eql(A,P)}if(!a(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,mi),Vw),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function l(g){return ha(g,se,e.n)}function d(g){const{allowedPrivateKeyLengths:b,nByteLength:A,wrapPrivateKey:P,n:C}=e;if(b&&typeof g!="bigint"){if(Vr(g)&&(g=Pr(g)),typeof g!="string"||!b.includes(g.length))throw new Error("invalid private key");g=g.padStart(A*2,"0")}let S;try{S=typeof g=="bigint"?g:Ut(Re("private key",g,A))}catch{throw new Error("invalid private key, expected hex or "+A+" bytes, got "+typeof g)}return P&&(S=ve(S,C)),wn("private key",S,se,C),S}function f(g){if(!(g instanceof p))throw new Error("ProjectivePoint expected")}const h=Fc((g,b)=>{const{px:A,py:P,pz:C}=g;if(n.eql(C,n.ONE))return{x:A,y:P};const S=g.is0();b==null&&(b=S?n.ONE:n.inv(C));const x=n.mul(A,b),T=n.mul(P,b),$=n.mul(C,b);if(S)return{x:n.ZERO,y:n.ZERO};if(!n.eql($,n.ONE))throw new Error("invZ was invalid");return{x,y:T}}),m=Fc(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:b,y:A}=g.toAffine();if(!n.isValid(b)||!n.isValid(A))throw new Error("bad point: x or y not FE");if(!a(b,A))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class p{constructor(b,A,P){if(b==null||!n.isValid(b))throw new Error("x required");if(A==null||!n.isValid(A)||n.is0(A))throw new Error("y required");if(P==null||!n.isValid(P))throw new Error("z required");this.px=b,this.py=A,this.pz=P,Object.freeze(this)}static fromAffine(b){const{x:A,y:P}=b||{};if(!b||!n.isValid(A)||!n.isValid(P))throw new Error("invalid affine point");if(b instanceof p)throw new Error("projective point not allowed");const C=S=>n.eql(S,n.ZERO);return C(A)&&C(P)?p.ZERO:new p(A,P,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(b){const A=Nf(n,b.map(P=>P.pz));return b.map((P,C)=>P.toAffine(A[C])).map(p.fromAffine)}static fromHex(b){const A=p.fromAffine(i(Re("pointHex",b)));return A.assertValidity(),A}static fromPrivateKey(b){return p.BASE.multiply(d(b))}static msm(b,A){return Lw(p,r,b,A)}_setWindowSize(b){w.setWindowSize(this,b)}assertValidity(){m(this)}hasEvenY(){const{y:b}=this.toAffine();if(n.isOdd)return!n.isOdd(b);throw new Error("Field doesn't support isOdd")}equals(b){f(b);const{px:A,py:P,pz:C}=this,{px:S,py:x,pz:T}=b,$=n.eql(n.mul(A,T),n.mul(S,C)),B=n.eql(n.mul(P,T),n.mul(x,C));return $&&B}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:b,b:A}=e,P=n.mul(A,mi),{px:C,py:S,pz:x}=this;let T=n.ZERO,$=n.ZERO,B=n.ZERO,F=n.mul(C,C),G=n.mul(S,S),R=n.mul(x,x),M=n.mul(C,S);return M=n.add(M,M),B=n.mul(C,x),B=n.add(B,B),T=n.mul(b,B),$=n.mul(P,R),$=n.add(T,$),T=n.sub(G,$),$=n.add(G,$),$=n.mul(T,$),T=n.mul(M,T),B=n.mul(P,B),R=n.mul(b,R),M=n.sub(F,R),M=n.mul(b,M),M=n.add(M,B),B=n.add(F,F),F=n.add(B,F),F=n.add(F,R),F=n.mul(F,M),$=n.add($,F),R=n.mul(S,x),R=n.add(R,R),F=n.mul(R,M),T=n.sub(T,F),B=n.mul(R,G),B=n.add(B,B),B=n.add(B,B),new p(T,$,B)}add(b){f(b);const{px:A,py:P,pz:C}=this,{px:S,py:x,pz:T}=b;let $=n.ZERO,B=n.ZERO,F=n.ZERO;const G=e.a,R=n.mul(e.b,mi);let M=n.mul(A,S),N=n.mul(P,x),D=n.mul(C,T),k=n.add(A,P),j=n.add(S,x);k=n.mul(k,j),j=n.add(M,N),k=n.sub(k,j),j=n.add(A,C);let W=n.add(S,T);return j=n.mul(j,W),W=n.add(M,D),j=n.sub(j,W),W=n.add(P,C),$=n.add(x,T),W=n.mul(W,$),$=n.add(N,D),W=n.sub(W,$),F=n.mul(G,j),$=n.mul(R,D),F=n.add($,F),$=n.sub(N,F),F=n.add(N,F),B=n.mul($,F),N=n.add(M,M),N=n.add(N,M),D=n.mul(G,D),j=n.mul(R,j),N=n.add(N,D),D=n.sub(M,D),D=n.mul(G,D),j=n.add(j,D),M=n.mul(N,j),B=n.add(B,M),M=n.mul(W,j),$=n.mul(k,$),$=n.sub($,M),M=n.mul(k,N),F=n.mul(W,F),F=n.add(F,M),new p($,B,F)}subtract(b){return this.add(b.negate())}is0(){return this.equals(p.ZERO)}wNAF(b){return w.wNAFCached(this,b,p.normalizeZ)}multiplyUnsafe(b){const{endo:A,n:P}=e;wn("scalar",b,ct,P);const C=p.ZERO;if(b===ct)return C;if(this.is0()||b===se)return this;if(!A||w.hasPrecomputes(this))return w.wNAFCachedUnsafe(this,b,p.normalizeZ);let{k1neg:S,k1:x,k2neg:T,k2:$}=A.splitScalar(b),B=C,F=C,G=this;for(;x>ct||$>ct;)x&se&&(B=B.add(G)),$&se&&(F=F.add(G)),G=G.double(),x>>=se,$>>=se;return S&&(B=B.negate()),T&&(F=F.negate()),F=new p(n.mul(F.px,A.beta),F.py,F.pz),B.add(F)}multiply(b){const{endo:A,n:P}=e;wn("scalar",b,se,P);let C,S;if(A){const{k1neg:x,k1:T,k2neg:$,k2:B}=A.splitScalar(b);let{p:F,f:G}=this.wNAF(T),{p:R,f:M}=this.wNAF(B);F=w.constTimeNegate(x,F),R=w.constTimeNegate($,R),R=new p(n.mul(R.px,A.beta),R.py,R.pz),C=F.add(R),S=G.add(M)}else{const{p:x,f:T}=this.wNAF(b);C=x,S=T}return p.normalizeZ([C,S])[0]}multiplyAndAddUnsafe(b,A,P){const C=p.BASE,S=(T,$)=>$===ct||$===se||!T.equals(C)?T.multiplyUnsafe($):T.multiply($),x=S(this,A).add(S(b,P));return x.is0()?void 0:x}toAffine(b){return h(this,b)}isTorsionFree(){const{h:b,isTorsionFree:A}=e;if(b===se)return!0;if(A)return A(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:b,clearCofactor:A}=e;return b===se?this:A?A(p,this):this.multiplyUnsafe(e.h)}toRawBytes(b=!0){return Er("isCompressed",b),this.assertValidity(),s(p,this,b)}toHex(b=!0){return Er("isCompressed",b),Pr(this.toRawBytes(b))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const{endo:v,nBitLength:y}=e,w=Dw(p,v?Math.ceil(y/2):y);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:l}}function zw(t){const e=Vf(t);return js(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function _w(t){const e=zw(t),{Fp:n,n:r,nByteLength:s,nBitLength:i}=e,o=n.BYTES+1,a=2*n.BYTES+1;function c(R){return ve(R,r)}function u(R){return ao(R,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:f,isWithinCurveOrder:h}=Uw({...e,toBytes(R,M,N){const D=M.toAffine(),k=n.toBytes(D.x),j=vs;return Er("isCompressed",N),N?j(Uint8Array.from([M.hasEvenY()?2:3]),k):j(Uint8Array.from([4]),k,n.toBytes(D.y))},fromBytes(R){const M=R.length,N=R[0],D=R.subarray(1);if(M===o&&(N===2||N===3)){const k=Ut(D);if(!ha(k,se,n.ORDER))throw new Error("Point is not on curve");const j=f(k);let W;try{W=n.sqrt(j)}catch(pe){const ne=pe instanceof Error?": "+pe.message:"";throw new Error("Point is not on curve"+ne)}const Y=(W&se)===se;return(N&1)===1!==Y&&(W=n.neg(W)),{x:k,y:W}}else if(M===a&&N===4){const k=n.fromBytes(D.subarray(0,n.BYTES)),j=n.fromBytes(D.subarray(n.BYTES,2*n.BYTES));return{x:k,y:j}}else{const k=o,j=a;throw new Error("invalid Point, expected length of "+k+", or uncompressed "+j+", got "+M)}}});function m(R){const M=r>>se;return R>M}function p(R){return m(R)?c(-R):R}const v=(R,M,N)=>Ut(R.slice(M,N));class y{constructor(M,N,D){wn("r",M,se,r),wn("s",N,se,r),this.r=M,this.s=N,D!=null&&(this.recovery=D),Object.freeze(this)}static fromCompact(M){const N=s;return M=Re("compactSignature",M,N*2),new y(v(M,0,N),v(M,N,2*N))}static fromDER(M){const{r:N,s:D}=ot.toSig(Re("DER",M));return new y(N,D)}assertValidity(){}addRecoveryBit(M){return new y(this.r,this.s,M)}recoverPublicKey(M){const{r:N,s:D,recovery:k}=this,j=C(Re("msgHash",M));if(k==null||![0,1,2,3].includes(k))throw new Error("recovery id invalid");const W=k===2||k===3?N+e.n:N;if(W>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const Y=k&1?"03":"02",he=l.fromHex(Y+pi(W,n.BYTES)),pe=u(W),ne=c(-j*pe),ie=c(D*pe),bt=l.BASE.multiplyAndAddUnsafe(he,ne,ie);if(!bt)throw new Error("point at infinify");return bt.assertValidity(),bt}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return ws(this.toDERHex())}toDERHex(){return ot.hexFromSig(this)}toCompactRawBytes(){return ws(this.toCompactHex())}toCompactHex(){const M=s;return pi(this.r,M)+pi(this.s,M)}}const w={isValidPrivateKey(R){try{return d(R),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const R=Lf(e.n);return Rw(e.randomBytes(R),e.n)},precompute(R=8,M=l.BASE){return M._setWindowSize(R),M.multiply(BigInt(3)),M}};function g(R,M=!0){return l.fromPrivateKey(R).toRawBytes(M)}function b(R){if(typeof R=="bigint")return!1;if(R instanceof l)return!0;const N=Re("key",R).length,D=n.BYTES,k=D+1,j=2*D+1;if(!(e.allowedPrivateKeyLengths||s===k))return N===k||N===j}function A(R,M,N=!0){if(b(R)===!0)throw new Error("first arg must be private key");if(b(M)===!1)throw new Error("second arg must be public key");return l.fromHex(M).multiply(d(R)).toRawBytes(N)}const P=e.bits2int||function(R){if(R.length>8192)throw new Error("input is too large");const M=Ut(R),N=R.length*8-i;return N>0?M>>BigInt(N):M},C=e.bits2int_modN||function(R){return c(P(R))},S=Ls(i);function x(R){return wn("num < 2^"+i,R,ct,S),Ur(R,s)}function T(R,M,N=$){if(["recovered","canonical"].some(Bt=>Bt in N))throw new Error("sign() legacy options not supported");const{hash:D,randomBytes:k}=e;let{lowS:j,prehash:W,extraEntropy:Y}=N;j==null&&(j=!0),R=Re("msgHash",R),Jc(N),W&&(R=Re("prehashed msgHash",D(R)));const he=C(R),pe=d(M),ne=[x(pe),x(he)];if(Y!=null&&Y!==!1){const Bt=Y===!0?k(n.BYTES):Y;ne.push(Re("extraEntropy",Bt))}const ie=vs(...ne),bt=he;function Ws(Bt){const en=P(Bt);if(!h(en))return;const Ks=u(en),Dn=l.BASE.multiply(en).toAffine(),Mt=c(Dn.x);if(Mt===ct)return;const Ln=c(Ks*c(bt+Mt*pe));if(Ln===ct)return;let jn=(Dn.x===Mt?0:2)|Number(Dn.y&se),tn=Ln;return j&&m(Ln)&&(tn=p(Ln),jn^=1),new y(Mt,tn,jn)}return{seed:ie,k2sig:Ws}}const $={lowS:e.lowS,prehash:!1},B={lowS:e.lowS,prehash:!1};function F(R,M,N=$){const{seed:D,k2sig:k}=T(R,M,N),j=e;return zy(j.hash.outputLen,j.nByteLength,j.hmac)(D,k)}l.BASE._setWindowSize(8);function G(R,M,N,D=B){var jn;const k=R;M=Re("msgHash",M),N=Re("publicKey",N);const{lowS:j,prehash:W,format:Y}=D;if(Jc(D),"strict"in D)throw new Error("options.strict was renamed to lowS");if(Y!==void 0&&Y!=="compact"&&Y!=="der")throw new Error("format must be compact or der");const he=typeof k=="string"||Vr(k),pe=!he&&!Y&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!he&&!pe)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ne,ie;try{if(pe&&(ne=new y(k.r,k.s)),he){try{Y!=="compact"&&(ne=y.fromDER(k))}catch(tn){if(!(tn instanceof ot.Err))throw tn}!ne&&Y!=="der"&&(ne=y.fromCompact(k))}ie=l.fromHex(N)}catch{return!1}if(!ne||j&&ne.hasHighS())return!1;W&&(M=e.hash(M));const{r:bt,s:Ws}=ne,Bt=C(M),en=u(Ws),Ks=c(Bt*en),Dn=c(bt*en),Mt=(jn=l.BASE.multiplyAndAddUnsafe(ie,Ks,Dn))==null?void 0:jn.toAffine();return Mt?c(Mt.x)===bt:!1}return{CURVE:e,getPublicKey:g,getSharedSecret:A,sign:F,verify:G,ProjectivePoint:l,Signature:y,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Hw(t){return{hash:t,hmac:(e,...n)=>If(t,e,e0(...n)),randomBytes:t0}}function qw(t,e){const n=r=>_w({...t,...Hw(r)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Uf=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),Qc=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Gw=BigInt(0),Ww=BigInt(1),uo=BigInt(2),eu=(t,e)=>(t+e/uo)/e;function Kw(t){const e=Uf,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=ke(l,n,e)*l%e,f=ke(d,n,e)*l%e,h=ke(f,uo,e)*u%e,m=ke(h,s,e)*h%e,p=ke(m,i,e)*m%e,v=ke(p,a,e)*p%e,y=ke(v,c,e)*v%e,w=ke(y,a,e)*p%e,g=ke(w,n,e)*l%e,b=ke(g,o,e)*m%e,A=ke(b,r,e)*u%e,P=ke(A,uo,e);if(!lo.eql(lo.sqr(P),t))throw new Error("Cannot find square root");return P}const lo=Ta(Uf,void 0,void 0,{sqrt:Kw}),zf=qw({a:Gw,b:BigInt(7),Fp:lo,n:Qc,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=Qc,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-Ww*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=eu(i*t,e),c=eu(-r*t,e);let u=ve(t-a*n-c*s,e),l=ve(-a*r-c*i,e);const d=u>o,f=l>o;if(d&&(u=e-u),f&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:f,k2:l}}}},Sd),Yw=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:zf},Symbol.toStringTag,{value:"Module"}));function Xw({r:t,s:e,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new zf.Signature(Ce(t),Ce(e)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:Ve(o)}async function Sa(t,e){var d,f,h;const{address:n,factory:r,factoryData:s,hash:i,signature:o,universalSignatureVerifierAddress:a=(h=(f=(d=t.chain)==null?void 0:d.contracts)==null?void 0:f.universalSignatureVerifier)==null?void 0:h.address,...c}=e,u=et(o)?o:typeof o=="object"&&"r"in o&&"s"in o?Xw(o):re(o),l=await(async()=>!r&&!s||Ub(u)?u:zb({address:r,data:s,signature:u}))();try{const m=a?{to:a,data:Ee({abi:zc,functionName:"isValidSig",args:[n,i,l]}),...c}:{data:ga({abi:zc,args:[n,i,l],bytecode:yg}),...c},{data:p}=await H(t,_r,"call")(m);return Fm(p??"0x0")}catch(m){try{if(aa(m0(n),await wd({hash:i,signature:o})))return!0}catch{}if(m instanceof gd)return!1;throw m}}async function Zw(t,{address:e,message:n,factory:r,factoryData:s,signature:i,...o}){const a=yf(n);return Sa(t,{address:e,factory:r,factoryData:s,hash:a,signature:i,...o})}async function Jw(t,e){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...l}=e,d=xb({message:o,primaryType:a,types:c,domain:u});return Sa(t,{address:n,factory:r,factoryData:s,hash:d,signature:i,...l})}function _f(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=t.pollingInterval}){const a=typeof i<"u"?i:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let c;return a?(()=>{const d=ce(["watchBlockNumber",t.uid,e,n,o]);return Tt(d,{onBlockNumber:r,onError:s},f=>Hr(async()=>{var h;try{const m=await H(t,qr,"getBlockNumber")({cacheTime:0});if(c){if(m===c)return;if(m-c>1&&n)for(let p=c+1n;p<m;p++)f.onBlockNumber(p,c),c=p}(!c||m>c)&&(f.onBlockNumber(m,c),c=m)}catch(m){(h=f.onError)==null||h.call(f,m)}},{emitOnBegin:e,interval:o}))})():(()=>{const d=ce(["watchBlockNumber",t.uid,e,n]);return Tt(d,{onBlockNumber:r,onError:s},f=>{let h=!0,m=()=>h=!1;return(async()=>{try{const p=(()=>{if(t.transport.type==="fallback"){const y=t.transport.transports.find(w=>w.config.type==="webSocket");return y?y.value:t.transport}return t.transport})(),{unsubscribe:v}=await p.subscribe({params:["newHeads"],onData(y){var g;if(!h)return;const w=Ce((g=y.result)==null?void 0:g.number);f.onBlockNumber(w,c),c=w},onError(y){var w;(w=f.onError)==null||w.call(f,y)}});m=v,h||m()}catch(p){s==null||s(p)}})(),()=>m()})})()}async function Qw(t,{confirmations:e=1,hash:n,onReplaced:r,pollingInterval:s=t.pollingInterval,retryCount:i=6,retryDelay:o=({count:c})=>~~(1<<c)*200,timeout:a=18e4}){const c=ce(["waitForTransactionReceipt",t.uid,n]);let u,l,d,f=!1,h,m;const{promise:p,resolve:v,reject:y}=ef(),w=a?setTimeout(()=>{m(),h(),y(new X0({hash:n}))},a):void 0;return h=Tt(c,{onReplaced:r,resolve:v,reject:y},g=>{m=H(t,_f,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(b){const A=C=>{clearTimeout(w),m(),C(),h()};let P=b;if(!f)try{if(d){if(e>1&&(!d.blockNumber||P-d.blockNumber+1n<e))return;A(()=>g.resolve(d));return}if(u||(f=!0,await eo(async()=>{u=await H(t,Aa,"getTransaction")({hash:n}),u.blockNumber&&(P=u.blockNumber)},{delay:o,retryCount:i}),f=!1),d=await H(t,xs,"getTransactionReceipt")({hash:n}),e>1&&(!d.blockNumber||P-d.blockNumber+1n<e))return;A(()=>g.resolve(d))}catch(C){if(C instanceof md||C instanceof yd){if(!u){f=!1;return}try{l=u,f=!0;const S=await eo(()=>H(t,We,"getBlock")({blockNumber:P,includeTransactions:!0}),{delay:o,retryCount:i,shouldRetry:({error:$})=>$ instanceof Ad});f=!1;const x=S.transactions.find(({from:$,nonce:B})=>$===l.from&&B===l.nonce);if(!x||(d=await H(t,xs,"getTransactionReceipt")({hash:x.hash}),e>1&&(!d.blockNumber||P-d.blockNumber+1n<e)))return;let T="replaced";x.to===l.to&&x.value===l.value&&x.input===l.input?T="repriced":x.from===x.to&&x.value===0n&&(T="cancelled"),A(()=>{var $;($=g.onReplaced)==null||$.call(g,{reason:T,replacedTransaction:l,transaction:x,transactionReceipt:d}),g.resolve(d)})}catch(S){A(()=>g.reject(S))}}else A(()=>g.reject(C))}}})}),p}function e1(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=t.pollingInterval}){const u=typeof a<"u"?a:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),l=o??!1;let d;return u?(()=>{const m=ce(["watchBlocks",t.uid,e,n,r,l,c]);return Tt(m,{onBlock:s,onError:i},p=>Hr(async()=>{var v;try{const y=await H(t,We,"getBlock")({blockTag:e,includeTransactions:l});if(y.number!==null&&(d==null?void 0:d.number)!=null){if(y.number===d.number)return;if(y.number-d.number>1&&n)for(let w=(d==null?void 0:d.number)+1n;w<y.number;w++){const g=await H(t,We,"getBlock")({blockNumber:w,includeTransactions:l});p.onBlock(g,d),d=g}}((d==null?void 0:d.number)==null||e==="pending"&&(y==null?void 0:y.number)==null||y.number!==null&&y.number>d.number)&&(p.onBlock(y,d),d=y)}catch(y){(v=p.onError)==null||v.call(p,y)}},{emitOnBegin:r,interval:c}))})():(()=>{let m=!0,p=!0,v=()=>m=!1;return(async()=>{try{r&&H(t,We,"getBlock")({blockTag:e,includeTransactions:l}).then(g=>{m&&p&&(s(g,void 0),p=!1)}).catch(i);const y=(()=>{if(t.transport.type==="fallback"){const g=t.transport.transports.find(b=>b.config.type==="webSocket");return g?g.value:t.transport}return t.transport})(),{unsubscribe:w}=await y.subscribe({params:["newHeads"],async onData(g){if(!m)return;const b=await H(t,We,"getBlock")({blockNumber:g.blockNumber,includeTransactions:l}).catch(()=>{});m&&(s(b,d),p=!1,d=b)},onError(g){i==null||i(g)}});v=w,m||v()}catch(y){i==null||i(y)}})(),()=>v()})()}function t1(t,{address:e,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:l=t.pollingInterval,strict:d}){const f=typeof u<"u"?u:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),h=d??!1;return f?(()=>{const v=ce(["watchEvent",e,n,r,t.uid,s,l,o]);return Tt(v,{onLogs:c,onError:a},y=>{let w;o!==void 0&&(w=o-1n);let g,b=!1;const A=Hr(async()=>{var P;if(!b){try{g=await H(t,lf,"createEventFilter")({address:e,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}b=!0;return}try{let C;if(g)C=await H(t,Os,"getFilterChanges")({filter:g});else{const S=await H(t,qr,"getBlockNumber")({});w&&w!==S?C=await H(t,la,"getLogs")({address:e,args:n,event:s,events:i,fromBlock:w+1n,toBlock:S}):C=[],w=S}if(C.length===0)return;if(r)y.onLogs(C);else for(const S of C)y.onLogs([S])}catch(C){g&&C instanceof Kt&&(b=!1),(P=y.onError)==null||P.call(y,C)}},{emitOnBegin:!0,interval:l});return async()=>{g&&await H(t,Vs,"uninstallFilter")({filter:g}),A()}})})():(()=>{let v=!0,y=()=>v=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const P=t.transport.transports.find(C=>C.config.type==="webSocket");return P?P.value:t.transport}return t.transport})(),g=i??(s?[s]:void 0);let b=[];g&&(b=[g.flatMap(C=>Nr({abi:[C],eventName:C.name,args:n}))],s&&(b=b[0]));const{unsubscribe:A}=await w.subscribe({params:["logs",{address:e,topics:b}],onData(P){var S;if(!v)return;const C=P.result;try{const{eventName:x,args:T}=ca({abi:g??[],data:C.data,topics:C.topics,strict:h}),$=ht(C,{args:T,eventName:x});c([$])}catch(x){let T,$;if(x instanceof Qn||x instanceof Is){if(d)return;T=x.abiItem.name,$=(S=x.abiItem.inputs)==null?void 0:S.some(F=>!("name"in F&&F.name))}const B=ht(C,{args:$?[]:{},eventName:T});c([B])}},onError(P){a==null||a(P)}});y=A,v||y()}catch(w){a==null||a(w)}})(),()=>y()})()}function n1(t,{batch:e=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const u=ce(["watchPendingTransactions",t.uid,e,i]);return Tt(u,{onTransactions:r,onError:n},l=>{let d;const f=Hr(async()=>{var h;try{if(!d)try{d=await H(t,df,"createPendingTransactionFilter")({});return}catch(p){throw f(),p}const m=await H(t,Os,"getFilterChanges")({filter:d});if(m.length===0)return;if(e)l.onTransactions(m);else for(const p of m)l.onTransactions([p])}catch(m){(h=l.onError)==null||h.call(l,m)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await H(t,Vs,"uninstallFilter")({filter:d}),f()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await t.transport.subscribe({params:["newPendingTransactions"],onData(f){if(!u)return;const h=f.result;r([h])},onError(f){n==null||n(f)}});l=d,u||l()}catch(d){n==null||n(d)}})(),()=>l()})()}function r1(t){var d,f,h;const{scheme:e,statement:n,...r}=((d=t.match(s1))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((f=t.match(i1))==null?void 0:f.groups)??{},l=(h=t.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const s1=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,i1=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function o1(t){const{address:e,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=t;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!ee(r.address,{strict:!1})||e&&!aa(r.address,e))return!1}catch{return!1}return!0}async function a1(t,e){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=e,l=r1(s);if(!l.address||!o1({address:n,domain:r,message:l,nonce:i,scheme:o,time:c}))return!1;const f=yf(s);return Sa(t,{address:l.address,hash:f,signature:a,...u})}function c1(t){return{call:e=>_r(t,e),createAccessList:e=>uf(t,e),createBlockFilter:()=>ub(t),createContractEventFilter:e=>cd(t,e),createEventFilter:e=>lf(t,e),createPendingTransactionFilter:()=>df(t),estimateContractGas:e=>Ly(t,e),estimateGas:e=>oa(t,e),getBalance:e=>Dd(t,e),getBlobBaseFee:()=>lb(t),getBlock:e=>We(t,e),getBlockNumber:e=>qr(t,e),getBlockTransactionCount:e=>db(t,e),getBytecode:e=>Wc(t,e),getChainId:()=>Nd(t),getCode:e=>Wc(t,e),getContractEvents:e=>Ld(t,e),getEip712Domain:e=>hb(t,e),getEnsAddress:e=>Wg(t,e),getEnsAvatar:e=>ob(t,e),getEnsName:e=>ab(t,e),getEnsResolver:e=>cb(t,e),getEnsText:e=>cf(t,e),getFeeHistory:e=>yb(t,e),estimateFeesPerGas:e=>Ay(t,e),getFilterChanges:e=>Os(t,e),getFilterLogs:e=>gb(t,e),getGasPrice:()=>na(t),getLogs:e=>la(t,e),getProof:e=>Wb(t,e),estimateMaxPriorityFeePerGas:e=>xy(t,e),getStorageAt:e=>Kb(t,e),getTransaction:e=>Aa(t,e),getTransactionConfirmations:e=>bf(t,e),getTransactionCount:e=>Td(t,e),getTransactionReceipt:e=>xs(t,e),multicall:e=>Yb(t,e),prepareTransactionRequest:e=>Fd(t,e),readContract:e=>pt(t,e),sendRawTransaction:e=>kg(t,e),simulate:e=>to(t,e),simulateBlocks:e=>to(t,e),simulateCalls:e=>Tw(t,e),simulateContract:e=>Ag(t,e),verifyMessage:e=>Zw(t,e),verifySiweMessage:e=>a1(t,e),verifyTypedData:e=>Jw(t,e),uninstallFilter:e=>Vs(t,e),waitForTransactionReceipt:e=>Qw(t,e),watchBlocks:e=>e1(t,e),watchBlockNumber:e=>_f(t,e),watchContractEvent:e=>Ig(t,e),watchEvent:e=>t1(t,e),watchPendingTransactions:e=>n1(t,e)}}function fs(t){const{key:e="public",name:n="Public Client"}=t;return Rg({...t,key:e,name:n,type:"publicClient"}).extend(c1)}var fo={d:(t,e)=>{for(var n in e)fo.o(e,n)&&!fo.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};const Zt=(tu={isAddress:()=>ee},yi={},fo.d(yi,tu),yi);var tu,yi;class O extends Error{constructor(e){super(e),this.name="InvalidMetadataError"}}class q extends Error{constructor(e){super(e),this.name="SherryValidationError"}}class V extends Error{constructor(e){super(e),this.name="ActionValidationError"}}class ue extends Error{constructor(e){super(e),this.name="DynamicActionValidationError",Error.captureStackTrace&&Error.captureStackTrace(this,ue)}}class we{static validateHttpAction(e){we.validatepath(e.path);const n=we.validateParameters(e.params);return{...e,params:n}}static validatepath(e){try{new URL(e)}catch{throw new O("[HttpAction-validatepath]Invalid path URL")}}static validateParameters(e){return e?e.map(n=>{if(!n.name||typeof n.name!="string")throw new O(`Invalid parameter name: ${n.name}`);if(!n.label||typeof n.label!="string")throw new O(`Invalid parameter label for ${n.name}`);switch(n.type){case"select":return we.validateSelectParameter(n);case"radio":return we.validateRadioParameter(n);case"text":case"email":case"number":case"boolean":case"url":case"datetime":case"textarea":return we.validateStandardParameter(n);default:throw new O(`Invalid parameter type: ${n.type}`)}}):[]}static validateSelectParameter(e){if(!Array.isArray(e.options)||e.options.length===0)throw new O(`Select parameter ${e.name} must have options`);return e.options.forEach(n=>{if(!n.label||typeof n.label!="string")throw new O(`Invalid option label in parameter ${e.name}`);if(n.value===void 0||n.value===null)throw new O(`Invalid option value in parameter ${e.name}`)}),e}static validateRadioParameter(e){if(!Array.isArray(e.options)||e.options.length===0)throw new O(`Radio parameter ${e.name} must have options`);return e.options.forEach(n=>{if(!n.label||typeof n.label!="string")throw new O(`Invalid option label in parameter ${e.name}`);if(n.value===void 0||n.value===null)throw new O(`Invalid option value in parameter ${e.name}`)}),e}static validateStandardParameter(e){if(e.value!==void 0)switch(e.type){case"email":if(!we.isValidEmail(e.value))throw new O(`Invalid email format for default value in parameter ${e.name}`);break;case"url":if(!we.isValidUrl(e.value))throw new O(`Invalid URL format for default value in parameter ${e.name}`);break;case"datetime":if(!we.isValidDateTime(e.value))throw new O(`Invalid datetime format for default value in parameter ${e.name}`)}if("pattern"in e&&e.pattern)try{new RegExp(e.pattern)}catch{throw new O(`Invalid regex pattern for parameter ${e.name}`)}return e}static isValidEmail(e){return/^[\w-]+@([\w-]+\.)+[\w-]{2,4}$/.test(e)}static isValidUrl(e){try{return new URL(e),!0}catch{return!1}}static isValidDateTime(e){const n=new Date(e);return!isNaN(n.getTime())}static isHttpAction(e){return!(e.type!=="http"||!e||typeof e!="object"||e.abi!==void 0||e.functionName!==void 0||e.address!==void 0||e.to!==void 0||typeof e.label!="string"||typeof e.path!="string"||e.headers!==void 0&&typeof e.headers!="object"||e.params!==void 0&&(!Array.isArray(e.params)||!e.params.every(n=>n&&typeof n=="object"&&typeof n.name=="string"&&typeof n.label=="string"&&typeof n.type=="string")))}}class nu{static validateFlow(e){if(!e.label)throw new O("Flow must have a label");if(!e.initialActionId)throw new O("Flow must have an initialActionId");if(!Array.isArray(e.actions)||e.actions.length===0)throw new O("Flow must have at least one action");if(!e.actions.find(s=>s.id===e.initialActionId))throw new O(`Initial action '${e.initialActionId}' not found`);const n=new Set;for(const s of e.actions){if(n.has(s.id))throw new O(`Flow contains actions with duplicate ID: ${s.id}`);n.add(s.id)}const r=e.actions.map(s=>this.validateAction(s,e));return this.validateActionGraph(e),{...e,actions:r}}static validateAction(e,n){if(!e.id)throw new O("Action must have an id");if(!e.label)throw new O(`Action '${e.id}' must have a label`);switch(e.type){case"blockchain":return this.validateBlockchainAction(e,n);case"transfer":return this.validateTransferAction(e,n);case"http":return this.validateHttpAction(e,n);case"decision":return this.validateDecisionAction(e,n);case"completion":return this.validateCompletionAction(e,n);default:throw new O(`Unknown action type for action '${e.id}'`)}}static validateBlockchainAction(e,n){if(!e.address)throw new O(`Blockchain action '${e.id}' must have an address`);if(!(0,Zt.isAddress)(e.address))throw new O(`Blockchain action '${e.id}' has invalid address: ${e.address}`);if(!e.functionName)throw new O(`Blockchain action '${e.id}' must have a functionName`);if(!e.abi||!Array.isArray(e.abi)||e.abi.length===0)throw new O(`Blockchain action '${e.id}' must have a valid ABI`);if(!e.chains||!e.chains.source)throw new O(`Blockchain action '${e.id}' must have a source chain`);return e.nextActions&&this.validateNextActions(e.nextActions,e.id,n),e}static validateTransferAction(e,n){if(e.to&&!e.to.includes("{{")&&!(0,Zt.isAddress)(e.to))throw new O(`Transfer action '${e.id}' has invalid address: ${e.to}`);if(e.amount===void 0||e.amount<=0)throw new O(`Transfer action '${e.id}' must have a positive amount`);if(!e.chains||!e.chains.source)throw new O(`Transfer action '${e.id}' must have a source chain`);return e.nextActions&&this.validateNextActions(e.nextActions,e.id,n),e}static validateHttpAction(e,n){try{const r={type:"http",label:e.label,path:e.path,params:e.params||[]},s=we.validateHttpAction(r);return e.params=s.params,e.nextActions&&this.validateNextActions(e.nextActions,e.id,n),e}catch(r){throw r instanceof Error?new O(`HTTP action '${e.id}' validation failed: ${r.message}`):r}}static validateDecisionAction(e,n){if(!e.title)throw new O(`Decision action '${e.id}' must have a title`);if(!e.options||!Array.isArray(e.options)||e.options.length===0)throw new O(`Decision action '${e.id}' must have options`);return e.options.forEach(r=>{if(!r.label)throw new O(`Option in decision action '${e.id}' must have a label`);if(r.value===void 0)throw new O(`Option '${r.label}' in decision action '${e.id}' must have a value`);if(!r.nextActionId)throw new O(`Option '${r.label}' in decision action '${e.id}' must have a nextActionId`);if(!n.actions.find(s=>s.id===r.nextActionId))throw new O(`Next action '${r.nextActionId}' from option '${r.label}' in decision action '${e.id}' not found`)}),e}static validateCompletionAction(e,n){if(!e.message)throw new O(`Completion action '${e.id}' must have a message`);if(!["success","error","info"].includes(e.status))throw new O(`Completion action '${e.id}' must have a valid status (success, error, or info)`);if(e.nextActions&&e.nextActions.length>0)throw new O(`Completion action '${e.id}' should not have nextActions`);return e}static validateNextActions(e,n,r){e.forEach(s=>{if(!s.actionId)throw new O(`NextAction in action '${n}' must have an actionId`);if(!r.actions.find(i=>i.id===s.actionId))throw new O(`Next action '${s.actionId}' from action '${n}' not found`);s.conditions&&s.conditions.forEach(i=>{if(!i.field)throw new O(`Condition in nextAction '${s.actionId}' from action '${n}' must have a field`);if(!["eq","ne","gt","lt","gte","lte","contains"].includes(i.operator))throw new O(`Condition in nextAction '${s.actionId}' from action '${n}' has invalid operator: ${i.operator}`);if(i.value===void 0)throw new O(`Condition in nextAction '${s.actionId}' from action '${n}' must have a value`)})})}static validateActionGraph(e){const n=new Set,r=[e.initialActionId];for(;r.length>0;){const i=r.pop();if(n.has(i))continue;n.add(i);const o=e.actions.find(a=>a.id===i);o&&(o.type==="decision"?o.options.forEach(a=>{n.has(a.nextActionId)||r.push(a.nextActionId)}):o.nextActions&&o.nextActions.forEach(a=>{n.has(a.actionId)||r.push(a.actionId)}))}const s=e.actions.filter(i=>!n.has(i.id));if(s.length>0){const i=s.map(o=>o.id).join(", ");throw new O(`The following actions are unreachable: ${i}`)}}static isActionFlow(e){return e&&typeof e=="object"&&e.type==="flow"&&typeof e.label=="string"&&typeof e.initialActionId=="string"&&Array.isArray(e.actions)&&e.actions.length>0}}function ho(t){return["text","email","url","textarea","string","bytes"].includes(t.type)||/^bytes\d+$/.test(t.type)}function po(t){return["number","datetime"].includes(t.type)||/^(u?int)\d*$/.test(t.type)}function Hf(t){return t.type==="address"}class u1{static validateBaseParameter(e){if(!e.name)throw new q("Parameter missing required 'name' field");if(!e.label)throw new q(`Parameter '${e.name}' missing required 'label' field`);if(!e.type)throw new q(`Parameter '${e.name}' missing required 'type' field`)}static validateSelectionParameter(e){if(this.validateBaseParameter(e),!e.options||!Array.isArray(e.options)||e.options.length===0)throw new q(`${e.type} parameter '${e.name}' must have at least one option`);const n=new Set;if(e.options.forEach(r=>{if(!r.label)throw new q(`Option missing required 'label' in parameter '${e.name}'`);if(r.value===void 0)throw new q(`Option missing required 'value' in parameter '${e.name}'`);const s=typeof r.value=="object"&&r.value!==null?JSON.stringify(r.value):String(r.value);if(n.has(s))throw new q(`Duplicate value '${r.value}' in ${e.type} parameter '${e.name}'`);n.add(s)}),e.type==="radio"&&e.options.length<2)throw new q(`Radio parameter '${e.name}' must have at least 2 options`)}static validateTextBasedParameter(e){if(this.validateBaseParameter(e),e.minLength!==void 0&&e.maxLength!==void 0&&e.minLength>e.maxLength)throw new q(`Parameter '${e.name}' has minLength (${e.minLength}) greater than maxLength (${e.maxLength})`);if(e.pattern)try{new RegExp(e.pattern)}catch(n){throw new q(`Invalid regex pattern for parameter '${e.name}': ${n}`)}if(e.type==="email"&&e.value!==void 0&&typeof e.value=="string"&&!/^[\w\-.]+@([\w-]+\.)+[\w-]{2,4}$/.test(e.value))throw new q(`Invalid email format for parameter '${e.name}': ${e.value}`);if(e.type==="url"&&e.value!==void 0&&typeof e.value=="string")try{new URL(e.value)}catch{throw new q(`Invalid URL format for parameter '${e.name}': ${e.value}`)}}static validateNumberBasedParameter(e){if(this.validateBaseParameter(e),e.min!==void 0&&e.max!==void 0&&e.min>e.max)throw new q(`Parameter '${e.name}' has min (${e.min}) greater than max (${e.max})`);if(e.pattern)try{new RegExp(e.pattern)}catch(n){throw new q(`Invalid regex pattern for parameter '${e.name}': ${n}`)}if(e.value!==void 0){if(typeof e.value!="number"&&typeof e.value!="bigint"){if(typeof e.value!="string")throw new q(`Invalid value type for number parameter '${e.name}': ${typeof e.value}`);if(!/^-?\d+(\.\d+)?$/.test(e.value))throw new q(`Invalid number format for parameter '${e.name}': ${e.value}`)}if(e.min!==void 0){const n=Number(e.value);if(n<e.min)throw new q(`Value ${n} is less than minimum ${e.min} for parameter '${e.name}'`)}if(e.max!==void 0){const n=Number(e.value);if(n>e.max)throw new q(`Value ${n} is greater than maximum ${e.max} for parameter '${e.name}'`)}}}static validateAddressParameter(e){if(this.validateBaseParameter(e),e.pattern)try{new RegExp(e.pattern)}catch(n){throw new q(`Invalid regex pattern for parameter '${e.name}': ${n}`)}if(e.value!==void 0&&typeof e.value=="string"&&e.value!=="sender"&&!(0,Zt.isAddress)(e.value))throw new q(`Invalid address format for parameter '${e.name}': ${e.value}`)}static validateBooleanParameter(e){if(this.validateBaseParameter(e),e.value!==void 0&&typeof e.value!="boolean")throw new q(`Invalid boolean value for parameter '${e.name}': ${e.value}`)}static validateParameter(e){if(function(n){return n.type==="select"}(e))this.validateSelectionParameter(e);else if(function(n){return n.type==="radio"}(e))this.validateSelectionParameter(e);else if(ho(e))this.validateTextBasedParameter(e);else if(po(e))this.validateNumberBasedParameter(e);else if(Hf(e))this.validateAddressParameter(e);else{if(!function(n){return n.type==="bool"||n.type==="boolean"}(e))throw new q(`Unknown parameter type: ${e.type?`"${e.type}"`:"undefined"} for parameter "${e.name||"unnamed"}"`);this.validateBooleanParameter(e)}}}class Ke{static formatParamName(e){return e.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^\w/,n=>n.toUpperCase()).trim()}static validateBlockchainAction(e){try{Ke.validateBlockchainActionMetadataStructure(e);const n=Ke.getAbiParameters(e),r=Ke.getBlockchainActionType(e),s=n.some(i=>i.name==="amount");if(r!=="payable"&&e.amount!==void 0&&!s)throw new V('The action function is not payable according to the ABI, but an "amount" was provided at the top level.');if(e.params){if(e.params.length!==n.length)throw new V(`Function ${e.functionName} expects ${n.length} parameters, but received ${e.params.length}.`);Ke.validateBlockchainParameters(e.params,n,e.functionName)}if(r==="payable"&&e.amount===void 0&&!s)throw new V(`Payable function ${e.functionName} called without a top-level 'amount' and no 'amount' parameter.`);return{...e,abiParams:[...n],blockchainActionType:r}}catch(n){if(n instanceof V||n instanceof q)throw n;{const r=n instanceof Error?n.message:String(n);throw new V(`Unexpected error validating blockchain action: ${r}`)}}}static validateBlockchainActionMetadataStructure(e){if(!e||typeof e!="object")throw new V("The action must be a valid object");if(typeof e.label!="string"||!e.label)throw new V("The action must have a valid label");if(!e.address||typeof e.address!="string"||!(0,Zt.isAddress)(e.address))throw new V(`Invalid or missing contract address: ${e.address}`);if(!Array.isArray(e.abi)||e.abi.length===0)throw new V("The action must have a valid ABI (non-empty array)");if(typeof e.functionName!="string"||!e.functionName)throw new V("The action must have a valid function name");if(!this.isValidFunction(e.abi,e.functionName))throw new V(`The function "${e.functionName}" does not exist in the provided ABI`);if(!this.validateChainContext(e.chains))throw new V("The action must have a valid chains configuration (source required)");if(e.amount!==void 0&&(typeof e.amount!="number"||e.amount<0))throw new V('If "amount" is provided, it must be a non-negative number');if(e.params!==void 0&&!Array.isArray(e.params))throw new V('If "params" is provided, it must be an array')}static validateChainContext(e){return!(!e||typeof e!="object"||!e.source||!this.isValidChain(e.source)||e.destination!==void 0&&!this.isValidChain(e.destination))}static isValidChain(e){return typeof e=="string"&&["fuji","avalanche","alfajores","celo","ethereum"].includes(e)}static validateBlockchainParameters(e,n,r){if(!Array.isArray(e))throw new V(`Parameters for function ${r} must be an array.`);if(e.length!==n.length)throw new V(`Function ${r} expects ${n.length} parameters, but received ${e.length}.`);for(let s=0;s<n.length;s++){const i=n[s],o=e[s],a=i.type;if(this.validateBasicParameterStructure(o,s,r),o.name!==i.name)throw new V(`Parameter name mismatch at index ${s} for function ${r}. Expected '${i.name}', received '${o.name}'. Parameters must be in the same order as the ABI.`);this.validateCommonOptionalProperties(o);try{const c=o.type;if(o.fixed===!0){if(o.value===void 0)throw new V(`Parameter "${o.name}" is marked as 'fixed: true' but is missing a 'value'.`);if(!this.isValueCompatible(o.value,a))throw new V(`Fixed 'value' for parameter '${o.name}' is not compatible with ABI type '${a}'. Value: ${JSON.stringify(o.value)} (type: ${typeof o.value})`)}if(c==="select"||c==="radio")this.validateSelectionParameter(o,a);else{const u=c||this.getInputTypeFromAbiType(a);this.validateStandardParameter(o,a,u)}}catch(c){throw c instanceof V?c:new V(`Error validating parameter '${o.name}': ${c instanceof Error?c.message:String(c)}`)}}}static validateBasicParameterStructure(e,n,r){if(!e||typeof e!="object")throw new V(`Invalid parameter definition at index ${n} for function ${r}.`);if(typeof e.name!="string"||!e.name)throw new V(`Parameter at index ${n} for function ${r} must have a valid name.`);if(typeof e.label!="string"||!e.label)throw new V(`Parameter "${e.name}" must have a valid label.`)}static validateCommonOptionalProperties(e){if(e.required!==void 0&&typeof e.required!="boolean")throw new V(`Parameter "${e.name}" has an invalid 'required' value (must be boolean).`);if(e.description!==void 0&&typeof e.description!="string")throw new V(`Parameter "${e.name}" has an invalid 'description' value (must be string).`);if(e.fixed!==void 0&&typeof e.fixed!="boolean")throw new V(`Parameter "${e.name}" has an invalid 'fixed' value (must be boolean).`)}static validateStandardParameter(e,n,r){if(this.isAbiType(r)&&r!==n)throw new V(`Type mismatch for parameter '${e.name}'. ABI expects '${n}', but received direct type '${r}'.`);if(this.isUIType(r)&&!this.isUITypeCompatible(r,n))throw new V(`UI type '${r}' for parameter '${e.name}' is not compatible with ABI type '${n}'.`);if(e.value!==void 0&&e.fixed!==!0&&!this.isValueCompatible(e.value,n))throw new V(`Default 'value' for parameter '${e.name}' is not compatible with ABI type '${n}'. Value: ${JSON.stringify(e.value)}`);this.validateStandardParameterProperties(e)}static validateSelectionParameter(e,n){if(!e.options||!Array.isArray(e.options)||e.options.length===0)throw new V(`Parameter '${e.name}' of type '${e.type}' must have a non-empty 'options' array.`);for(const r of e.options){if(typeof r.label!="string"||!r.label)throw new V(`Parameter '${e.name}' has an option with an invalid label.`);if(r.value===void 0)throw new V(`Parameter '${e.name}' has an option (label: "${r.label}") without a value.`);if(!this.isValueCompatible(r.value,n))throw new V(`Invalid option value '${typeof r.value=="object"?JSON.stringify(r.value):r.value}' (label: "${r.label}") for parameter '${e.name}'. Expected value compatible with ABI type '${n}'.`)}if(e.value!==void 0&&e.fixed!==!0){if(!this.isValueCompatible(e.value,n))throw new V(`Default 'value' for parameter '${e.name}' is not compatible with ABI type '${n}'. Value: ${JSON.stringify(e.value)}`);if(!e.options.some(r=>typeof e.value=="object"&&e.value!==null?JSON.stringify(r.value)===JSON.stringify(e.value):r.value===e.value))throw new V(`Default 'value' for parameter '${e.name}' does not match any option. Value: ${JSON.stringify(e.value)}`)}this.validateSelectionOptions(e)}static validateStandardParameterProperties(e){if(ho(e)){if(e.minLength!==void 0&&(typeof e.minLength!="number"||e.minLength<0))throw new V(`Parameter "${e.name}" has an invalid 'minLength'.`);if(e.maxLength!==void 0&&(typeof e.maxLength!="number"||e.maxLength<0))throw new V(`Parameter "${e.name}" has an invalid 'maxLength'.`);if(e.minLength!==void 0&&e.maxLength!==void 0&&e.minLength>e.maxLength)throw new V(`Parameter "${e.name}" has minLength > maxLength.`)}if(po(e)){if(e.min!==void 0&&typeof e.min!="number")throw new V(`Parameter "${e.name}" has an invalid 'min' value.`);if(e.max!==void 0&&typeof e.max!="number")throw new V(`Parameter "${e.name}" has an invalid 'max' value.`);if(e.min!==void 0&&e.max!==void 0&&e.min>e.max)throw new V(`Parameter "${e.name}" has min > max.`)}if((ho(e)||po(e)||Hf(e))&&e.pattern!==void 0){if(typeof e.pattern!="string")throw new V(`Parameter "${e.name}" has an invalid 'pattern' (must be string).`);try{new RegExp(e.pattern)}catch(n){throw new V(`Parameter "${e.name}" has an invalid regex pattern: ${n instanceof Error?n.message:n}`)}}}static validateSelectionOptions(e){const n=new Set;for(const s of e.options){const i=typeof s.value=="object"&&s.value!==null?JSON.stringify(s.value):String(s.value);if(n.has(i))throw new V(`Parameter "${e.name}" has options with duplicate values.`);n.add(i)}const r=e.options.map(s=>s.label);if(new Set(r).size!==r.length)throw new V(`Parameter "${e.name}" has options with duplicate labels.`);if(e.type==="radio"&&e.options.length<2)throw new V(`Radio parameter "${e.name}" must have at least 2 options.`)}static getInputTypeFromAbiType(e){return e==="address"?"address":e==="bool"?"bool":e==="string"?"text":e.startsWith("uint")||e.startsWith("int")?"number":(e.startsWith("bytes")||e.endsWith("[]"),"text")}static isAbiType(e){if(!e)return!1;if(new Set(["address","bool","string","bytes","function","tuple"]).has(e)||/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(e)||/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])$/.test(e))return!0;if(e.endsWith("[]")){const n=e.slice(0,-2);return n.length>0&&!n.endsWith("[]")&&this.isAbiType(n)}return!1}static isUIType(e){return new Set(["text","number","email","url","datetime","textarea"]).has(e)}static isUITypeCompatible(e,n){switch(e){case"text":case"email":case"url":case"textarea":return n==="string"||n.startsWith("bytes");case"number":return n.startsWith("uint")||n.startsWith("int");case"datetime":return n.startsWith("uint");default:return!1}}static isValueCompatible(e,n){try{if(e==null)return!1;const r=typeof e;if(n==="address")return r==="string"&&(e.toLowerCase()==="sender"||(0,Zt.isAddress)(e));if(n==="bool")return r==="boolean";if(n==="string")return r==="string";if(n.startsWith("uint")||n.startsWith("int"))return r==="number"?Number.isInteger(e):r==="bigint"||r==="string"&&/^-?\d+$/.test(e);if(n.startsWith("bytes")){if(r!=="string"||!e.startsWith("0x")||!/^(0x)?[0-9a-fA-F]*$/.test(e))return!1;if(n!=="bytes")try{const s=parseInt(n.replace("bytes",""));return e.length===2+2*s}catch{return!1}return(e.length-2)%2==0}if(n.endsWith("[]")){if(!Array.isArray(e))return!1;const s=n.slice(0,-2);return e.every(i=>this.isValueCompatible(i,s))}return n==="tuple"?r==="object"&&!Array.isArray(e):(console.warn(`Compatibility check not fully implemented for ABI type: ${n}`),!0)}catch(r){return console.error(`Error validating value compatibility: ${r}`),!1}}static getAbiFunction(e,n){const r=e.find(s=>s.type==="function"&&s.name===n);if(!r)throw new V(`Function "${n}" not found in the ABI`);return r}static isValidFunction(e,n){return e.some(r=>r.type==="function"&&r.name===n)}static getAbiParameters(e){return this.getAbiFunction(e.abi,e.functionName).inputs||[]}static getBlockchainActionType(e){return this.getAbiFunction(e.abi,e.functionName).stateMutability||"nonpayable"}static isBlockchainActionMetadata(e){return e&&typeof e=="object"&&typeof e.label=="string"&&typeof e.address=="string"&&Array.isArray(e.abi)&&typeof e.functionName=="string"&&e.chains&&typeof e.chains.source=="string"}static isBlockchainAction(e){return this.isBlockchainActionMetadata(e)&&typeof e.blockchainActionType=="string"&&Array.isArray(e.abiParams)}}class Ye{static validateTransferAction(e){return Ye.validateBasicFields(e),Ye.validateChains(e.chains),Ye.validateRecipient(e),Ye.validateAmount(e),e}static validateBasicFields(e){if(!e.label||typeof e.label!="string")throw new O("Transfer action must have a valid label")}static validateChains(e){if(!e||typeof e!="object")throw new O("Chains configuration is required");if(!e.source||typeof e.source!="string")throw new O("Source chain is required");const n=["fuji","avalanche","alfajores","celo"];if(!n.includes(e.source))throw new O(`Invalid source chain: ${e.source}`);if(e.destination!==void 0&&(typeof e.destination!="string"||!n.includes(e.destination)))throw new O(`Invalid destination chain: ${e.destination}`)}static validateRecipient(e){if(e.to!==void 0){if(typeof e.to!="string")throw new O("Recipient address must be a string");if(!(0,Zt.isAddress)(e.to))throw new O(`Invalid recipient address: ${e.to}`)}if(e.recipient!==void 0){if(typeof e.recipient!="object"||e.recipient===null)throw new O("Recipient configuration must be an object");if(!["select","input"].includes(e.recipient.type||""))throw new O(`Invalid recipient input type: ${e.recipient.type}`);if(e.recipient.type==="select"&&(!Array.isArray(e.recipient.options)||e.recipient.options.length===0))throw new O("Recipient select options must be a non-empty array")}if(e.to===void 0&&e.recipient===void 0)throw new O('Either "to" or "recipient" must be provided')}static validateAmount(e){if(e.amount!==void 0&&(typeof e.amount!="number"||e.amount<=0))throw new O("Amount must be a positive number");if(e.amountConfig!==void 0){if(typeof e.amountConfig!="object"||e.amountConfig===null)throw new O("Amount configuration must be an object");if(e.amountConfig.type&&!["select","radio","input"].includes(e.amountConfig.type))throw new O(`Invalid amount input type: ${e.amountConfig.type}`);if(["select","radio"].includes(e.amountConfig.type||"")&&(!Array.isArray(e.amountConfig.options)||e.amountConfig.options.length===0))throw new O("Amount options must be a non-empty array");if(e.amountConfig.defaultValue!==void 0&&typeof e.amountConfig.defaultValue!="number")throw new O("Default amount must be a number")}}static isTransferAction(e){if(!e||typeof e!="object"||typeof e.label!="string"||!e.chains||typeof e.chains!="object"||typeof e.chains.source!="string")return!1;const n=e.to!==void 0||e.amount!==void 0||e.recipient!==void 0||e.amountConfig!==void 0,r=e.address===void 0&&e.abi===void 0&&e.functionName===void 0;return n&&r}}class lt{static validateDynamicAction(e,n){if(lt.validateBasicFields(e),lt.validatePath(e.path,n),e.params&&e.params.length>0&&lt.validateParameters(e.params),!e.chains||!e.chains.source)throw new ue("Dynamic action must specify a source chain");return e}static validateBasicFields(e){if(!e.label||typeof e.label!="string")throw new ue("Dynamic action must have a valid label");if(!e.type||e.type!=="dynamic")throw new ue('Action type must be "dynamic"');if(e.description&&typeof e.description!="string")throw new ue("Description must be a string if provided");if(!e.path||typeof e.path!="string")throw new ue("Dynamic action must have a valid path")}static validatePath(e,n){if(e.startsWith("http"))try{new URL(e)}catch{throw new ue(`[ValidatePath]Invalid path URL: ${e}`)}else{if(!e.startsWith("/"))throw new ue(`Invalid path format: '${e}'. Must be a full URL or start with '/'.`);if(!n)throw new ue(`Dynamic action has a relative path '${e}' but no baseUrl is provided in metadata.`);try{new URL(e,n)}catch{throw new ue(`Invalid combination of baseUrl ('${n}') and relative path ('${e}')`)}}}static validateParameters(e){if(!Array.isArray(e))throw new ue("Parameters must be an array");e.forEach(n=>{try{u1.validateParameter(n)}catch(r){const s=r instanceof Error?r.message:String(r);throw new ue(`Invalid parameter: ${s}`)}})}static isDynamicAction(e){return e&&typeof e=="object"&&e.type==="dynamic"&&typeof e.label=="string"&&typeof e.path=="string"&&e.chains&&typeof e.chains=="object"&&typeof e.chains.source=="string"}}const l1=[{guard:nu.isActionFlow,validate:nu.validateFlow},{guard:Ke.isBlockchainActionMetadata,validate:Ke.validateBlockchainAction},{guard:Ye.isTransferAction,validate:Ye.validateTransferAction},{guard:we.isHttpAction,validate:we.validateHttpAction},{guard:lt.isDynamicAction,validate:lt.validateDynamicAction}];class d1{static validateBasicMetadata(e){if(!e.url||typeof e.url!="string")throw new q("Metadata missing required 'url' field");if(!e.icon||typeof e.icon!="string")throw new q("Metadata missing required 'icon' field");if(!e.title||typeof e.title!="string")throw new q("Metadata missing required 'title' field");if(!e.description||typeof e.description!="string")throw new q("Metadata missing required 'description' field");if(!Array.isArray(e.actions))throw new q("Metadata missing required 'actions' array");if(e.actions.length===0)throw new q("Metadata must include at least one action");if(e.actions.length>4)throw new q(`Maximum 4 actions allowed, got ${e.actions.length}`);if(e.baseUrl)try{new URL(e.baseUrl)}catch{throw new q(`Invalid baseUrl format: ${e.baseUrl}`)}return e.actions.forEach((n,r)=>{if(!n.type)throw new q(`Action at index ${r} is missing required 'type' property`);const s=["blockchain","transfer","http","dynamic","flow"];if(!s.includes(n.type))throw new q(`Action at index ${r} has invalid type: '${n.type}'. Must be one of: ${s.join(", ")}`)}),!0}static validateBaseUrlAndDynamicActions(e){if(e.baseUrl)try{new URL(e.baseUrl)}catch{throw new q(`Invalid baseUrl: ${e.baseUrl}`)}const n=e.actions.filter(r=>r.type==="dynamic");n.length>0&&n.forEach(r=>{if(r.path&&r.path.startsWith("/")&&!e.baseUrl)throw new ue(`Dynamic action '${r.label}' has a relative path '${r.path}' but no baseUrl is provided in metadata`)})}static createMetadata(e){try{this.validateBasicMetadata(e),this.validateBaseUrlAndDynamicActions(e);const n=e.actions.map(r=>{const s=l1.find(i=>i.guard(r));if(!s)throw new q(`Invalid Action: Unknown action type for action with label "${r.label??"N/A"}"`);if(s.guard!==lt.isDynamicAction)return s.validate(r);try{return s.validate(r,e.baseUrl)}catch(i){throw i instanceof Error?new ue(`Dynamic action '${r.label}' validation failed: ${i.message}`):i}});return{url:e.url,icon:e.icon,title:e.title,description:e.description,baseUrl:e.baseUrl,actions:n}}catch(n){throw n instanceof q||n instanceof ue?n:n instanceof Error?new q(`Error processing metadata: ${n.message}`):new q("Unknown error processing metadata")}}}function f1(t){return d1.createMetadata(t)}const qe={ADDRESS:{type:"address",label:"Wallet Address",required:!0,pattern:"^0x[a-fA-F0-9]{40}$",description:"Enter a valid Ethereum address"},AMOUNT:{type:"number",label:"Amount",required:!0,min:1e-6,description:"Enter the amount to transfer"},YES_NO:{type:"radio",label:"Confirmation",required:!0,options:[{label:"Yes",value:!0},{label:"No",value:!1}],description:"Please confirm your choice"}};function qf(t){return t.map(e=>({label:e.label,value:e.value,description:e.description}))}function ns(t,e,n,r=!0,s){return{name:t,label:e,type:"select",options:qf(n),required:r,description:s}}function h1(t,e,n,r=!0,s){return{name:t,label:e,type:"radio",options:qf(n),required:r,description:s}}function Ge(t,e){return{...t,...e}}const ru=[{name:"swapExactTokensForTokens",type:"function",stateMutability:"nonpayable",inputs:[{name:"amountIn",type:"uint256"},{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]},{name:"swapExactAVAXForTokens",type:"function",stateMutability:"payable",inputs:[{name:"amountOutMin",type:"uint256"},{name:"path",type:"address[]"},{name:"to",type:"address"},{name:"deadline",type:"uint256"}],outputs:[{name:"amounts",type:"uint256[]"}]}],gi=[{name:"createListing",type:"function",stateMutability:"nonpayable",inputs:[{name:"nftAddress",type:"address"},{name:"tokenId",type:"uint256"},{name:"price",type:"uint256"},{name:"expiresAt",type:"uint256"}],outputs:[{name:"listingId",type:"uint256"}]},{name:"buyNFT",type:"function",stateMutability:"payable",inputs:[{name:"listingId",type:"uint256"}],outputs:[]},{name:"cancelListing",type:"function",stateMutability:"nonpayable",inputs:[{name:"listingId",type:"uint256"}],outputs:[]}],bi=[{name:"createCampaign",type:"function",stateMutability:"nonpayable",inputs:[{name:"title",type:"string"},{name:"description",type:"string"},{name:"goal",type:"uint256"},{name:"deadline",type:"uint256"},{name:"beneficiary",type:"address"}],outputs:[{name:"campaignId",type:"uint256"}]},{name:"donate",type:"function",stateMutability:"payable",inputs:[{name:"campaignId",type:"uint256"}],outputs:[]},{name:"claimFunds",type:"function",stateMutability:"nonpayable",inputs:[{name:"campaignId",type:"uint256"}],outputs:[]}];Ge(qe.ADDRESS,{name:"spender",label:"Router Address",value:"0x5ee75a1B1648C023e885E58bD3735Ae273f2cc52",fixed:!0}),ns("path","Token Path",[{label:"AVAX -> USDC",value:["0xTokenAAddress","0xTokenBAddress"],description:"Swap AVAX for USDC"},{label:"AVAX -> USDT",value:["0xTokenAAddress","0xTokenCAddress"],description:"Swap AVAX for USDT"}],!0,"Select the token swap path"),Ge(qe.ADDRESS,{name:"to",label:"Recipient",value:"sender"}),Math.floor(Date.now()/1e3)+1200,ns("path","Token Path",[{label:"AVAX -> USDC",value:["0xWAVAXAddress","0xTokenBAddress"],description:"Swap AVAX for USDC"},{label:"AVAX -> USDT",value:["0xWAVAXAddress","0xTokenCAddress"],description:"Swap AVAX for USDT"}],!0,"Select the token swap path"),Ge(qe.ADDRESS,{name:"to",label:"Recipient",value:"sender"}),Math.floor(Date.now()/1e3)+1200,Ge(qe.ADDRESS,{name:"nftAddress",label:"NFT Collection Address"}),Math.floor(Date.now()/1e3)+604800,Math.floor(Date.now()/1e3)+86400,Ge(qe.ADDRESS,{name:"beneficiary",label:"Beneficiary Address",value:"sender"}),ns("token","Select Token",[{label:"USDC",value:"0xA7D7079b0FEaD91F3e65f86E8915Cb59c1a4C664",description:"USD Coin"},{label:"USDT",value:"0xc7198437980c041c805A1EDcbA50c1Ce5db95118",description:"Tether USD"},{label:"DAI",value:"0xd586E7F844cEa2F87f50152665BCbc2C279D8d70",description:"Dai Stablecoin"}],!0,"Select the token you want to bridge"),Ge(qe.ADDRESS,{name:"recipient",label:"Destination Address",value:"sender"}),Math.floor(Date.now()/1e3),ns("selectInput","Dropdown Select",[{label:"Option 1",value:"1",description:"First option"},{label:"Option 2",value:"2",description:"Second option"},{label:"Option 3",value:"3",description:"Third option"}],!0,"Standard dropdown selection"),h1("radioInput","Radio Selection",[{label:"Red",value:"red",description:"Red color"},{label:"Green",value:"green",description:"Green color"},{label:"Blue",value:"blue",description:"Blue color"}],!0,"Radio button selection"),Ge(qe.YES_NO,{name:"yesNoInput",label:"Confirm Choice",description:"Yes/No selection using radio buttons"}),Ge(qe.ADDRESS,{name:"addressInput",label:"Ethereum Address",description:"Ethereum wallet address input with validation"});Ge(qe.ADDRESS,{name:"spender",label:"App Contract",value:"0x1234567890123456789012345678901234567890",fixed:!0}),Ge(qe.AMOUNT,{name:"amount",label:"Amount to Approve",value:"115792089237316195423570985008687907853269984665640564039457584007913129639935"});class p1{constructor(e){this.baseUrl=e}async execute(e,n,r){try{if(e.type!=="dynamic")throw new V('Action type must be "dynamic"');if(!e.path||typeof e.path!="string")throw new V("Dynamic action must have a valid path");if(!this.baseUrl&&!e.path.startsWith("http"))throw new V(`Dynamic action '${e.label}' has a relative path '${e.path}' but no baseUrl is provided in metadata`);let s=e.path.startsWith("http")?e.path:this.getFullUrl(e);s=this.appendQueryParams(e,n,r,s);const i=await fetch(s,{method:"POST",headers:{Accept:"application/json","x-sdk-version":"1.0.0","x-wallet-address":r.userAddress||"","x-chain-id":e.chains.source}});if(!i.ok){const c=await i.text();throw new Error(`HTTP Error! Status: ${i.status} ${i.statusText}. Details: ${c}`)}let o;try{o=await i.json()}catch(c){throw new Error(`Invalid JSON response: ${c instanceof Error?c.message:String(c)}`)}if(this.isValidExecutionResponse(o))return o;const a=this.adaptToExecutionResponse(o);if(a)return a;throw new Error(`Invalid response format from endpoint for action '${e.label}'. Expected ExecutionResponse format.`)}catch(s){const i=s instanceof Error?s.message:"Unknown error";throw new V(`Error executing action '${e.label}': ${i}`)}}getFullUrl(e){if(!this.baseUrl)throw new V("Base URL is not provided");return`${this.baseUrl.endsWith("/")?this.baseUrl:`${this.baseUrl}/`}${e.path.startsWith("/")?e.path.slice(1):e.path}`}appendQueryParams(e,n,r,s){const i=new URL(s);return e.params&&e.params.forEach(o=>{o.fixed||o.value!==void 0?i.searchParams.append(o.name,String(o.value)):n[o.name]!==void 0&&i.searchParams.append(o.name,String(n[o.name]))}),r.userAddress&&i.searchParams.append("userAddress",r.userAddress),e.chains&&(i.searchParams.append("chain",e.chains.source),e.chains.destination&&i.searchParams.append("destinationChain",e.chains.destination)),i.toString()}isValidExecutionResponse(e){return e&&typeof e=="object"&&typeof e.serializedTransaction=="string"&&e.serializedTransaction.startsWith("0x")&&typeof e.chainId=="string"&&e.chainId.length>0}adaptToExecutionResponse(e){if(!e||typeof e!="object")return null;let n,r;if(typeof e.serializedTransaction=="string"&&e.serializedTransaction.startsWith("0x")?n=e.serializedTransaction:typeof e.tx=="string"&&e.tx.startsWith("0x")?n=e.tx:typeof e.transaction=="string"&&e.transaction.startsWith("0x")?n=e.transaction:typeof e.transactionHash=="string"&&e.transactionHash.startsWith("0x")&&(n=e.transactionHash),!n||(typeof e.chainId=="string"&&e.chainId?r=e.chainId:typeof e.chain=="string"&&e.chain?r=e.chain:typeof e.network=="string"&&e.network?r=e.network:typeof e.blockchain=="string"&&e.blockchain&&(r=e.blockchain),!r))return null;const s={serializedTransaction:n,chainId:r};if(Array.isArray(e.abi)&&(s.abi=e.abi),e.functionName||e.params||e.decoded&&e.decoded.functionName)if(s.params={functionName:typeof e.functionName=="string"?e.functionName:e.decoded&&typeof e.decoded.functionName=="string"?e.decoded.functionName:"unknown",args:{}},typeof e.params!="object"||Array.isArray(e.params)){if(e.decoded&&e.decoded.params){const i=e.decoded.params;Array.isArray(i)&&i.forEach(o=>{o&&typeof o=="object"&&"name"in o&&"value"in o&&(s.params.args[o.name]=o.value)})}}else s.params.args=e.params;return s}}Zt.isAddress;var hs=null,mo="sherry_client_key";async function zE(t){{if(hs=null,typeof chrome!==void 0&&chrome.storage)try{await chrome.storage.local.remove(mo)}catch(e){throw e}return}}async function m1(){if(hs)return hs;if(typeof chrome!==void 0&&chrome.storage)try{const e=(await chrome.storage.local.get(mo))[mo];if(e)return hs=e,e}catch(t){throw t}return null}function at(t){return t.startsWith("0x")?t.slice(2):t}var y1="https://proxy.sherry.social",g1="https://api.sherry.social/v1/directory/v1";async function b1(t,e=!1){const n=await m1(),r=`${y1}/proxy`,s=new URLSearchParams;s.set("url",t);const i=`${r}?${s.toString()}`,o={Accept:"application/json","X-Sherrylinks-Extension":e?"true":"false"};return n?o["X-Sherrylinks-Client-Key"]=n:console.warn("[proxify] No client key available. Proxy request might be rejected if key is required."),{url:i,headers:o}}var w1=class extends Error{constructor({message:e,code:n="UNKNOWN_ERROR",httpStatus:r,originalError:s,context:i}){super(e);me(this,"code");me(this,"httpStatus");me(this,"originalError");me(this,"context");this.name=this.constructor.name,this.code=n,this.httpStatus=r,this.originalError=s,this.context=i,Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}toJSON(){return{name:this.name,message:this.message,code:this.code,httpStatus:this.httpStatus,stack:this.stack,context:this.context,originalError:this.originalError?{message:this.originalError.message,name:this.originalError.name,stack:this.originalError.stack}:void 0}}},Xe=class xt extends w1{constructor({message:e,code:n="MINI_APP_ERROR",httpStatus:r,originalError:s,context:i}){super({message:e,code:n,httpStatus:r,originalError:s,context:i})}static metadataFetchFailed(e,n){return new xt({message:`Failed to fetch MiniApp metadata from ${e}`,code:"METADATA_FETCH_FAILED",httpStatus:n,context:{url:e}})}static invalidUrl(e,n){return new xt({message:`Invalid MiniApp URL: ${e}. Reason: ${n}`,code:"INVALID_URL",context:{url:e,reason:n}})}static invalidMetadata(e,n){return new xt({message:`Invalid MiniApp metadata: ${e}`,code:"INVALID_METADATA",originalError:n,context:{reason:e}})}static actionError(e,n){return new xt({message:`Failed to execute MiniApp action at index ${e}: ${n}`,code:"ACTION_EXECUTION_ERROR",context:{actionIndex:e,reason:n}})}static directoryFetchFailed(e,n,r){return new xt({message:`Failed to fetch MiniApp directory from ${e}. Status: ${n}${r?` (${r})`:""}`,code:"REGISTRY_FETCH_FAILED",httpStatus:n,context:{url:e}})}static invalidDirectoryFormat(e){return new xt({message:`Invalid MiniApp directory format: ${e}`,code:"INVALID_REGISTRY_FORMAT",context:{reason:e}})}static directoryRefreshError(e,n){return new xt({message:`Error during MiniApp directory refresh: ${e}`,code:"REGISTRY_REFRESH_ERROR",originalError:n,context:{reason:e}})}},Ot,_s=(Ot=class{constructor(e={}){me(this,"miniAppsByHostAndPath",new Map);me(this,"miniAppsByHost",new Map);me(this,"lastUpdated",new Date(0));me(this,"isRefreshing",!1);me(this,"isExtension",!1);me(this,"defaultDirectoryUrl");me(this,"initializationPromise",null);me(this,"isInitialized",!1);me(this,"refreshIntervalId",null);this.isExtension=typeof chrome<"u"&&chrome.runtime&&!!chrome.runtime.id,console.log(`[sherrylinks:core] Running in ${this.isExtension?"extension":"website"} mode`),this.defaultDirectoryUrl=g1}static getInstance(e={}){return this.instance||(this.instance=new Ot(e)),this.instance}async init(e={}){if(this.isInitialized&&!e.forceRefresh){console.log("[sherrylinks:core] Directory already initialized.");return}return this.initializationPromise&&!e.forceRefresh?(console.log("[sherrylinks:core] Initialization already in progress, awaiting existing promise."),this.initializationPromise):(e.forceRefresh&&(console.log("[sherrylinks:core] Force refresh requested."),this.isInitialized=!1),this.initializationPromise=(async()=>{try{console.log("[sherrylinks:core] Starting directory initialization/refresh.");const n=this.defaultDirectoryUrl;await this.refresh(n),this.isExtension&&(e!=null&&e.refreshInterval)&&(this.refreshIntervalId&&clearInterval(this.refreshIntervalId),this.refreshIntervalId=setInterval(()=>{this.refresh(n).catch(r=>{console.error("[sherrylinks:core] Error during periodic directory refresh:",r)})},e.refreshInterval),console.log(`[sherrylinks:core] Periodic refresh set up every ${e.refreshInterval}ms.`)),this.isInitialized=!0,console.log("[sherrylinks:core] Directory initialization/refresh completed successfully.")}catch(n){throw console.error("[sherrylinks:core] Directory initialization/refresh failed:",n),this.isInitialized=!1,n}finally{this.initializationPromise=null}})(),this.initializationPromise)}createKey(e,n){return`${e}${n}`}normalizeHost(e){let n=e;if(n.startsWith("http://")||n.startsWith("https://"))try{n=new URL(e).host}catch{console.warn(`[sherrylinks:core] Could not parse host: ${e}, using as-is`);const s=e.match(/^https?:\/\/([^/?#]+)/i);s&&s[1]?n=s[1]:n=e.split("/")[0]||e}return n.startsWith("www.")&&(n=n.substring(4)),n}lookup(e){if(!this.isInitialized)return console.warn('[sherrylinks:core] Lookup called before directory is initialized. Returning "unknown". This might indicate an issue with awaiting directory.init().'),"unknown";console.log(`[sherrylinks:core] Looking up URL: ${e}`);try{const n=typeof e=="string"?new URL(e):e,r=this.normalizeHost(n.host),s=n.pathname;console.log(`[sherrylinks:core] Parsed - Host: ${r}, Path: ${s}`);const i=this.createKey(r,s),o=this.miniAppsByHostAndPath.get(i);if(o)return console.log(`[sherrylinks:core] Exact match found for ${i}: ${o.state}`),o.state;const a=this.miniAppsByHost.get(r);if(a&&a.length>0){console.log(`[sherrylinks:core] Found ${a.length} apps for host ${r}`);for(const l of a){const d=l.path||"/";if(s.startsWith(d))return console.log(`[sherrylinks:core] Path match found: ${d} matches ${s}, state: ${l.state}`),l.state}if(a.find(l=>l.state==="malicious"))return console.warn(`[sherrylinks:core] No specific path match for ${s} on host ${r}, but a malicious app exists for this host. Marking as malicious for safety.`),"malicious";console.log(`[sherrylinks:core] No specific path match for ${s} on host ${r}. Defaulting to unknown as no generic rule applies.`);const u=a.find(l=>(l.path||"/")==="/");return u?(console.log(`[sherrylinks:core] Using root path app state for host ${r}: ${u.state}`),u.state):"unknown"}return console.log(`[sherrylinks:core] No apps found for host ${r}. Returning unknown for ${r}${s}`),"unknown"}catch(n){return console.error(`[sherrylinks:core] Error looking up URL: ${e}`,n),"unknown"}}async refresh(e){if(this.isRefreshing){console.warn("[sherrylinks:core] Directory is already refreshing. Skipping...");return}const n=e||this.defaultDirectoryUrl;this.isRefreshing=!0,console.log(`[sherrylinks:core] Refreshing directory from ${n}`);try{const r=await fetch(n,{headers:{"Cache-Control":"no-cache, no-store",Pragma:"no-cache"}});if(!r.ok)throw Xe.directoryFetchFailed(n,r.status,r.statusText);const s=await r.json();if(!s||typeof s!="object"||!Array.isArray(s.mini_apps))throw Xe.invalidDirectoryFormat("Missing expected fields (mini_apps)");const i=new Map,o=new Map;for(const a of s.mini_apps)if(a&&typeof a=="object"&&a.host&&a.state){const c=a.host,u=this.normalizeHost(a.host),l=a.path||"/",d={...a,host:u,path:l},f=this.createKey(u,l);i.set(f,d),o.has(u)||o.set(u,[]),o.get(u).push(d),console.log(`[sherrylinks:core] Loaded app (Original Host: ${c}): ${u}${l} -> ${a.state}`)}else console.warn("[sherrylinks:core] Skipping invalid MiniApp entry during refresh:",a);for(const[a,c]of o)c.sort((u,l)=>l.path.length-u.path.length),o.set(a,c);this.miniAppsByHostAndPath=i,this.miniAppsByHost=o,this.lastUpdated=new Date(s.lastUpdated),console.log(`[sherrylinks:core] Directory refreshed successfully. ${this.miniAppsByHostAndPath.size} mini apps loaded. Last updated: ${this.lastUpdated.toISOString()}`)}catch(r){if(console.error(`[sherrylinks:core] Failed to refresh MiniApp directory from ${n}:`,r),r instanceof Xe)throw r;const s=r instanceof Error?r.message:String(r);throw Xe.directoryRefreshError(s,r instanceof Error?r:void 0)}finally{this.isRefreshing=!1}}getLastUpdated(){return this.lastUpdated}getCurrentDirectory(){return this.miniAppsByHostAndPath}debug(){console.log("=== Directory Debug ==="),console.log(`Is Initialized: ${this.isInitialized}`),console.log(`Last Updated: ${this.lastUpdated.toISOString()}`),console.log("By Host + Path:");for(const[e,n]of this.miniAppsByHostAndPath)console.log(`  ${e} -> State: ${n.state}, Path in App: ${n.path}`);console.log("By Host (Sorted by path specificity):");for(const[e,n]of this.miniAppsByHost)console.log(`  ${e}:`),n.forEach(r=>console.log(`    Path: ${r.path} -> State: ${r.state}`));console.log("=======================")}},me(Ot,"instance",null),Ot);const Gf=L.createContext({});function v1(t){const e=L.useRef(null);return e.current===null&&(e.current=t()),e.current}const Ca=typeof window<"u",x1=Ca?L.useLayoutEffect:L.useEffect,$a=L.createContext(null);function Ia(t,e){t.indexOf(e)===-1&&t.push(e)}function ka(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const mt=(t,e,n)=>n>e?e:n<t?t:n;let Ba=()=>{};const yt={},Wf=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function Kf(t){return typeof t=="object"&&t!==null}const Yf=t=>/^0[^.\s]+$/u.test(t);function Ma(t){let e;return()=>(e===void 0&&(e=t()),e)}const Ne=t=>t,A1=(t,e)=>n=>e(t(n)),Wr=(...t)=>t.reduce(A1),Tr=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class Ra{constructor(){this.subscriptions=[]}add(e){return Ia(this.subscriptions,e),()=>ka(this.subscriptions,e)}notify(e,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,n,r);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ze=t=>t*1e3,Je=t=>t/1e3;function Xf(t,e){return e?t*(1e3/e):0}const Zf=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,E1=1e-7,P1=12;function T1(t,e,n,r,s){let i,o,a=0;do o=e+(n-e)/2,i=Zf(o,r,s)-t,i>0?n=o:e=o;while(Math.abs(i)>E1&&++a<P1);return o}function Kr(t,e,n,r){if(t===e&&n===r)return Ne;const s=i=>T1(i,0,1,t,n);return i=>i===0||i===1?i:Zf(s(i),e,r)}const Jf=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Qf=t=>e=>1-t(1-e),eh=Kr(.33,1.53,.69,.99),Na=Qf(eh),th=Jf(Na),nh=t=>(t*=2)<1?.5*Na(t):.5*(2-Math.pow(2,-10*(t-1))),Fa=t=>1-Math.sin(Math.acos(t)),rh=Qf(Fa),sh=Jf(Fa),S1=Kr(.42,0,1,1),C1=Kr(0,0,.58,1),ih=Kr(.42,0,.58,1),$1=t=>Array.isArray(t)&&typeof t[0]!="number",oh=t=>Array.isArray(t)&&typeof t[0]=="number",I1={linear:Ne,easeIn:S1,easeInOut:ih,easeOut:C1,circIn:Fa,circInOut:sh,circOut:rh,backIn:Na,backInOut:th,backOut:eh,anticipate:nh},k1=t=>typeof t=="string",su=t=>{if(oh(t)){Ba(t.length===4);const[e,n,r,s]=t;return Kr(e,n,r,s)}else if(k1(t))return I1[t];return t},rs=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],iu={value:null};function B1(t,e){let n=new Set,r=new Set,s=!1,i=!1;const o=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1},c=0;function u(d){o.has(d)&&(l.schedule(d),t()),c++,d(a)}const l={schedule:(d,f=!1,h=!1)=>{const p=h&&s?n:r;return f&&o.add(d),p.has(d)||p.add(d),d},cancel:d=>{r.delete(d),o.delete(d)},process:d=>{if(a=d,s){i=!0;return}s=!0,[n,r]=[r,n],n.forEach(u),e&&iu.value&&iu.value.frameloop[e].push(c),c=0,n.clear(),s=!1,i&&(i=!1,l.process(d))}};return l}const M1=40;function ah(t,e){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>n=!0,o=rs.reduce((g,b)=>(g[b]=B1(i,e?b:void 0),g),{}),{setup:a,read:c,resolveKeyframes:u,preUpdate:l,update:d,preRender:f,render:h,postRender:m}=o,p=()=>{const g=yt.useManualTiming?s.timestamp:performance.now();n=!1,yt.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(g-s.timestamp,M1),1)),s.timestamp=g,s.isProcessing=!0,a.process(s),c.process(s),u.process(s),l.process(s),d.process(s),f.process(s),h.process(s),m.process(s),s.isProcessing=!1,n&&e&&(r=!1,t(p))},v=()=>{n=!0,r=!0,s.isProcessing||t(p)};return{schedule:rs.reduce((g,b)=>{const A=o[b];return g[b]=(P,C=!1,S=!1)=>(n||v(),A.schedule(P,C,S)),g},{}),cancel:g=>{for(let b=0;b<rs.length;b++)o[rs[b]].cancel(g)},state:s,steps:o}}const{schedule:J,cancel:St,state:oe,steps:wi}=ah(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ne,!0);let ps;function R1(){ps=void 0}const Ae={now:()=>(ps===void 0&&Ae.set(oe.isProcessing||yt.useManualTiming?oe.timestamp:performance.now()),ps),set:t=>{ps=t,queueMicrotask(R1)}},ch=t=>e=>typeof e=="string"&&e.startsWith(t),Da=ch("--"),N1=ch("var(--"),La=t=>N1(t)?F1.test(t.split("/*")[0].trim()):!1,F1=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Rn={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Sr={...Rn,transform:t=>mt(0,1,t)},ss={...Rn,default:1},Kn=t=>Math.round(t*1e5)/1e5,ja=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D1(t){return t==null}const L1=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Oa=(t,e)=>n=>!!(typeof n=="string"&&L1.test(n)&&n.startsWith(t)||e&&!D1(n)&&Object.prototype.hasOwnProperty.call(n,e)),uh=(t,e,n)=>r=>{if(typeof r!="string")return r;const[s,i,o,a]=r.match(ja);return{[t]:parseFloat(s),[e]:parseFloat(i),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},j1=t=>mt(0,255,t),vi={...Rn,transform:t=>Math.round(j1(t))},Lt={test:Oa("rgb","red"),parse:uh("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+vi.transform(t)+", "+vi.transform(e)+", "+vi.transform(n)+", "+Kn(Sr.transform(r))+")"};function O1(t){let e="",n="",r="",s="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),s=t.substring(4,5),e+=e,n+=n,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const yo={test:Oa("#"),parse:O1,transform:Lt.transform},Yr=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),At=Yr("deg"),Qe=Yr("%"),_=Yr("px"),V1=Yr("vh"),U1=Yr("vw"),ou={...Qe,parse:t=>Qe.parse(t)/100,transform:t=>Qe.transform(t*100)},un={test:Oa("hsl","hue"),parse:uh("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Qe.transform(Kn(e))+", "+Qe.transform(Kn(n))+", "+Kn(Sr.transform(r))+")"},le={test:t=>Lt.test(t)||yo.test(t)||un.test(t),parse:t=>Lt.test(t)?Lt.parse(t):un.test(t)?un.parse(t):yo.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Lt.transform(t):un.transform(t)},z1=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function _1(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(ja))==null?void 0:e.length)||0)+(((n=t.match(z1))==null?void 0:n.length)||0)>0}const lh="number",dh="color",H1="var",q1="var(",au="${}",G1=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Cr(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},s=[];let i=0;const a=e.replace(G1,c=>(le.test(c)?(r.color.push(i),s.push(dh),n.push(le.parse(c))):c.startsWith(q1)?(r.var.push(i),s.push(H1),n.push(c)):(r.number.push(i),s.push(lh),n.push(parseFloat(c))),++i,au)).split(au);return{values:n,split:a,indexes:r,types:s}}function fh(t){return Cr(t).values}function hh(t){const{split:e,types:n}=Cr(t),r=e.length;return s=>{let i="";for(let o=0;o<r;o++)if(i+=e[o],s[o]!==void 0){const a=n[o];a===lh?i+=Kn(s[o]):a===dh?i+=le.transform(s[o]):i+=s[o]}return i}}const W1=t=>typeof t=="number"?0:t;function K1(t){const e=fh(t);return hh(t)(e.map(W1))}const Ct={test:_1,parse:fh,createTransformer:hh,getAnimatableNone:K1};function xi(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function Y1({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let s=0,i=0,o=0;if(!e)s=i=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;s=xi(c,a,t+1/3),i=xi(c,a,t),o=xi(c,a,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:r}}function As(t,e){return n=>n>0?e:t}const X=(t,e,n)=>t+(e-t)*n,Ai=(t,e,n)=>{const r=t*t,s=n*(e*e-r)+r;return s<0?0:Math.sqrt(s)},X1=[yo,Lt,un],Z1=t=>X1.find(e=>e.test(t));function cu(t){const e=Z1(t);if(!e)return!1;let n=e.parse(t);return e===un&&(n=Y1(n)),n}const uu=(t,e)=>{const n=cu(t),r=cu(e);if(!n||!r)return As(t,e);const s={...n};return i=>(s.red=Ai(n.red,r.red,i),s.green=Ai(n.green,r.green,i),s.blue=Ai(n.blue,r.blue,i),s.alpha=X(n.alpha,r.alpha,i),Lt.transform(s))},go=new Set(["none","hidden"]);function J1(t,e){return go.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function Q1(t,e){return n=>X(t,e,n)}function Va(t){return typeof t=="number"?Q1:typeof t=="string"?La(t)?As:le.test(t)?uu:nv:Array.isArray(t)?ph:typeof t=="object"?le.test(t)?uu:ev:As}function ph(t,e){const n=[...t],r=n.length,s=t.map((i,o)=>Va(i)(i,e[o]));return i=>{for(let o=0;o<r;o++)n[o]=s[o](i);return n}}function ev(t,e){const n={...t,...e},r={};for(const s in n)t[s]!==void 0&&e[s]!==void 0&&(r[s]=Va(t[s])(t[s],e[s]));return s=>{for(const i in r)n[i]=r[i](s);return n}}function tv(t,e){const n=[],r={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][r[i]],a=t.values[o]??0;n[s]=a,r[i]++}return n}const nv=(t,e)=>{const n=Ct.createTransformer(e),r=Cr(t),s=Cr(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?go.has(t)&&!s.values.length||go.has(e)&&!r.values.length?J1(t,e):Wr(ph(tv(r,s),s.values),n):As(t,e)};function mh(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?X(t,e,n):Va(t)(t,e)}const rv=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>J.update(e,n),stop:()=>St(e),now:()=>oe.isProcessing?oe.timestamp:Ae.now()}},yh=(t,e,n=10)=>{let r="";const s=Math.max(Math.round(e/n),2);for(let i=0;i<s;i++)r+=t(i/(s-1))+", ";return`linear(${r.substring(0,r.length-2)})`},Es=2e4;function Ua(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<Es;)e+=n,r=t.next(e);return e>=Es?1/0:e}function sv(t,e=100,n){const r=n({...t,keyframes:[0,e]}),s=Math.min(Ua(r),Es);return{type:"keyframes",ease:i=>r.next(s*i).value/e,duration:Je(s)}}const iv=5;function gh(t,e,n){const r=Math.max(e-iv,0);return Xf(n-t(r),e-r)}const Q={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lu=.001;function ov({duration:t=Q.duration,bounce:e=Q.bounce,velocity:n=Q.velocity,mass:r=Q.mass}){let s,i,o=1-e;o=mt(Q.minDamping,Q.maxDamping,o),t=mt(Q.minDuration,Q.maxDuration,Je(t)),o<1?(s=u=>{const l=u*o,d=l*t,f=l-n,h=bo(u,o),m=Math.exp(-d);return lu-f/h*m},i=u=>{const d=u*o*t,f=d*n+n,h=Math.pow(o,2)*Math.pow(u,2)*t,m=Math.exp(-d),p=bo(Math.pow(u,2),o);return(-s(u)+lu>0?-1:1)*((f-h)*m)/p}):(s=u=>{const l=Math.exp(-u*t),d=(u-n)*t+1;return-.001+l*d},i=u=>{const l=Math.exp(-u*t),d=(n-u)*(t*t);return l*d});const a=5/t,c=cv(s,i,a);if(t=Ze(t),isNaN(c))return{stiffness:Q.stiffness,damping:Q.damping,duration:t};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:o*2*Math.sqrt(r*u),duration:t}}}const av=12;function cv(t,e,n){let r=n;for(let s=1;s<av;s++)r=r-t(r)/e(r);return r}function bo(t,e){return t*Math.sqrt(1-e*e)}const uv=["duration","bounce"],lv=["stiffness","damping","mass"];function du(t,e){return e.some(n=>t[n]!==void 0)}function dv(t){let e={velocity:Q.velocity,stiffness:Q.stiffness,damping:Q.damping,mass:Q.mass,isResolvedFromDuration:!1,...t};if(!du(t,lv)&&du(t,uv))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,i=2*mt(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Q.mass,stiffness:s,damping:i}}else{const n=ov(t);e={...e,...n,mass:Q.mass},e.isResolvedFromDuration=!0}return e}function Ps(t=Q.visualDuration,e=Q.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:s}=n;const i=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:i},{stiffness:c,damping:u,mass:l,duration:d,velocity:f,isResolvedFromDuration:h}=dv({...n,velocity:-Je(n.velocity||0)}),m=f||0,p=u/(2*Math.sqrt(c*l)),v=o-i,y=Je(Math.sqrt(c/l)),w=Math.abs(v)<5;r||(r=w?Q.restSpeed.granular:Q.restSpeed.default),s||(s=w?Q.restDelta.granular:Q.restDelta.default);let g;if(p<1){const A=bo(y,p);g=P=>{const C=Math.exp(-p*y*P);return o-C*((m+p*y*v)/A*Math.sin(A*P)+v*Math.cos(A*P))}}else if(p===1)g=A=>o-Math.exp(-y*A)*(v+(m+y*v)*A);else{const A=y*Math.sqrt(p*p-1);g=P=>{const C=Math.exp(-p*y*P),S=Math.min(A*P,300);return o-C*((m+p*y*v)*Math.sinh(S)+A*v*Math.cosh(S))/A}}const b={calculatedDuration:h&&d||null,next:A=>{const P=g(A);if(h)a.done=A>=d;else{let C=A===0?m:0;p<1&&(C=A===0?Ze(m):gh(g,A,P));const S=Math.abs(C)<=r,x=Math.abs(o-P)<=s;a.done=S&&x}return a.value=a.done?o:P,a},toString:()=>{const A=Math.min(Ua(b),Es),P=yh(C=>b.next(A*C).value,A,30);return A+"ms "+P},toTransition:()=>{}};return b}Ps.applyToOptions=t=>{const e=sv(t,100,Ps);return t.ease=e.ease,t.duration=Ze(e.duration),t.type="keyframes",t};function wo({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:a,max:c,restDelta:u=.5,restSpeed:l}){const d=t[0],f={done:!1,value:d},h=S=>a!==void 0&&S<a||c!==void 0&&S>c,m=S=>a===void 0?c:c===void 0||Math.abs(a-S)<Math.abs(c-S)?a:c;let p=n*e;const v=d+p,y=o===void 0?v:o(v);y!==v&&(p=y-d);const w=S=>-p*Math.exp(-S/r),g=S=>y+w(S),b=S=>{const x=w(S),T=g(S);f.done=Math.abs(x)<=u,f.value=f.done?y:T};let A,P;const C=S=>{h(f.value)&&(A=S,P=Ps({keyframes:[f.value,m(f.value)],velocity:gh(g,S,f.value),damping:s,stiffness:i,restDelta:u,restSpeed:l}))};return C(0),{calculatedDuration:null,next:S=>{let x=!1;return!P&&A===void 0&&(x=!0,b(S),C(S)),A!==void 0&&S>=A?P.next(S-A):(!x&&b(S),f)}}}function fv(t,e,n){const r=[],s=n||yt.mix||mh,i=t.length-1;for(let o=0;o<i;o++){let a=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Ne:e;a=Wr(c,a)}r.push(a)}return r}function hv(t,e,{clamp:n=!0,ease:r,mixer:s}={}){const i=t.length;if(Ba(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=fv(e,r,s),c=a.length,u=l=>{if(o&&l<t[0])return e[0];let d=0;if(c>1)for(;d<t.length-2&&!(l<t[d+1]);d++);const f=Tr(t[d],t[d+1],l);return a[d](f)};return n?l=>u(mt(t[0],t[i-1],l)):u}function pv(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const s=Tr(0,e,r);t.push(X(n,1,s))}}function mv(t){const e=[0];return pv(e,t.length-1),e}function yv(t,e){return t.map(n=>n*e)}function gv(t,e){return t.map(()=>e||ih).splice(0,t.length-1)}function Yn({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const s=$1(r)?r.map(su):su(r),i={done:!1,value:e[0]},o=yv(n&&n.length===e.length?n:mv(e),t),a=hv(o,e,{ease:Array.isArray(s)?s:gv(e,s)});return{calculatedDuration:t,next:c=>(i.value=a(c),i.done=c>=t,i)}}const bv=t=>t!==null;function za(t,{repeat:e,repeatType:n="loop"},r,s=1){const i=t.filter(bv),a=s<0||e&&n!=="loop"&&e%2===1?0:i.length-1;return!a||r===void 0?i[a]:r}const wv={decay:wo,inertia:wo,tween:Yn,keyframes:Yn,spring:Ps};function bh(t){typeof t.type=="string"&&(t.type=wv[t.type])}class _a{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const vv=t=>t/100;class Ha extends _a{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Ae.now()&&this.tick(Ae.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;bh(e);const{type:n=Yn,repeat:r=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:a}=e;const c=n||Yn;c!==Yn&&typeof a[0]!="number"&&(this.mixKeyframes=Wr(vv,mh(a[0],a[1])),a=[0,100]);const u=c({...e,keyframes:a});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...a].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=Ua(u));const{calculatedDuration:l}=u;this.calculatedDuration=l,this.resolvedDuration=l+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=u}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:a,calculatedDuration:c}=this;if(this.startTime===null)return r.next(0);const{delay:u=0,keyframes:l,repeat:d,repeatType:f,repeatDelay:h,type:m,onUpdate:p,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-u*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>s;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let g=this.currentTime,b=r;if(d){const S=Math.min(this.currentTime,s)/a;let x=Math.floor(S),T=S%1;!T&&S>=1&&(T=1),T===1&&x--,x=Math.min(x,d+1),!!(x%2)&&(f==="reverse"?(T=1-T,h&&(T-=h/a)):f==="mirror"&&(b=o)),g=mt(0,1,T)*a}const A=w?{done:!1,value:l[0]}:b.next(g);i&&(A.value=i(A.value));let{done:P}=A;!w&&c!==null&&(P=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const C=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return C&&m!==wo&&(A.value=za(l,this.options,v,this.speed)),p&&p(A.value),C&&this.finish(),A}then(e,n){return this.finished.then(e,n)}get duration(){return Je(this.calculatedDuration)}get time(){return Je(this.currentTime)}set time(e){var n;e=Ze(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ae.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Je(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=rv,startTime:n}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ae.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function xv(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const jt=t=>t*180/Math.PI,vo=t=>{const e=jt(Math.atan2(t[1],t[0]));return xo(e)},Av={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:vo,rotateZ:vo,skewX:t=>jt(Math.atan(t[1])),skewY:t=>jt(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},xo=t=>(t=t%360,t<0&&(t+=360),t),fu=vo,hu=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),pu=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Ev={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:hu,scaleY:pu,scale:t=>(hu(t)+pu(t))/2,rotateX:t=>xo(jt(Math.atan2(t[6],t[5]))),rotateY:t=>xo(jt(Math.atan2(-t[2],t[0]))),rotateZ:fu,rotate:fu,skewX:t=>jt(Math.atan(t[4])),skewY:t=>jt(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function Ao(t){return t.includes("scale")?1:0}function Eo(t,e){if(!t||t==="none")return Ao(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=Ev,s=n;else{const a=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=Av,s=a}if(!s)return Ao(e);const i=r[e],o=s[1].split(",").map(Tv);return typeof i=="function"?i(o):o[i]}const Pv=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return Eo(n,e)};function Tv(t){return parseFloat(t.trim())}const Nn=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Fn=new Set(Nn),mu=t=>t===Rn||t===_,Sv=new Set(["x","y","z"]),Cv=Nn.filter(t=>!Sv.has(t));function $v(t){const e=[];return Cv.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const zt={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Eo(e,"x"),y:(t,{transform:e})=>Eo(e,"y")};zt.translateX=zt.x;zt.translateY=zt.y;const _t=new Set;let Po=!1,To=!1,So=!1;function wh(){if(To){const t=Array.from(_t).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const s=$v(r);s.length&&(n.set(r,s),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([i,o])=>{var a;(a=r.getValue(i))==null||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}To=!1,Po=!1,_t.forEach(t=>t.complete(So)),_t.clear()}function vh(){_t.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(To=!0)})}function Iv(){So=!0,vh(),wh(),So=!1}class qa{constructor(e,n,r,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(_t.add(this),Po||(Po=!0,J.read(vh),J.resolveKeyframes(wh))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(r&&n){const a=r.readValue(n,o);a!=null&&(e[0]=a)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}xv(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),_t.delete(this)}cancel(){this.state==="scheduled"&&(_t.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const kv=t=>t.startsWith("--");function Bv(t,e,n){kv(e)?t.style.setProperty(e,n):t.style[e]=n}const Mv=Ma(()=>window.ScrollTimeline!==void 0),Rv={};function Nv(t,e){const n=Ma(t);return()=>Rv[e]??n()}const xh=Nv(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),qn=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,yu={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:qn([0,.65,.55,1]),circOut:qn([.55,0,1,.45]),backIn:qn([.31,.01,.66,-.59]),backOut:qn([.33,1.53,.69,.99])};function Ah(t,e){if(t)return typeof t=="function"?xh()?yh(t,e):"ease-out":oh(t)?qn(t):Array.isArray(t)?t.map(n=>Ah(n,e)||yu.easeOut):yu[t]}function Fv(t,e,n,{delay:r=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:a="easeOut",times:c}={},u=void 0){const l={[e]:n};c&&(l.offset=c);const d=Ah(a,s);Array.isArray(d)&&(l.easing=d);const f={delay:r,duration:s,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return u&&(f.pseudoElement=u),t.animate(l,f)}function Eh(t){return typeof t=="function"&&"applyToOptions"in t}function Dv({type:t,...e}){return Eh(t)&&xh()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Lv extends _a{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:a,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,Ba(typeof e.type!="string");const u=Dv(e);this.animation=Fv(n,r,s,u,i),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const l=za(s,this.options,a,this.speed);this.updateMotionValue?this.updateMotionValue(l):Bv(n,r,l),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Je(Number(e))}get time(){return Je(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Ze(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Mv()?(this.animation.timeline=e,Ne):n(this)}}const Ph={anticipate:nh,backInOut:th,circInOut:sh};function jv(t){return t in Ph}function Ov(t){typeof t.ease=="string"&&jv(t.ease)&&(t.ease=Ph[t.ease])}const gu=10;class Vv extends Lv{constructor(e){Ov(e),bh(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:s,element:i,...o}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const a=new Ha({...o,autoplay:!1}),c=Ze(this.finishedTime??this.time);n.setWithVelocity(a.sample(c-gu).value,a.sample(c).value,gu),a.stop()}}const bu=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Ct.test(t)||t==="0")&&!t.startsWith("url("));function Uv(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function zv(t,e,n,r){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=bu(s,e),a=bu(i,e);return!o||!a?!1:Uv(t)||(n==="spring"||Eh(n))&&r}function Th(t){return Kf(t)&&"offsetHeight"in t}const _v=new Set(["opacity","clipPath","filter","transform"]),Hv=Ma(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function qv(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:s,damping:i,type:o}=t;if(!Th((u=e==null?void 0:e.owner)==null?void 0:u.current))return!1;const{onUpdate:a,transformTemplate:c}=e.owner.getProps();return Hv()&&n&&_v.has(n)&&(n!=="transform"||!c)&&!a&&!r&&s!=="mirror"&&i!==0&&o!=="inertia"}const Gv=40;class Wv extends _a{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:a,name:c,motionValue:u,element:l,...d}){var m;super(),this.stop=()=>{var p,v;this._animation&&(this._animation.stop(),(p=this.stopTimeline)==null||p.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Ae.now();const f={autoplay:e,delay:n,type:r,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:u,element:l,...d},h=(l==null?void 0:l.KeyframeResolver)||qa;this.keyframeResolver=new h(a,(p,v,y)=>this.onKeyframesResolved(p,v,f,!y),c,u,l),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,n,r,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:a,delay:c,isHandoff:u,onUpdate:l}=r;this.resolvedAt=Ae.now(),zv(e,i,o,a)||((yt.instantAnimations||!c)&&(l==null||l(za(e,r,n))),e[0]=e[e.length-1],r.duration=0,r.repeat=0);const f={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Gv?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!u&&qv(f)?new Vv({...f,element:f.motionValue.owner.current}):new Ha(f);h.finished.then(()=>this.notifyFinished()).catch(Ne),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Iv()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Kv=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Yv(t){const e=Kv.exec(t);if(!e)return[,];const[,n,r,s]=e;return[`--${n??r}`,s]}function Sh(t,e,n=1){const[r,s]=Yv(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);if(i){const o=i.trim();return Wf(o)?parseFloat(o):o}return La(s)?Sh(s,e,n+1):s}function Ga(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Ch=new Set(["width","height","top","left","right","bottom",...Nn]),Xv={test:t=>t==="auto",parse:t=>t},$h=t=>e=>e.test(t),Ih=[Rn,_,Qe,At,U1,V1,Xv],wu=t=>Ih.find($h(t));function Zv(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||Yf(t):!0}const Jv=new Set(["brightness","contrast","saturate","opacity"]);function Qv(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(ja)||[];if(!r)return t;const s=n.replace(r,"");let i=Jv.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+s+")"}const ex=/\b([a-z-]*)\(.*?\)/gu,Co={...Ct,getAnimatableNone:t=>{const e=t.match(ex);return e?e.map(Qv).join(" "):t}},vu={...Rn,transform:Math.round},tx={rotate:At,rotateX:At,rotateY:At,rotateZ:At,scale:ss,scaleX:ss,scaleY:ss,scaleZ:ss,skew:At,skewX:At,skewY:At,distance:_,translateX:_,translateY:_,translateZ:_,x:_,y:_,z:_,perspective:_,transformPerspective:_,opacity:Sr,originX:ou,originY:ou,originZ:_},Wa={borderWidth:_,borderTopWidth:_,borderRightWidth:_,borderBottomWidth:_,borderLeftWidth:_,borderRadius:_,radius:_,borderTopLeftRadius:_,borderTopRightRadius:_,borderBottomRightRadius:_,borderBottomLeftRadius:_,width:_,maxWidth:_,height:_,maxHeight:_,top:_,right:_,bottom:_,left:_,padding:_,paddingTop:_,paddingRight:_,paddingBottom:_,paddingLeft:_,margin:_,marginTop:_,marginRight:_,marginBottom:_,marginLeft:_,backgroundPositionX:_,backgroundPositionY:_,...tx,zIndex:vu,fillOpacity:Sr,strokeOpacity:Sr,numOctaves:vu},nx={...Wa,color:le,backgroundColor:le,outlineColor:le,fill:le,stroke:le,borderColor:le,borderTopColor:le,borderRightColor:le,borderBottomColor:le,borderLeftColor:le,filter:Co,WebkitFilter:Co},kh=t=>nx[t];function Bh(t,e){let n=kh(t);return n!==Co&&(n=Ct),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const rx=new Set(["auto","none","0"]);function sx(t,e,n){let r=0,s;for(;r<t.length&&!s;){const i=t[r];typeof i=="string"&&!rx.has(i)&&Cr(i).values.length&&(s=t[r]),r++}if(s&&n)for(const i of e)t[i]=Bh(n,s)}class ix extends qa{constructor(e,n,r,s,i){super(e,n,r,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),La(u))){const l=Sh(u,n.current);l!==void 0&&(e[c]=l),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!Ch.has(r)||e.length!==2)return;const[s,i]=e,o=wu(s),a=wu(i);if(o!==a)if(mu(o)&&mu(a))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else zt[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let s=0;s<e.length;s++)(e[s]===null||Zv(e[s]))&&r.push(s);r.length&&sx(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=zt[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var a;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const s=e.getValue(n);s&&s.jump(this.measuredOrigin,!1);const i=r.length-1,o=r[i];r[i]=zt[n](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(a=this.removedTransforms)!=null&&a.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function ox(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let r=document;const s=(n==null?void 0:n[t])??r.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const Mh=(t,e)=>e&&typeof t=="number"?e.transform(t):t,xu=30,ax=t=>!isNaN(parseFloat(t));class cx{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{var o,a;const i=Ae.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((o=this.events.change)==null||o.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty();s&&((a=this.events.renderRequest)==null||a.notify(this.current))},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Ae.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=ax(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Ra);const r=this.events[e].add(n);return e==="change"?()=>{r(),J.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ae.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>xu)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,xu);return Xf(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Sn(t,e){return new cx(t,e)}const{schedule:Ka}=ah(queueMicrotask,!1),Le={x:!1,y:!1};function Rh(){return Le.x||Le.y}function ux(t){return t==="x"||t==="y"?Le[t]?null:(Le[t]=!0,()=>{Le[t]=!1}):Le.x||Le.y?null:(Le.x=Le.y=!0,()=>{Le.x=Le.y=!1})}function Nh(t,e){const n=ox(t),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[n,s,()=>r.abort()]}function Au(t){return!(t.pointerType==="touch"||Rh())}function lx(t,e,n={}){const[r,s,i]=Nh(t,n),o=a=>{if(!Au(a))return;const{target:c}=a,u=e(c,a);if(typeof u!="function"||!c)return;const l=d=>{Au(d)&&(u(d),c.removeEventListener("pointerleave",l))};c.addEventListener("pointerleave",l,s)};return r.forEach(a=>{a.addEventListener("pointerenter",o,s)}),i}const Fh=(t,e)=>e?t===e?!0:Fh(t,e.parentElement):!1,Ya=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,dx=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function fx(t){return dx.has(t.tagName)||t.tabIndex!==-1}const ms=new WeakSet;function Eu(t){return e=>{e.key==="Enter"&&t(e)}}function Ei(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const hx=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=Eu(()=>{if(ms.has(n))return;Ei(n,"down");const s=Eu(()=>{Ei(n,"up")}),i=()=>Ei(n,"cancel");n.addEventListener("keyup",s,e),n.addEventListener("blur",i,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function Pu(t){return Ya(t)&&!Rh()}function px(t,e,n={}){const[r,s,i]=Nh(t,n),o=a=>{const c=a.currentTarget;if(!Pu(a))return;ms.add(c);const u=e(c,a),l=(h,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),ms.has(c)&&ms.delete(c),Pu(h)&&typeof u=="function"&&u(h,{success:m})},d=h=>{l(h,c===window||c===document||n.useGlobalTarget||Fh(c,h.target))},f=h=>{l(h,!1)};window.addEventListener("pointerup",d,s),window.addEventListener("pointercancel",f,s)};return r.forEach(a=>{(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,s),Th(a)&&(a.addEventListener("focus",u=>hx(u,s)),!fx(a)&&!a.hasAttribute("tabindex")&&(a.tabIndex=0))}),i}function Dh(t){return Kf(t)&&"ownerSVGElement"in t}function mx(t){return Dh(t)&&t.tagName==="svg"}const de=t=>!!(t&&t.getVelocity),yx=[...Ih,le,Ct],gx=t=>yx.find($h(t)),Lh=L.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bx(t=!0){const e=L.useContext($a);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=e,i=L.useId();L.useEffect(()=>{if(t)return s(i)},[t]);const o=L.useCallback(()=>t&&r&&r(i),[i,r,t]);return!n&&r?[!1,o]:[!0]}const jh=L.createContext({strict:!1}),Tu={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Cn={};for(const t in Tu)Cn[t]={isEnabled:e=>Tu[t].some(n=>!!e[n])};function wx(t){for(const e in t)Cn[e]={...Cn[e],...t[e]}}const vx=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ts(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||vx.has(t)}let Oh=t=>!Ts(t);function xx(t){t&&(Oh=e=>e.startsWith("on")?!Ts(e):t(e))}try{xx(require("@emotion/is-prop-valid").default)}catch{}function Ax(t,e,n){const r={};for(const s in t)s==="values"&&typeof t.values=="object"||(Oh(s)||n===!0&&Ts(s)||!e&&!Ts(s)||t.draggable&&s.startsWith("onDrag"))&&(r[s]=t[s]);return r}function Ex(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,s)=>s==="create"?t:(e.has(s)||e.set(s,t(s)),e.get(s))})}const Hs=L.createContext({});function qs(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function $r(t){return typeof t=="string"||Array.isArray(t)}const Xa=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Za=["initial",...Xa];function Gs(t){return qs(t.animate)||Za.some(e=>$r(t[e]))}function Vh(t){return!!(Gs(t)||t.variants)}function Px(t,e){if(Gs(t)){const{initial:n,animate:r}=t;return{initial:n===!1||$r(n)?n:void 0,animate:$r(r)?r:void 0}}return t.inherit!==!1?e:{}}function Tx(t){const{initial:e,animate:n}=Px(t,L.useContext(Hs));return L.useMemo(()=>({initial:e,animate:n}),[Su(e),Su(n)])}function Su(t){return Array.isArray(t)?t.join(" "):t}const Sx=Symbol.for("motionComponentSymbol");function ln(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Cx(t,e,n){return L.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ln(n)&&(n.current=r))},[e])}const Ja=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$x="framerAppearId",Uh="data-"+Ja($x),zh=L.createContext({});function Ix(t,e,n,r,s){var p,v;const{visualElement:i}=L.useContext(Hs),o=L.useContext(jh),a=L.useContext($a),c=L.useContext(Lh).reducedMotion,u=L.useRef(null);r=r||o.renderer,!u.current&&r&&(u.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:c}));const l=u.current,d=L.useContext(zh);l&&!l.projection&&s&&(l.type==="html"||l.type==="svg")&&kx(u.current,n,s,d);const f=L.useRef(!1);L.useInsertionEffect(()=>{l&&f.current&&l.update(n,a)});const h=n[Uh],m=L.useRef(!!h&&!((p=window.MotionHandoffIsComplete)!=null&&p.call(window,h))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,h)));return x1(()=>{l&&(f.current=!0,window.MotionIsMounted=!0,l.updateFeatures(),Ka.render(l.render),m.current&&l.animationState&&l.animationState.animateChanges())}),L.useEffect(()=>{l&&(!m.current&&l.animationState&&l.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),m.current=!1))}),l}function kx(t,e,n,r){const{layoutId:s,layout:i,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:u,layoutCrossfade:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:_h(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||a&&ln(a),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:r,crossfade:l,layoutScroll:c,layoutRoot:u})}function _h(t){if(t)return t.options.allowProjection!==!1?t.projection:_h(t.parent)}function Bx({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:s}){t&&wx(t);function i(a,c){let u;const l={...L.useContext(Lh),...a,layoutId:Mx(a)},{isStatic:d}=l,f=Tx(a),h=r(a,d);if(!d&&Ca){Rx();const m=Nx(l);u=m.MeasureLayout,f.visualElement=Ix(s,h,l,e,m.ProjectionNode)}return E.jsxs(Hs.Provider,{value:f,children:[u&&f.visualElement?E.jsx(u,{visualElement:f.visualElement,...l}):null,n(s,a,Cx(h,f.visualElement,c),h,d,f.visualElement)]})}i.displayName=`motion.${typeof s=="string"?s:`create(${s.displayName??s.name??""})`}`;const o=L.forwardRef(i);return o[Sx]=s,o}function Mx({layoutId:t}){const e=L.useContext(Gf).id;return e&&t!==void 0?e+"-"+t:t}function Rx(t,e){L.useContext(jh).strict}function Nx(t){const{drag:e,layout:n}=Cn;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const Ir={};function Fx(t){for(const e in t)Ir[e]=t[e],Da(e)&&(Ir[e].isCSSVariable=!0)}function Hh(t,{layout:e,layoutId:n}){return Fn.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ir[t]||t==="opacity")}const Dx={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Lx=Nn.length;function jx(t,e,n){let r="",s=!0;for(let i=0;i<Lx;i++){const o=Nn[i],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const u=Mh(a,Wa[o]);if(!c){s=!1;const l=Dx[o]||o;r+=`${l}(${u}) `}n&&(e[o]=u)}}return r=r.trim(),n?r=n(e,s?"":r):s&&(r="none"),r}function Qa(t,e,n){const{style:r,vars:s,transformOrigin:i}=t;let o=!1,a=!1;for(const c in e){const u=e[c];if(Fn.has(c)){o=!0;continue}else if(Da(c)){s[c]=u;continue}else{const l=Mh(u,Wa[c]);c.startsWith("origin")?(a=!0,i[c]=l):r[c]=l}}if(e.transform||(o||n?r.transform=jx(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:u="50%",originZ:l=0}=i;r.transformOrigin=`${c} ${u} ${l}`}}const ec=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function qh(t,e,n){for(const r in e)!de(e[r])&&!Hh(r,n)&&(t[r]=e[r])}function Ox({transformTemplate:t},e){return L.useMemo(()=>{const n=ec();return Qa(n,e,t),Object.assign({},n.vars,n.style)},[e])}function Vx(t,e){const n=t.style||{},r={};return qh(r,n,t),Object.assign(r,Ox(t,e)),r}function Ux(t,e){const n={},r=Vx(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const zx={offset:"stroke-dashoffset",array:"stroke-dasharray"},_x={offset:"strokeDashoffset",array:"strokeDasharray"};function Hx(t,e,n=1,r=0,s=!0){t.pathLength=1;const i=s?zx:_x;t[i.offset]=_.transform(-r);const o=_.transform(e),a=_.transform(n);t[i.array]=`${o} ${a}`}function Gh(t,{attrX:e,attrY:n,attrScale:r,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...a},c,u,l){if(Qa(t,a,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(l==null?void 0:l.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),s!==void 0&&Hx(d,s,i,o,!1)}const Wh=()=>({...ec(),attrs:{}}),Kh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qx(t,e,n,r){const s=L.useMemo(()=>{const i=Wh();return Gh(i,e,Kh(r),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};qh(i,t.style,t),s.style={...i,...s.style}}return s}const Gx=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function tc(t){return typeof t!="string"||t.includes("-")?!1:!!(Gx.indexOf(t)>-1||/[A-Z]/u.test(t))}function Wx(t=!1){return(n,r,s,{latestValues:i},o)=>{const c=(tc(n)?qx:Ux)(r,i,o,n),u=Ax(r,typeof n=="string",t),l=n!==L.Fragment?{...u,...c,ref:s}:{},{children:d}=r,f=L.useMemo(()=>de(d)?d.get():d,[d]);return L.createElement(n,{...l,children:f})}}function Cu(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function nc(t,e,n,r){if(typeof e=="function"){const[s,i]=Cu(r);e=e(n!==void 0?n:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=Cu(r);e=e(n!==void 0?n:t.custom,s,i)}return e}function ys(t){return de(t)?t.get():t}function Kx({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,s){return{latestValues:Yx(n,r,s,t),renderState:e()}}const Yh=t=>(e,n)=>{const r=L.useContext(Hs),s=L.useContext($a),i=()=>Kx(t,e,r,s);return n?i():v1(i)};function Yx(t,e,n,r){const s={},i=r(t,{});for(const f in i)s[f]=ys(i[f]);let{initial:o,animate:a}=t;const c=Gs(t),u=Vh(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let l=n?n.initial===!1:!1;l=l||o===!1;const d=l?a:o;if(d&&typeof d!="boolean"&&!qs(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const m=nc(t,f[h]);if(m){const{transitionEnd:p,transition:v,...y}=m;for(const w in y){let g=y[w];if(Array.isArray(g)){const b=l?g.length-1:0;g=g[b]}g!==null&&(s[w]=g)}for(const w in p)s[w]=p[w]}}}return s}function rc(t,e,n){var i;const{style:r}=t,s={};for(const o in r)(de(r[o])||e.style&&de(e.style[o])||Hh(o,t)||((i=n==null?void 0:n.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=r[o]);return s}const Xx={useVisualState:Yh({scrapeMotionValuesFromProps:rc,createRenderState:ec})};function Xh(t,e,n){const r=rc(t,e,n);for(const s in t)if(de(t[s])||de(e[s])){const i=Nn.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[i]=t[s]}return r}const Zx={useVisualState:Yh({scrapeMotionValuesFromProps:Xh,createRenderState:Wh})};function Jx(t,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const o={...tc(r)?Zx:Xx,preloadedFeatures:t,useRender:Wx(s),createVisualElement:e,Component:r};return Bx(o)}}function kr(t,e,n){const r=t.getProps();return nc(r,e,n!==void 0?n:r.custom,t)}const $o=t=>Array.isArray(t);function Qx(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Sn(n))}function e2(t){return $o(t)?t[t.length-1]||0:t}function t2(t,e){const n=kr(t,e);let{transitionEnd:r={},transition:s={},...i}=n||{};i={...i,...r};for(const o in i){const a=e2(i[o]);Qx(t,o,a)}}function n2(t){return!!(de(t)&&t.add)}function Io(t,e){const n=t.getValue("willChange");if(n2(n))return n.add(e);if(!n&&yt.WillChange){const r=new yt.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function Zh(t){return t.props[Uh]}const r2=t=>t!==null;function s2(t,{repeat:e,repeatType:n="loop"},r){const s=t.filter(r2),i=e&&n!=="loop"&&e%2===1?0:s.length-1;return s[i]}const i2={type:"spring",stiffness:500,damping:25,restSpeed:10},o2=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),a2={type:"keyframes",duration:.8},c2={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},u2=(t,{keyframes:e})=>e.length>2?a2:Fn.has(t)?t.startsWith("scale")?o2(e[1]):i2:c2;function l2({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:a,from:c,elapsed:u,...l}){return!!Object.keys(l).length}const sc=(t,e,n,r={},s,i)=>o=>{const a=Ga(r,t)||{},c=a.delay||r.delay||0;let{elapsed:u=0}=r;u=u-Ze(c);const l={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-u,onUpdate:f=>{e.set(f),a.onUpdate&&a.onUpdate(f)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:i?void 0:s};l2(a)||Object.assign(l,u2(t,l)),l.duration&&(l.duration=Ze(l.duration)),l.repeatDelay&&(l.repeatDelay=Ze(l.repeatDelay)),l.from!==void 0&&(l.keyframes[0]=l.from);let d=!1;if((l.type===!1||l.duration===0&&!l.repeatDelay)&&(l.duration=0,l.delay===0&&(d=!0)),(yt.instantAnimations||yt.skipAnimations)&&(d=!0,l.duration=0,l.delay=0),l.allowFlatten=!a.type&&!a.ease,d&&!i&&e.get()!==void 0){const f=s2(l.keyframes,a);if(f!==void 0){J.update(()=>{l.onUpdate(f),l.onComplete()});return}}return a.isSync?new Ha(l):new Wv(l)};function d2({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function Jh(t,e,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...a}=e;r&&(i=r);const c=[],u=s&&t.animationState&&t.animationState.getState()[s];for(const l in a){const d=t.getValue(l,t.latestValues[l]??null),f=a[l];if(f===void 0||u&&d2(u,l))continue;const h={delay:n,...Ga(i||{},l)},m=d.get();if(m!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===m&&!h.velocity)continue;let p=!1;if(window.MotionHandoffAnimation){const y=Zh(t);if(y){const w=window.MotionHandoffAnimation(y,l,J);w!==null&&(h.startTime=w,p=!0)}}Io(t,l),d.start(sc(l,d,f,t.shouldReduceMotion&&Ch.has(l)?{type:!1}:h,t,p));const v=d.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{J.update(()=>{o&&t2(t,o)})}),c}function ko(t,e,n={}){var c;const r=kr(t,e,n.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const i=r?()=>Promise.all(Jh(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:l=0,staggerChildren:d,staggerDirection:f}=s;return f2(t,e,l+u,d,f,n)}:()=>Promise.resolve(),{when:a}=s;if(a){const[u,l]=a==="beforeChildren"?[i,o]:[o,i];return u().then(()=>l())}else return Promise.all([i(),o(n.delay)])}function f2(t,e,n=0,r=0,s=1,i){const o=[],a=(t.variantChildren.size-1)*r,c=s===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(h2).forEach((u,l)=>{u.notify("AnimationStart",e),o.push(ko(u,e,{...i,delay:n+c(l)}).then(()=>u.notify("AnimationComplete",e)))}),Promise.all(o)}function h2(t,e){return t.sortNodePosition(e)}function p2(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(i=>ko(t,i,n));r=Promise.all(s)}else if(typeof e=="string")r=ko(t,e,n);else{const s=typeof e=="function"?kr(t,e,n.custom):e;r=Promise.all(Jh(t,s,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function Qh(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const m2=Za.length;function ep(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?ep(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<m2;n++){const r=Za[n],s=t.props[r];($r(s)||s===!1)&&(e[r]=s)}return e}const y2=[...Xa].reverse(),g2=Xa.length;function b2(t){return e=>Promise.all(e.map(({animation:n,options:r})=>p2(t,n,r)))}function w2(t){let e=b2(t),n=$u(),r=!0;const s=c=>(u,l)=>{var f;const d=kr(t,l,c==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:m,...p}=d;u={...u,...p,...m}}return u};function i(c){e=c(t)}function o(c){const{props:u}=t,l=ep(t.parent)||{},d=[],f=new Set;let h={},m=1/0;for(let v=0;v<g2;v++){const y=y2[v],w=n[y],g=u[y]!==void 0?u[y]:l[y],b=$r(g),A=y===c?w.isActive:null;A===!1&&(m=v);let P=g===l[y]&&g!==u[y]&&b;if(P&&r&&t.manuallyAnimateOnMount&&(P=!1),w.protectedKeys={...h},!w.isActive&&A===null||!g&&!w.prevProp||qs(g)||typeof g=="boolean")continue;const C=v2(w.prevProp,g);let S=C||y===c&&w.isActive&&!P&&b||v>m&&b,x=!1;const T=Array.isArray(g)?g:[g];let $=T.reduce(s(y),{});A===!1&&($={});const{prevResolvedValues:B={}}=w,F={...B,...$},G=N=>{S=!0,f.has(N)&&(x=!0,f.delete(N)),w.needsAnimating[N]=!0;const D=t.getValue(N);D&&(D.liveStyle=!1)};for(const N in F){const D=$[N],k=B[N];if(h.hasOwnProperty(N))continue;let j=!1;$o(D)&&$o(k)?j=!Qh(D,k):j=D!==k,j?D!=null?G(N):f.add(N):D!==void 0&&f.has(N)?G(N):w.protectedKeys[N]=!0}w.prevProp=g,w.prevResolvedValues=$,w.isActive&&(h={...h,...$}),r&&t.blockInitialAnimation&&(S=!1),S&&(!(P&&C)||x)&&d.push(...T.map(N=>({animation:N,options:{type:y}})))}if(f.size){const v={};if(typeof u.initial!="boolean"){const y=kr(t,Array.isArray(u.initial)?u.initial[0]:u.initial);y&&y.transition&&(v.transition=y.transition)}f.forEach(y=>{const w=t.getBaseTarget(y),g=t.getValue(y);g&&(g.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let p=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(p=!1),r=!1,p?e(d):Promise.resolve()}function a(c,u){var d;if(n[c].isActive===u)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(c,u)}),n[c].isActive=u;const l=o(c);for(const f in n)n[f].protectedKeys={};return l}return{animateChanges:o,setActive:a,setAnimateFunction:i,getState:()=>n,reset:()=>{n=$u(),r=!0}}}function v2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Qh(e,t):!1}function Rt(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $u(){return{animate:Rt(!0),whileInView:Rt(),whileHover:Rt(),whileTap:Rt(),whileDrag:Rt(),whileFocus:Rt(),exit:Rt()}}class kt{constructor(e){this.isMounted=!1,this.node=e}update(){}}class x2 extends kt{constructor(e){super(e),e.animationState||(e.animationState=w2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();qs(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let A2=0;class E2 extends kt{constructor(){super(...arguments),this.id=A2++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);n&&!e&&s.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const P2={animation:{Feature:x2},exit:{Feature:E2}};function Br(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Xr(t){return{point:{x:t.pageX,y:t.pageY}}}const T2=t=>e=>Ya(e)&&t(e,Xr(e));function Xn(t,e,n,r){return Br(t,e,T2(n),r)}function tp({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function S2({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function C2(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}const np=1e-4,$2=1-np,I2=1+np,rp=.01,k2=0-rp,B2=0+rp;function ge(t){return t.max-t.min}function M2(t,e,n){return Math.abs(t-e)<=n}function Iu(t,e,n,r=.5){t.origin=r,t.originPoint=X(e.min,e.max,t.origin),t.scale=ge(n)/ge(e),t.translate=X(n.min,n.max,t.origin)-t.originPoint,(t.scale>=$2&&t.scale<=I2||isNaN(t.scale))&&(t.scale=1),(t.translate>=k2&&t.translate<=B2||isNaN(t.translate))&&(t.translate=0)}function Zn(t,e,n,r){Iu(t.x,e.x,n.x,r?r.originX:void 0),Iu(t.y,e.y,n.y,r?r.originY:void 0)}function ku(t,e,n){t.min=n.min+e.min,t.max=t.min+ge(e)}function R2(t,e,n){ku(t.x,e.x,n.x),ku(t.y,e.y,n.y)}function Bu(t,e,n){t.min=e.min-n.min,t.max=t.min+ge(e)}function Jn(t,e,n){Bu(t.x,e.x,n.x),Bu(t.y,e.y,n.y)}const Mu=()=>({translate:0,scale:1,origin:0,originPoint:0}),dn=()=>({x:Mu(),y:Mu()}),Ru=()=>({min:0,max:0}),te=()=>({x:Ru(),y:Ru()});function Me(t){return[t("x"),t("y")]}function Pi(t){return t===void 0||t===1}function Bo({scale:t,scaleX:e,scaleY:n}){return!Pi(t)||!Pi(e)||!Pi(n)}function Nt(t){return Bo(t)||sp(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function sp(t){return Nu(t.x)||Nu(t.y)}function Nu(t){return t&&t!=="0%"}function Ss(t,e,n){const r=t-n,s=e*r;return n+s}function Fu(t,e,n,r,s){return s!==void 0&&(t=Ss(t,s,r)),Ss(t,n,r)+e}function Mo(t,e=0,n=1,r,s){t.min=Fu(t.min,e,n,r,s),t.max=Fu(t.max,e,n,r,s)}function ip(t,{x:e,y:n}){Mo(t.x,e.translate,e.scale,e.originPoint),Mo(t.y,n.translate,n.scale,n.originPoint)}const Du=.999999999999,Lu=1.0000000000001;function N2(t,e,n,r=!1){const s=n.length;if(!s)return;e.x=e.y=1;let i,o;for(let a=0;a<s;a++){i=n[a],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&hn(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,ip(t,o)),r&&Nt(i.latestValues)&&hn(t,i.latestValues))}e.x<Lu&&e.x>Du&&(e.x=1),e.y<Lu&&e.y>Du&&(e.y=1)}function fn(t,e){t.min=t.min+e,t.max=t.max+e}function ju(t,e,n,r,s=.5){const i=X(t.min,t.max,s);Mo(t,e,n,i,r)}function hn(t,e){ju(t.x,e.x,e.scaleX,e.scale,e.originX),ju(t.y,e.y,e.scaleY,e.scale,e.originY)}function op(t,e){return tp(C2(t.getBoundingClientRect(),e))}function F2(t,e,n){const r=op(t,n),{scroll:s}=e;return s&&(fn(r.x,s.offset.x),fn(r.y,s.offset.y)),r}const ap=({current:t})=>t?t.ownerDocument.defaultView:null,Ou=(t,e)=>Math.abs(t-e);function D2(t,e){const n=Ou(t.x,e.x),r=Ou(t.y,e.y);return Math.sqrt(n**2+r**2)}class cp{constructor(e,n,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:i=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Si(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=D2(d.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:m}=d,{timestamp:p}=oe;this.history.push({...m,timestamp:p});const{onStart:v,onMove:y}=this.handlers;f||(v&&v(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,f)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=Ti(f,this.transformPagePoint),J.update(this.updatePoint,!0)},this.handlePointerUp=(d,f)=>{this.end();const{onEnd:h,onSessionEnd:m,resumeAnimation:p}=this.handlers;if(this.dragSnapToOrigin&&p&&p(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Si(d.type==="pointercancel"?this.lastMoveEventInfo:Ti(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(d,v),m&&m(d,v)},!Ya(e))return;this.dragSnapToOrigin=i,this.handlers=n,this.transformPagePoint=r,this.contextWindow=s||window;const o=Xr(e),a=Ti(o,this.transformPagePoint),{point:c}=a,{timestamp:u}=oe;this.history=[{...c,timestamp:u}];const{onSessionStart:l}=n;l&&l(e,Si(a,this.history)),this.removeListeners=Wr(Xn(this.contextWindow,"pointermove",this.handlePointerMove),Xn(this.contextWindow,"pointerup",this.handlePointerUp),Xn(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),St(this.updatePoint)}}function Ti(t,e){return e?{point:e(t.point)}:t}function Vu(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Si({point:t},e){return{point:t,delta:Vu(t,up(e)),offset:Vu(t,L2(e)),velocity:j2(e,.1)}}function L2(t){return t[0]}function up(t){return t[t.length-1]}function j2(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const s=up(t);for(;n>=0&&(r=t[n],!(s.timestamp-r.timestamp>Ze(e)));)n--;if(!r)return{x:0,y:0};const i=Je(s.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-r.x)/i,y:(s.y-r.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function O2(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?X(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?X(n,t,r.max):Math.min(t,n)),t}function Uu(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function V2(t,{top:e,left:n,bottom:r,right:s}){return{x:Uu(t.x,n,s),y:Uu(t.y,e,r)}}function zu(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function U2(t,e){return{x:zu(t.x,e.x),y:zu(t.y,e.y)}}function z2(t,e){let n=.5;const r=ge(t),s=ge(e);return s>r?n=Tr(e.min,e.max-r,t.min):r>s&&(n=Tr(t.min,t.max-s,e.min)),mt(0,1,n)}function _2(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Ro=.35;function H2(t=Ro){return t===!1?t=0:t===!0&&(t=Ro),{x:_u(t,"left","right"),y:_u(t,"top","bottom")}}function _u(t,e,n){return{min:Hu(t,e),max:Hu(t,n)}}function Hu(t,e){return typeof t=="number"?t:t[e]||0}const q2=new WeakMap;class G2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=te(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=l=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Xr(l).point)},i=(l,d)=>{const{drag:f,dragPropagation:h,onDragStart:m}=this.getProps();if(f&&!h&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ux(f),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Me(v=>{let y=this.getAxisMotionValue(v).get()||0;if(Qe.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const g=w.layout.layoutBox[v];g&&(y=ge(g)*(parseFloat(y)/100))}}this.originPoint[v]=y}),m&&J.postRender(()=>m(l,d)),Io(this.visualElement,"transform");const{animationState:p}=this.visualElement;p&&p.setActive("whileDrag",!0)},o=(l,d)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:m,onDrag:p}=this.getProps();if(!f&&!this.openDragLock)return;const{offset:v}=d;if(h&&this.currentDirection===null){this.currentDirection=W2(v),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,v),this.updateAxis("y",d.point,v),this.visualElement.render(),p&&p(l,d)},a=(l,d)=>this.stop(l,d),c=()=>Me(l=>{var d;return this.getAnimationState(l)==="paused"&&((d=this.getAxisMotionValue(l).animation)==null?void 0:d.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new cp(e,{onSessionStart:s,onStart:i,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:ap(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=n;this.startAnimation(s);const{onDragEnd:i}=this.getProps();i&&J.postRender(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:s}=this.getProps();if(!r||!is(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=O2(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&ln(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=V2(r.layoutBox,e):this.constraints=!1,this.elastic=H2(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Me(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=_2(r.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ln(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=F2(r,s.root,this.visualElement.getTransformPagePoint());let o=U2(s.layout.layoutBox,i);if(n){const a=n(S2(o));this.hasMutatedConstraints=!!a,a&&(o=tp(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},u=Me(l=>{if(!is(l,n,this.currentDirection))return;let d=c&&c[l]||{};o&&(d={min:0,max:0});const f=s?200:1e6,h=s?40:1e7,m={type:"inertia",velocity:r?e[l]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(l,m)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Io(this.visualElement,e),r.start(sc(e,r,0,n,this.visualElement,!1))}stopAnimation(){Me(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Me(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Me(n=>{const{drag:r}=this.getProps();if(!is(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(n);if(s&&s.layout){const{min:o,max:a}=s.layout.layoutBox[n];i.set(e[n]-X(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!ln(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Me(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();s[o]=z2({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Me(o=>{if(!is(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];a.set(X(c,u,s[o]))})}addListeners(){if(!this.visualElement.current)return;q2.set(this.visualElement,this);const e=this.visualElement.current,n=Xn(e,"pointerdown",c=>{const{drag:u,dragListener:l=!0}=this.getProps();u&&l&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();ln(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),J.read(r);const o=Br(window,"resize",()=>this.scalePositionWithinConstraints()),a=s.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(Me(l=>{const d=this.getAxisMotionValue(l);d&&(this.originPoint[l]+=c[l].translate,d.set(d.get()+c[l].translate))}),this.visualElement.render())});return()=>{o(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Ro,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:a}}}function is(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function W2(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class K2 extends kt{constructor(e){super(e),this.removeGroupControls=Ne,this.removeListeners=Ne,this.controls=new G2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ne}unmount(){this.removeGroupControls(),this.removeListeners()}}const qu=t=>(e,n)=>{t&&J.postRender(()=>t(e,n))};class Y2 extends kt{constructor(){super(...arguments),this.removePointerDownListener=Ne}onPointerDown(e){this.session=new cp(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:ap(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:qu(e),onStart:qu(n),onMove:r,onEnd:(i,o)=>{delete this.session,s&&J.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Xn(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const gs={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Gu(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const _n={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(_.test(t))t=parseFloat(t);else return t;const n=Gu(t,e.target.x),r=Gu(t,e.target.y);return`${n}% ${r}%`}},X2={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,s=Ct.parse(t);if(s.length>5)return r;const i=Ct.createTransformer(t),o=typeof s[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;s[0+o]/=a,s[1+o]/=c;const u=X(a,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=u),typeof s[3+o]=="number"&&(s[3+o]/=u),i(s)}};class Z2 extends L.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:i}=e;Fx(J2),i&&(n.group&&n.group.add(i),r&&r.register&&s&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),gs.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:s,isPresent:i}=this.props,{projection:o}=r;return o&&(o.isPresent=i,s||e.layoutDependency!==n||n===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||J.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),Ka.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function lp(t){const[e,n]=bx(),r=L.useContext(Gf);return E.jsx(Z2,{...t,layoutGroup:r,switchLayoutGroup:L.useContext(zh),isPresent:e,safeToRemove:n})}const J2={borderRadius:{..._n,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:_n,borderTopRightRadius:_n,borderBottomLeftRadius:_n,borderBottomRightRadius:_n,boxShadow:X2};function Q2(t,e,n){const r=de(t)?t:Sn(t);return r.start(sc("",r,e,n)),r.animation}const eA=(t,e)=>t.depth-e.depth;class tA{constructor(){this.children=[],this.isDirty=!1}add(e){Ia(this.children,e),this.isDirty=!0}remove(e){ka(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(eA),this.isDirty=!1,this.children.forEach(e)}}function nA(t,e){const n=Ae.now(),r=({timestamp:s})=>{const i=s-n;i>=e&&(St(r),t(i-e))};return J.setup(r,!0),()=>St(r)}const dp=["TopLeft","TopRight","BottomLeft","BottomRight"],rA=dp.length,Wu=t=>typeof t=="string"?parseFloat(t):t,Ku=t=>typeof t=="number"||_.test(t);function sA(t,e,n,r,s,i){s?(t.opacity=X(0,n.opacity??1,iA(r)),t.opacityExit=X(e.opacity??1,0,oA(r))):i&&(t.opacity=X(e.opacity??1,n.opacity??1,r));for(let o=0;o<rA;o++){const a=`border${dp[o]}Radius`;let c=Yu(e,a),u=Yu(n,a);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||Ku(c)===Ku(u)?(t[a]=Math.max(X(Wu(c),Wu(u),r),0),(Qe.test(u)||Qe.test(c))&&(t[a]+="%")):t[a]=u}(e.rotate||n.rotate)&&(t.rotate=X(e.rotate||0,n.rotate||0,r))}function Yu(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const iA=fp(0,.5,rh),oA=fp(.5,.95,Ne);function fp(t,e,n){return r=>r<t?0:r>e?1:n(Tr(t,e,r))}function Xu(t,e){t.min=e.min,t.max=e.max}function Be(t,e){Xu(t.x,e.x),Xu(t.y,e.y)}function Zu(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function Ju(t,e,n,r,s){return t-=e,t=Ss(t,1/n,r),s!==void 0&&(t=Ss(t,1/s,r)),t}function aA(t,e=0,n=1,r=.5,s,i=t,o=t){if(Qe.test(e)&&(e=parseFloat(e),e=X(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=X(i.min,i.max,r);t===i&&(a-=e),t.min=Ju(t.min,e,n,a,s),t.max=Ju(t.max,e,n,a,s)}function Qu(t,e,[n,r,s],i,o){aA(t,e[n],e[r],e[s],e.scale,i,o)}const cA=["x","scaleX","originX"],uA=["y","scaleY","originY"];function el(t,e,n,r){Qu(t.x,e,cA,n?n.x:void 0,r?r.x:void 0),Qu(t.y,e,uA,n?n.y:void 0,r?r.y:void 0)}function tl(t){return t.translate===0&&t.scale===1}function hp(t){return tl(t.x)&&tl(t.y)}function nl(t,e){return t.min===e.min&&t.max===e.max}function lA(t,e){return nl(t.x,e.x)&&nl(t.y,e.y)}function rl(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function pp(t,e){return rl(t.x,e.x)&&rl(t.y,e.y)}function sl(t){return ge(t.x)/ge(t.y)}function il(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class dA{constructor(){this.members=[]}add(e){Ia(this.members,e),e.scheduleRender()}remove(e){if(ka(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(s=>e===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fA(t,e,n){let r="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((s||i||o)&&(r=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:u,rotate:l,rotateX:d,rotateY:f,skewX:h,skewY:m}=n;u&&(r=`perspective(${u}px) ${r}`),l&&(r+=`rotate(${l}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const Ci=["","X","Y","Z"],hA={visibility:"hidden"},pA=1e3;let mA=0;function $i(t,e,n,r){const{latestValues:s}=e;s[t]&&(n[t]=s[t],e.setStaticValue(t,0),r&&(r[t]=0))}function mp(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=Zh(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",J,!(s||i))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&mp(r)}function yp({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(o={},a=e==null?void 0:e()){this.id=mA++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(bA),this.nodes.forEach(EA),this.nodes.forEach(PA),this.nodes.forEach(wA)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new tA)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Ra),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=Dh(o)&&!mx(o),this.instance=o;const{layoutId:a,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||a)&&(this.isLayoutDirty=!0),t){let l;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,l&&l(),l=nA(d,250),gs.hasAnimatedSinceResize&&(gs.hasAnimatedSinceResize=!1,this.nodes.forEach(al))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||c)&&this.addEventListener("didUpdate",({delta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||u.getDefaultTransition()||IA,{onLayoutAnimationStart:p,onLayoutAnimationComplete:v}=u.getProps(),y=!this.targetLayout||!pp(this.targetLayout,h),w=!d&&f;if(this.options.layoutRoot||this.resumeFrom||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const g={...Ga(m,"layout"),onPlay:p,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(g.delay=0,g.type=!1),this.startAnimation(g),this.setAnimationOrigin(l,w)}else d||al(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),St(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(TA),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&mp(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let l=0;l<this.path.length;l++){const d=this.path[l];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ol);return}this.isUpdating||this.nodes.forEach(xA),this.isUpdating=!1,this.nodes.forEach(AA),this.nodes.forEach(yA),this.nodes.forEach(gA),this.clearAllSnapshots();const a=Ae.now();oe.delta=mt(0,1e3/60,a-oe.timestamp),oe.timestamp=a,oe.isProcessing=!0,wi.update.process(oe),wi.preRender.process(oe),wi.render.process(oe),oe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Ka.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(vA),this.sharedNodes.forEach(SA)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,J.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){J.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!ge(this.snapshot.measuredBox.x)&&!ge(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=te(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&this.instance){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!hp(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,l=u!==this.prevTransformTemplateValue;o&&this.instance&&(a||Nt(this.latestValues)||l)&&(s(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),kA(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return te();const a=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(BA))){const{scroll:l}=this.root;l&&(fn(a.x,l.offset.x),fn(a.y,l.offset.y))}return a}removeElementScroll(o){var c;const a=te();if(Be(a,o),(c=this.scroll)!=null&&c.wasRoot)return a;for(let u=0;u<this.path.length;u++){const l=this.path[u],{scroll:d,options:f}=l;l!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Be(a,o),fn(a.x,d.offset.x),fn(a.y,d.offset.y))}return a}applyTransform(o,a=!1){const c=te();Be(c,o);for(let u=0;u<this.path.length;u++){const l=this.path[u];!a&&l.options.layoutScroll&&l.scroll&&l!==l.root&&hn(c,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),Nt(l.latestValues)&&hn(c,l.latestValues)}return Nt(this.latestValues)&&hn(c,this.latestValues),c}removeTransform(o){const a=te();Be(a,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Nt(u.latestValues))continue;Bo(u.latestValues)&&u.updateSnapshot();const l=te(),d=u.measurePageBox();Be(l,d),el(a,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,l)}return Nt(this.latestValues)&&el(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var f;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==a;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:l,layoutId:d}=this.options;if(!(!this.layout||!(l||d))){if(this.resolvedRelativeTargetAt=oe.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=te(),this.relativeTargetOrigin=te(),Jn(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Be(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=te(),this.targetWithTransforms=te()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),R2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Be(this.target,this.layout.layoutBox),ip(this.target,this.targetDelta)):Be(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=te(),this.relativeTargetOrigin=te(),Jn(this.relativeTargetOrigin,this.target,h.target),Be(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Bo(this.parent.latestValues)||sp(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(c=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===oe.timestamp&&(c=!1),c)return;const{layout:u,layoutId:l}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||l))return;Be(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;N2(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=te());const{target:h}=o;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Zu(this.prevProjectionDelta.x,this.projectionDelta.x),Zu(this.prevProjectionDelta.y,this.projectionDelta.y)),Zn(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!il(this.projectionDelta.x,this.prevProjectionDelta.x)||!il(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)==null||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=dn(),this.projectionDelta=dn(),this.projectionDeltaWithTransform=dn()}setAnimationOrigin(o,a=!1){const c=this.snapshot,u=c?c.latestValues:{},l={...this.latestValues},d=dn();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const f=te(),h=c?c.source:void 0,m=this.layout?this.layout.source:void 0,p=h!==m,v=this.getStack(),y=!v||v.members.length<=1,w=!!(p&&!y&&this.options.crossfade===!0&&!this.path.some($A));this.animationProgress=0;let g;this.mixTargetDelta=b=>{const A=b/1e3;cl(d.x,o.x,A),cl(d.y,o.y,A),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Jn(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),CA(this.relativeTarget,this.relativeTargetOrigin,f,A),g&&lA(this.relativeTarget,g)&&(this.isProjectionDirty=!1),g||(g=te()),Be(g,this.relativeTarget)),p&&(this.animationValues=l,sA(l,u,this.latestValues,A,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var a,c,u;this.notifyListeners("animationStart"),(a=this.currentAnimation)==null||a.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(St(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=J.update(()=>{gs.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Sn(0)),this.currentAnimation=Q2(this.motionValue,[0,1e3],{...o,isSync:!0,onUpdate:l=>{this.mixTargetDelta(l),o.onUpdate&&o.onUpdate(l)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(pA),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:u,latestValues:l}=o;if(!(!a||!c||!u)){if(this!==o&&this.layout&&u&&gp(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||te();const d=ge(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const f=ge(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+f}Be(a,c),hn(a,l),Zn(this.projectionDeltaWithTransform,this.layoutCorrected,a,l)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new dA),this.sharedNodes.get(o).add(a);const u=a.options.initialPromotionConfig;a.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())==null?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())==null?void 0:a.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const u={};c.z&&$i("z",o,u,this.animationValues);for(let l=0;l<Ci.length;l++)$i(`rotate${Ci[l]}`,o,u,this.animationValues),$i(`skew${Ci[l]}`,o,u,this.animationValues);o.render();for(const l in u)o.setStaticValue(l,u[l]),this.animationValues&&(this.animationValues[l]=u[l]);o.scheduleRender()}getProjectionStyles(o){if(!this.instance||this.isSVG)return;if(!this.isVisible)return hA;const a={visibility:""},c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,a.opacity="",a.pointerEvents=ys(o==null?void 0:o.pointerEvents)||"",a.transform=c?c(this.latestValues,""):"none",a;const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){const h={};return this.options.layoutId&&(h.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,h.pointerEvents=ys(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Nt(this.latestValues)&&(h.transform=c?c({},""):"none",this.hasProjected=!1),h}const l=u.animationValues||u.latestValues;this.applyTransformsToTarget(),a.transform=fA(this.projectionDeltaWithTransform,this.treeScale,l),c&&(a.transform=c(l,a.transform));const{x:d,y:f}=this.projectionDelta;a.transformOrigin=`${d.origin*100}% ${f.origin*100}% 0`,u.animationValues?a.opacity=u===this?l.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:l.opacityExit:a.opacity=u===this?l.opacity!==void 0?l.opacity:"":l.opacityExit!==void 0?l.opacityExit:0;for(const h in Ir){if(l[h]===void 0)continue;const{correct:m,applyTo:p,isCSSVariable:v}=Ir[h],y=a.transform==="none"?l[h]:m(l[h],u);if(p){const w=p.length;for(let g=0;g<w;g++)a[p[g]]=y}else v?this.options.visualElement.renderState.vars[h]=y:a[h]=y}return this.options.layoutId&&(a.pointerEvents=u===this?ys(o==null?void 0:o.pointerEvents)||"":"none"),a}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)==null?void 0:a.stop()}),this.root.nodes.forEach(ol),this.root.sharedNodes.clear()}}}function yA(t){t.updateLayout()}function gA(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?Me(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=ge(f);f.min=r[d].min,f.max=f.min+h}):gp(i,e.layoutBox,r)&&Me(d=>{const f=o?e.measuredBox[d]:e.layoutBox[d],h=ge(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const a=dn();Zn(a,r,e.layoutBox);const c=dn();o?Zn(c,t.applyTransform(s,!0),e.measuredBox):Zn(c,r,e.layoutBox);const u=!hp(a);let l=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const m=te();Jn(m,e.layoutBox,f.layoutBox);const p=te();Jn(p,r,h.layoutBox),pp(m,p)||(l=!0),d.options.layoutRoot&&(t.relativeTarget=p,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:a,hasLayoutChanged:u,hasRelativeLayoutChanged:l})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function bA(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function wA(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function vA(t){t.clearSnapshot()}function ol(t){t.clearMeasurements()}function xA(t){t.isLayoutDirty=!1}function AA(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function al(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function EA(t){t.resolveTargetDelta()}function PA(t){t.calcProjection()}function TA(t){t.resetSkewAndRotation()}function SA(t){t.removeLeadSnapshot()}function cl(t,e,n){t.translate=X(e.translate,0,n),t.scale=X(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function ul(t,e,n,r){t.min=X(e.min,n.min,r),t.max=X(e.max,n.max,r)}function CA(t,e,n,r){ul(t.x,e.x,n.x,r),ul(t.y,e.y,n.y,r)}function $A(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const IA={duration:.45,ease:[.4,0,.1,1]},ll=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),dl=ll("applewebkit/")&&!ll("chrome/")?Math.round:Ne;function fl(t){t.min=dl(t.min),t.max=dl(t.max)}function kA(t){fl(t.x),fl(t.y)}function gp(t,e,n){return t==="position"||t==="preserve-aspect"&&!M2(sl(e),sl(n),.2)}function BA(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const MA=yp({attachResizeListener:(t,e)=>Br(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ii={current:void 0},bp=yp({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ii.current){const t=new MA({});t.mount(window),t.setOptions({layoutScroll:!0}),Ii.current=t}return Ii.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),RA={pan:{Feature:Y2},drag:{Feature:K2,ProjectionNode:bp,MeasureLayout:lp}};function hl(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,i=r[s];i&&J.postRender(()=>i(e,Xr(e)))}class NA extends kt{mount(){const{current:e}=this.node;e&&(this.unmount=lx(e,(n,r)=>(hl(this.node,r,"Start"),s=>hl(this.node,s,"End"))))}unmount(){}}class FA extends kt{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wr(Br(this.node.current,"focus",()=>this.onFocus()),Br(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function pl(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),i=r[s];i&&J.postRender(()=>i(e,Xr(e)))}class DA extends kt{mount(){const{current:e}=this.node;e&&(this.unmount=px(e,(n,r)=>(pl(this.node,r,"Start"),(s,{success:i})=>pl(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const No=new WeakMap,ki=new WeakMap,LA=t=>{const e=No.get(t.target);e&&e(t)},jA=t=>{t.forEach(LA)};function OA({root:t,...e}){const n=t||document;ki.has(n)||ki.set(n,{});const r=ki.get(n),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(jA,{root:t,...e})),r[s]}function VA(t,e,n){const r=OA(e);return No.set(t,n),r.observe(t),()=>{No.delete(t),r.unobserve(t)}}const UA={some:0,all:1};class zA extends kt{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:i}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:UA[s]},a=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,i&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:l,onViewportLeave:d}=this.node.getProps(),f=u?l:d;f&&f(c)};return VA(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(_A(e,n))&&this.startObserver()}unmount(){}}function _A({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const HA={inView:{Feature:zA},tap:{Feature:DA},focus:{Feature:FA},hover:{Feature:NA}},qA={layout:{ProjectionNode:bp,MeasureLayout:lp}},Fo={current:null},wp={current:!1};function GA(){if(wp.current=!0,!!Ca)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Fo.current=t.matches;t.addListener(e),e()}else Fo.current=!1}const WA=new WeakMap;function KA(t,e,n){for(const r in e){const s=e[r],i=n[r];if(de(s))t.addValue(r,s);else if(de(i))t.addValue(r,Sn(s,{owner:t}));else if(i!==s)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(r);t.addValue(r,Sn(o!==void 0?o:s,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const ml=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class YA{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qa,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Ae.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,J.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=a,this.blockInitialAnimation=!!i,this.isControllingVariants=Gs(n),this.isVariantNode=Vh(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:l,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];c[f]!==void 0&&de(h)&&h.set(c[f],!1)}}mount(e){this.current=e,WA.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),wp.current||GA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Fo.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),St(this.notifyUpdate),St(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Fn.has(e);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&J.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{s(),i(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Cn){const n=Cn[e];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):te()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<ml.length;r++){const s=ml[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=KA(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Sn(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(Wf(r)||Yf(r))?r=parseFloat(r):!gx(r)&&Ct.test(n)&&(r=Bh(e,n)),this.setBaseTarget(e,de(r)?r.get():r)),de(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var i;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const o=nc(this.props,n,(i=this.presenceContext)==null?void 0:i.custom);o&&(r=o[e])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!de(s)?s:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Ra),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class vp extends YA{constructor(){super(...arguments),this.KeyframeResolver=ix}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;de(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function xp(t,{style:e,vars:n},r,s){Object.assign(t.style,e,s&&s.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}function XA(t){return window.getComputedStyle(t)}class ZA extends vp{constructor(){super(...arguments),this.type="html",this.renderInstance=xp}readValueFromInstance(e,n){var r;if(Fn.has(n))return(r=this.projection)!=null&&r.isProjecting?Ao(n):Pv(e,n);{const s=XA(e),i=(Da(n)?s.getPropertyValue(n):s[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return op(e,n)}build(e,n,r){Qa(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return rc(e,n,r)}}const Ap=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JA(t,e,n,r){xp(t,e,void 0,r);for(const s in e.attrs)t.setAttribute(Ap.has(s)?s:Ja(s),e.attrs[s])}class QA extends vp{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=te}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Fn.has(n)){const r=kh(n);return r&&r.default||0}return n=Ap.has(n)?n:Ja(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return Xh(e,n,r)}build(e,n,r){Gh(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,s){JA(e,n,r,s)}mount(e){this.isSVGTag=Kh(e.tagName),super.mount(e)}}const e6=(t,e)=>tc(t)?new QA(e):new ZA(e,{allowProjection:t!==L.Fragment}),t6=Jx({...P2,...HA,...RA,...qA},e6),yl=Ex(t6);function n6({onConnect:t}){return E.jsx("button",{className:"wallet-button",onClick:t,children:"Start"})}var sn=()=>E.jsx("span",{style:{color:"red",marginLeft:"2px",fontSize:"1em"},children:"*"});function gl(t){return"options"in t&&Array.isArray(t.options)}function Cs({param:t,value:e,label:n,onChange:r}){var l,d;const s=t.name??"",i=t.label||n||s,o=()=>E.jsxs(E.Fragment,{children:[E.jsxs("label",{htmlFor:s,className:"action-input-label",children:[i,t.required&&E.jsx(sn,{})]}),E.jsxs("select",{id:s,className:"select-input",value:String(e??""),onChange:f=>r(f.target.value),required:t.required,children:[E.jsxs("option",{value:"",disabled:!0,children:["Select ",i]}),gl(t)&&t.options.map((f,h)=>E.jsx("option",{value:String(f.value),children:f.label},h))]})]}),a=()=>E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[E.jsxs("label",{className:"radio-group-label",children:[i,t.required&&E.jsx(sn,{})]}),gl(t)&&t.options.map((f,h)=>E.jsxs("label",{className:"radio-option",style:{display:"flex",alignItems:"center",gap:"4px"},children:[E.jsx("input",{type:"radio",name:s,value:String(f.value),checked:e===f.value,onChange:()=>r(f.value),required:t.required&&h===0}),f.label]},h))]}),c=()=>E.jsxs("label",{className:"action-input-label",style:{display:"flex",flexDirection:"column",gap:"4px"},children:[E.jsxs("span",{children:[i,t.required&&E.jsx(sn,{})]}),E.jsx("textarea",{id:s,className:"action-textarea",placeholder:i,value:typeof e=="string"?e:"",onChange:f=>r(f.target.value),rows:4,required:t.required})]}),u=f=>E.jsxs("label",{className:"action-input-label",style:{display:"flex",flexDirection:"column",gap:"4px"},children:[E.jsxs("span",{children:[i,t.required&&E.jsx(sn,{})]}),E.jsx("input",{id:s,type:f,className:"action-input",placeholder:i,value:e!=null?String(e):"",onChange:h=>r(h.target.value),required:t.required})]});switch(t.type){case"select":return o();case"radio":return a();case"textarea":return c();case"email":return u("email");case"url":return u("url");case"datetime":return u("datetime-local");case"bool":case"boolean":return E.jsxs("label",{className:"flex items-center gap-2",style:{display:"flex",alignItems:"center"},children:[E.jsx("input",{id:s,type:"checkbox",style:{width:"16px",height:"16px"},checked:!!e,onChange:f=>r(f.target.checked)}),E.jsxs("span",{children:[i,t.required&&E.jsx(sn,{})]})]});case"address":case"string":case"text":return u("text");case"number":case"uint":case"int":default:if((l=t.type)!=null&&l.startsWith("uint")||(d=t.type)!=null&&d.startsWith("int"))return u("number");break}return E.jsxs("div",{style:{padding:"8px",border:"1px dashed #ccc"},children:[E.jsxs("label",{className:"action-input-label",children:[i,t.required&&E.jsx(sn,{})]}),E.jsx("input",{type:t.type,value:String(e??""),onChange:f=>r(f.target.value),placeholder:`Unhandled type: ${t.type}`,className:"action-input"}),E.jsxs("p",{style:{fontSize:"0.8em",color:"#777"},children:["Unhandled param type: ",t.type,", inputType: ",t.type||"N/A"]})]})}var ic=[{inputs:[{internalType:"address",name:"_wormholeRelayer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"contractToBeCalled",type:"address"},{indexed:!1,internalType:"bytes",name:"encodedFunctionCall",type:"bytes"},{indexed:!1,internalType:"address",name:"destinationAddress",type:"address"},{indexed:!1,internalType:"bytes32",name:"destinationChain",type:"bytes32"}],name:"MessageSent",type:"event"},{inputs:[],name:"GAS_LIMIT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"ORIGIN_CHAIN",outputs:[{internalType:"uint16",name:"",type:"uint16"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_contractToBeCalled",type:"address"},{internalType:"bytes",name:"_encodedFunctionCall",type:"bytes"}],name:"encodeMessage",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_targetChain",type:"uint16"},{internalType:"uint256",name:"_receiverValue",type:"uint256"},{internalType:"uint256",name:"_gasLimit",type:"uint256"}],name:"quoteCrossChainCost",outputs:[{internalType:"uint256",name:"cost",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"s_wormholeRelayer",outputs:[{internalType:"contract IWormholeRelayer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint16",name:"_targetChain",type:"uint16"},{internalType:"address",name:"_receiverAddress",type:"address"},{internalType:"address",name:"_contractToBeCalled",type:"address"},{internalType:"bytes",name:"_encodedFunctionCall",type:"bytes"},{internalType:"uint256",name:"_gasLimit",type:"uint256"},{internalType:"uint256",name:"_receiverValue",type:"uint256"}],name:"sendMessage",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"_gasLimit",type:"uint256"}],name:"setGasLimit",outputs:[],stateMutability:"nonpayable",type:"function"}],r6="0x1b412E757bc8359b401BcF7B0b82215c33a9B71f",s6="0xe0e07c70b7fB31d58AFf69C1750520baebaa632D",i6="0xCfAfb96446C6Bd2a477D327215D358626d944E13",o6="0x21fb3E1D7a7a218fdd9C28b0b18D8b9Cb49Fe259",a6="0x4DC7CdD6d7062add8bB3e4512E987aC111388335",c6="0xa3CA6021b432a88EEFb5b53B31833e19195b4ecB",u6={AVALANCHE:s6,CELO:"",MONAD_TESTNET:c6,MONAD:"",FUJI:r6,ALFAJORES:""},l6={AVALANCHE:"",CELO:o6,MONAD_TESTNET:"",FUJI:i6,ALFAJORES:a6},Do=t=>{const e=t==="monad-testnet"?"MONAD_TESTNET":t.toUpperCase(),n=u6[e]||"";if(!n||n==="")throw new Error(`Sender address not found for ${t}`);return n},d6=t=>{const e=t==="monad-testnet"?"MONAD_TESTNET":t.toUpperCase(),n=l6[e]||"";if(!n||n==="")throw new Error(`Receiver address not found for ${t}`);return n},on={avalanche:43114,fuji:43113,celo:42220,alfajores:44787,"monad-testnet":10143,ethereum:1,sepolia:11155111},f6={avalanche:6,fuji:6,celo:14,alfajores:14,"monad-testnet":48,ethereum:2,sepolia:10002},h6={fuji:43113,avalanche:43114,"monad-testnet":10143,alfajores:44787,celo:42220,ethereum:1,sepolia:11155111},bl=(t,e)=>{console.log("========================================="),console.log("🔍 PROCESANDO ARGUMENTOS PARA CONTRATO"),console.log("Función: ",t.functionName),console.log("Parámetros esperados:",t.params.map(r=>`${r.name}:${r.type}`));const n=t.params.map((r,s)=>{const i=r.name,o=e[i];if(console.log(`${s}. Procesando parámetro "${i}" (${r.type}):`,o),o===void 0)throw console.error(`❌ ERROR: Falta valor para ${i} (${r.type})`),new Error(`Missing value for parameter "${i}" (${r.type})`);if(r.type==="uint256"||r.type.includes("int"))try{let a;if(typeof o=="string")console.log(`- Convirtiendo string "${o}" a BigInt`),a=BigInt(o);else if(typeof o=="bigint")console.log("- Usando valor BigInt directamente"),a=o;else if(typeof o=="number")if(Number.isInteger(o))console.log(`- Convirtiendo número entero ${o} a BigInt`),a=BigInt(o);else if(console.error(`❌ ERROR: El número ${o} no es entero, no se puede convertir a BigInt`),o<1e3){const c=Math.floor(o*1e18);console.log(`- Intento de rescate: Convirtiendo ${o} a wei: ${c}`),a=BigInt(c)}else throw new Error(`Cannot convert decimal ${o} to BigInt. Use a string with the full wei amount.`);else throw console.error(`❌ ERROR: Tipo inesperado para BigInt: ${typeof o}`),new Error(`Unexpected type for BigInt parameter: ${typeof o}`);return console.log(`✅ Valor convertido exitosamente a BigInt: ${a}`),a}catch(a){throw console.error("❌ ERROR convirtiendo a BigInt:",a),new Error(`Cannot convert value '${o}' to BigInt for parameter '${i}': ${a.message}`)}return o});return console.log("✅ Argumentos procesados correctamente:"),console.log(n),console.log("========================================="),n},p6=async(t,e,n)=>{var r;if(console.log("*** getTransactionData ***"),!((r=t==null?void 0:t.actions)!=null&&r.length))throw new Error("No actions available in metadata");return t.actions.map(s=>{if(Ye.isTransferAction(s)){let{to:i,amount:o}=s;if(e.recipientAddress&&e.amount&&(i=e.recipientAddress,o=e.amount),!i)throw new Error("Recipient address is required");return{to:i,value:ci(o?o.toString():"0")}}else if(Ke.isBlockchainAction(s))if(console.log("is blockchainaction"),n){const i=bl(s,e),o=Ee({abi:s.abi,functionName:s.functionName,args:i}),a=at(s.address),c=on[s.chains.source];return console.log("🔍 chainId from generateTransactionData:",c),{abi:ic,address:`0x${a}`,functionName:"sendMessage",args:[s.address,o],value:ci(s.amount?s.amount.toString():"0"),chainId:c}}else{const i=bl(s,e),o=at(s.address);return{abi:s.abi,address:`0x${o}`,functionName:s.functionName,args:i,value:ci(s.amount?s.amount.toString():"0")}}else throw console.error("Unsupported action type - HttpAction not supported",s),new Error("Unsupported action type")})},wl=async(t,e,n)=>{const r=Do(e),s=at(r);if(!s)throw new Error("Cross sender address not found");const i=h6[e];return await n.readContract({abi:ic,address:`0x${s}`,functionName:"quoteCrossChainCost",args:[t.targetChainId,t.receiverValue,t.gasLimit],chainId:i})},Bi=t=>{switch(t){case"avalanche":case"fuji":return"https://i.postimg.cc/gJT7r4CC/avax.png";case"celo":case"alfajores":return"https://i.postimg.cc/Nf7Wk8mH/celo.png";case"monad-testnet":return"https://i.postimg.cc/NFbk5025/monad.png";case"wormhole":return"https://i.postimg.cc/VvSkbGdn/wormhole.png";default:return"https://i.postimg.cc/gJT7r4CC/avax.png"}},os=5;function Ep({adapter:t,action:e,actionValues:n,setTxHash:r}){const[s,i]=L.useState("idle"),[o,a]=L.useState(0n),[c,u]=L.useState(null),l=s==="confirming"?Number(Number(o)*100/os):0,d=s==="sending"||s==="confirming",f=x=>!!(x.chains&&x.chains.destination),h=x=>"to"in x&&"value"in x,m=(x,T)=>({targetChain:f6[T],gasLimit:x?1e5:8e5,receiverValue:0n}),p=async x=>{const T=m(!0,e.chains.destination),$=e.chains.source,B=await wl({targetChainId:T.targetChain,receiverValue:x.value,gasLimit:T.gasLimit},$,t);console.log("🔁 quoteCrossChain",B);const F=BigInt(x.value),G=B+F,R=Do($),M=on[$],D={abi:ic,address:`0x${at(R)}`,functionName:"sendMessage",args:[T.targetChain,`0x${at(x.to)}`,`0x${"0".repeat(40)}`,"0x0",BigInt(T.gasLimit),BigInt(x.value)],value:BigInt(G),chainId:M};return(await t.writeContract(D)).hash},v=async x=>{try{const T={to:`0x${at(x.to)}`,value:BigInt(x.value)};console.log("🔁 request Transfer Standard",T);const $=e.chains.source,B=on[$],F=await t.estimateGas({...T,chainId:B});return(await t.sendTransaction({...T,gasLimit:F})).hash}catch(T){throw console.error("💥 Transfer error:",T),T}},y=async x=>{const T=m(!1,e.chains.destination),$=e.chains.source,B=e.chains.destination,F=on[$],R=await wl({targetChainId:T.targetChain,receiverValue:x.value,gasLimit:T.gasLimit},$,t)+(x.value||BigInt(0)),M=Do($),N=d6(B),D={abi:x.abi,address:`0x${at(M)}`,functionName:x.functionName,args:[T.targetChain,`0x${at(N)}`,x.address,x.args[1],T.gasLimit,x.value],value:BigInt(R),chainId:F};return(await t.writeContract(D)).hash};function w(x){return x!==null&&typeof x=="object"&&"walk"in x&&typeof x.walk=="function"}function g(x){return x!==null&&typeof x=="object"&&"cause"in x&&x.cause!==null&&typeof x.cause=="object"&&"walk"in x.cause&&typeof x.cause.walk=="function"}const b=x=>g(x)?x.cause.walk(T=>T instanceof mn||T instanceof cs||T instanceof Qs||T instanceof gn||T instanceof bn||T instanceof us):w(x)?x.walk(T=>T instanceof mn||T instanceof cs||T instanceof Qs||T instanceof gn||T instanceof bn||T instanceof us):null,A=x=>{var $;let T;if(x instanceof I){const B=b(x);B instanceof cs||B instanceof mn?($=B.cause)!=null&&$.reason?T=`Execution error: ${B.cause.reason}`:B.reason?T=`Execution error: ${B.reason}`:T="Error executing contract function":B instanceof bn?T="You don't have enough funds to pay for this transaction":B instanceof gn?T="The gas fee offered is too low to process the transaction":B instanceof Qs?(B.message.includes("gas")&&(T="Gas error: the transaction may require more gas than provided"),T="Error processing the transaction on the blockchain"):B instanceof us?T="Unable to estimate gas for the transaction":T=x.shortMessage||x.message||"Unknown transaction error"}else x instanceof Error?(x.message.includes("user rejected")?T="Transaction rejected by user":x.message.includes("timeout")?T="Transaction timed out":x.message.toLowerCase().includes("nonce")&&(T="Nonce error: try resetting your wallet"),T=x.message):T="Unknown error while processing the transaction";return u(T),T},P=async x=>{console.log("🔁 data standard transaction",x);const T=e.chains.source,$=on[T],B={abi:x.abi,address:`0x${at(x.address)}`,functionName:x.functionName,args:x.args,value:x.value,chainId:$};return(await t.writeContract(B)).hash},C=async(x,T)=>{const $=B=>{throw new Error(A(B))};return h(x)?T?await p(x).catch($):await v(x).catch($):T?await y(x).catch($):await P(x).catch($)},S=async()=>{u(null);try{const x={url:"",icon:"",title:"",description:"",actions:[e]},T=f(e),[$]=await p6(x,n,T);i("sending");const B=await C($,T);if(!B.startsWith("0x"))throw new Error(B);i("confirming"),a(0n),await t.waitForTransaction(B,{minConfirmations:os,chainId:on[e.chains.source],onProgress:F=>a(F)}),i("success"),a(os),r(B),setTimeout(()=>{i("idle"),a(0n)},2e3)}catch(x){console.error("❌ TX flow error:",x),u((x==null?void 0:x.message)??"Transaction failed"),i("idle"),a(0n),r(null)}};return E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:8},children:[E.jsxs("button",{onClick:S,disabled:d,className:"tx-button",style:{background:d?`linear-gradient(90deg,#16a34a ${l}%,#e2e8f0 ${l}%)`:void 0,transition:"background-size .3s linear"},children:[s==="idle"&&e.label,s==="sending"&&"Sending…",s==="confirming"&&`Confirming (${o}/${os})…`,s==="success"&&"✔︎ Confirmed",E.jsxs("div",{style:{display:"inline-flex",alignItems:"center",position:"relative"},children:[E.jsx("img",{src:Bi(e.chains.source),alt:e.chains.source,width:24,height:24,style:{borderRadius:"50%",background:"#fff",border:"1px solid #fff"}}),e.chains.destination&&E.jsx("img",{src:Bi(e.chains.destination),alt:e.chains.destination,width:24,height:24,style:{marginLeft:-8,borderRadius:"50%",background:"#fff",border:"1px solid #fff"}}),e.chains.destination&&E.jsx("img",{src:Bi("wormhole"),alt:"wormhole",width:16,height:16,style:{position:"absolute",left:40,bottom:-4,transform:"translateX(-50%)"}})]})]}),c&&E.jsxs("p",{style:{fontSize:12,color:"red"},children:["⚠️ ",c]})]})}function m6({action:t,adapter:e,connectedAccount:n,setTxHash:r}){const s=t.abiParams.map((c,u)=>{var l;return{...c,...((l=t.params)==null?void 0:l[u])??{}}}),[i,o]=L.useState({});L.useEffect(()=>{const c={};s.forEach((u,l)=>{const d=u.name??`param_${l}`;let f=u.value;f==="sender"&&(f="0x11b6453f61db55a0079c940c5488BF63C0ac9d10"),c[d]=f??""}),o(c)},[t]);const a=(c,u)=>o(l=>({...l,[c]:u}));return E.jsxs("div",{className:"input-container",children:[n&&s.map((c,u)=>{const l=c.name??`param_${u}`;return c.value!==void 0&&c.value!==null?null:E.jsx(Cs,{param:c,value:i[l]??"",label:c.label??c.name??`Param ${u+1}`,onChange:d=>a(l,d)},l)}),n&&E.jsx(Ep,{adapter:e,action:t,actionValues:i,setTxHash:r,params:{address:t.address,abi:t.abi,functionName:t.functionName,args:s.map((c,u)=>{const l=c.name??`param_${u}`;return i[l]})}})]})}var Mi=t=>t!=null&&String(t)!=="";function y6({action:t,adapter:e,connectedAccount:n,setTxHash:r}){var l,d,f,h,m,p,v,y;const[s,i]=L.useState({});L.useEffect(()=>{var w,g;i({recipientAddress:t.to??((w=t.recipient)==null?void 0:w.defaultValue),amount:t.amount??((g=t.amountConfig)==null?void 0:g.defaultValue)})},[t]);const o=(w,g)=>i(b=>({...b,[w]:g})),a=w=>{if(!Mi(w))return 0n;if(typeof w=="bigint")return w;const g=typeof w=="string"?parseFloat(w):w;return BigInt(Math.floor(g*1e18))},c={name:"recipientAddress",type:"address",label:((l=t.recipient)==null?void 0:l.label)??"Recipient",inputType:(d=t.recipient)==null?void 0:d.type,options:(f=t.recipient)==null?void 0:f.options,defaultValue:t.to??((h=t.recipient)==null?void 0:h.defaultValue)},u={name:"amount",type:"uint256",label:((m=t.amountConfig)==null?void 0:m.label)??"Amount",inputType:(p=t.amountConfig)==null?void 0:p.type,options:(v=t.amountConfig)==null?void 0:v.options,defaultValue:t.amount??((y=t.amountConfig)==null?void 0:y.defaultValue)};return E.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[n&&E.jsx(E.Fragment,{children:Mi(c.defaultValue)?null:E.jsx(Cs,{param:c,value:s.recipientAddress,label:c.label,onChange:w=>o("recipientAddress",w)})}),n&&E.jsx(E.Fragment,{children:Mi(u.defaultValue)?null:E.jsx(Cs,{param:u,value:s.amount,label:u.label,onChange:w=>o("amount",w)})}),n&&E.jsx(Ep,{adapter:e,params:{to:String(s.recipientAddress),value:a(s.amount)},action:t,actionValues:s,setTxHash:r})]})}function g6({txHash:t,error:e}){if(!t)return null;const[n,r]=L.useState(!1),s=async()=>{if(t)try{await navigator.clipboard.writeText(t),r(!0),setTimeout(()=>r(!1),2e3)}catch(i){console.error("Failed to copy:",i)}};return e?E.jsx("div",{className:"break-all rounded-md p-[16px] text-sm font font-medium text-[#E57373]",children:e.split(`
`)[0]}):t?E.jsxs(yl.div,{className:"transaction-status-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("h1",{className:"transaction-status-title",children:"Transaction Successful"}),E.jsx("img",{src:"https://i.postimg.cc/vT9FtsrC/check.png",alt:"check",className:"transaction-status-img"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[E.jsx("h2",{className:"transaction-status-label",children:"Tx Hash"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",color:"#6366F1",fontSize:"14px",fontWeight:500},onClick:s,title:"Click to copy",children:[E.jsxs("span",{className:"transaction-status-hash",children:[t.slice(0,6),"...",t.slice(-4)]}),E.jsxs("span",{children:[" ",n?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),E.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})]})]})]})]}):t?E.jsxs(yl.div,{className:"transaction-status-content",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},children:[E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},children:[E.jsx("h1",{className:"transaction-status-title",children:"Transaction Successful !!!"}),E.jsx("img",{src:"https://i.postimg.cc/vT9FtsrC/check.png",alt:"check",className:"transaction-status-img"})]}),E.jsxs("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:"8px"},children:[E.jsx("h2",{className:"transaction-status-label",children:"Tx Hash"}),E.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",color:"#6366F1",fontSize:"14px",fontWeight:500},onClick:s,title:"Click to copy",children:[E.jsxs("span",{className:"transaction-status-hash",children:[t.slice(0,6),"...",t.slice(-4)]}),E.jsx("span",{children:n?E.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:E.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}):E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 text-indigo-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[E.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),E.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]})})]})]})]}):null}function b6({walletAddress:t}){return E.jsx("div",{style:{fontWeight:"500",fontSize:"14px",lineHeight:"24px",width:"100%",textAlign:"center"},children:t.includes("Error")?E.jsx("div",{style:{width:"93%",padding:"16px"},children:E.jsx("h1",{style:{margin:"0",color:"#E57373",fontSize:"12px"},children:t})}):E.jsxs("h1",{className:"wallet-connected",children:["Wallet connected:"," ",E.jsx("span",{className:"wallet-address",children:`${t.substring(0,4)}...${t.slice(-4)}`})]})})}function w6(t,e,n){if(!t)throw new Error("baseUrl requerido");const r=new URL(e,t);return Object.entries(n).forEach(([s,i])=>{i!=null&&i!==""&&r.searchParams.append(s,String(i))}),r.toString()}var v6=It({id:43113,name:"Avalanche Fuji",nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}}});function x6(t){return typeof t=="object"&&t!==null&&t.__type==="bigint"&&"value"in t}function A6(t){return["value","gas","maxFeePerGas","maxPriorityFeePerGas"].forEach(e=>{const n=t[e];x6(n)&&(t[e]=BigInt(n.value))}),t}function E6({action:t,values:e,connectedAccount:n,setExecutionResponse:r,loading:s,setLoading:i,baseUrl:o,adapter:a,setTxHash:c}){const[u,l]=L.useState(null),d=L.useMemo(()=>fs({chain:v6,transport:ls()}),[]),f=L.useMemo(()=>{var p;const m={};return(p=t.params)==null||p.forEach((v,y)=>{const w=v.name??`param_${y}`;m[w]=e[w]??v.value}),w6(o,t.path,m)},[t.params,e,o,t.path]),h=L.useCallback(async()=>{i(!0),console.log("endpoint",f);try{const m=await fetch(f,{method:"POST",headers:{"Content-Type":"application/json"}});if(console.log("res",m),!m.ok){const b=await m.text();throw new Error(`Fetch failed (${m.status}): ${b}`)}const p=await m.json();if(!p){r(null);return}const v=typeof p.serializedTransaction=="string"?JSON.parse(p.serializedTransaction):p.serializedTransaction,y=A6(v),{hash:w}=await a.sendDeserializedTransaction(y),g=await d.waitForTransactionReceipt({hash:w});r({ok:!0,receipt:g}),c(w)}catch(m){console.error("[DynamicButton] ❌ Error:",m);const p=m instanceof Error?m.message:typeof m=="string"?m:"Unknown error";l(`Error sending transaction: ${p}`),r(null)}finally{i(!1)}},[a,d,r,i,f]);return L.useCallback(async()=>{try{i(!0);const m=new p1(o),p={account:n??void 0},v=await m.execute(t,e,p);r(v)}catch{r(null)}finally{i(!1)}},[t,e,n,o,r,i]),E.jsxs(E.Fragment,{children:[E.jsx("button",{className:"dynamic-button",onClick:h,disabled:s,children:s?"Loading…":t.label}),u&&E.jsxs("p",{style:{fontSize:12,color:"red"},children:["⚠️ ",u]})]})}function P6({action:t,adapter:e,connectedAccount:n,setTxHash:r,baseUrl:s}){const[i,o]=L.useState({}),[a,c]=L.useState(null),[u,l]=L.useState(!1),d=Array.isArray(t.params)&&t.params.length>0;console.log("HAS PARAMS",d),L.useEffect(()=>{var m;const h={};(m=t.params)==null||m.forEach((p,v)=>{const y=p.name??`param_${v}`;let w=p.value;w==="sender"&&(w=n??""),h[y]=w??""}),o(h)},[t,n]);const f=(h,m)=>{o(p=>({...p,[h]:m}))};return E.jsxs("div",{className:"input-container",children:[d&&t.params.map((h,m)=>{const p=h.name??`param_${m}`;return h.value?null:E.jsx(Cs,{param:h,value:i[p]??"",label:h.label??p,onChange:v=>f(p,v)},p)}),E.jsx(E6,{action:t,values:i,connectedAccount:n,setExecutionResponse:c,loading:u,setLoading:l,baseUrl:s,adapter:e,setTxHash:r})]})}var vl=class{static isHTMLAction(t){return t&&t.type==="html"&&typeof t.url=="string"}};function T6({action:t,connectedAccount:e}){const[n,r]=L.useState(!0),s=L.useRef(null);L.useEffect(()=>{r(!0)},[t.url]);const i=()=>{console.log("Iframe onLoad event triggered for:",t.url),r(!1)};return L.useEffect(()=>{const o=a=>{var u,l;if(!s.current||a.source!==s.current.contentWindow)return;const{type:c}=a.data;switch(c){case"game-loaded":console.log("Received 'game-loaded' message from iframe"),r(!1);break;case"request-fullscreen":s.current&&((l=(u=s.current).requestFullscreen)==null||l.call(u).catch(d=>{console.error("Error requesting fullscreen:",d)}));break}};return window.addEventListener("message",o),()=>window.removeEventListener("message",o)},[]),L.useEffect(()=>{var o;!n&&((o=s.current)!=null&&o.contentWindow)&&e&&(console.log("Sending/Resending wallet info to iframe:",e),s.current.contentWindow.postMessage({source:"slinks-extension",type:"init",walletAddress:e},"*"))},[n,e,t.url]),e?E.jsxs("div",{style:{position:"relative",borderRadius:"12px",overflow:"hidden",background:"#000"},children:[n&&E.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"rgba(0, 0, 0, 0.85)",color:"white",zIndex:10,borderRadius:"12px"},children:E.jsx("div",{children:"Loading game..."})}),E.jsx("iframe",{ref:s,src:t.url,onLoad:i,width:"100%",height:t.height||600,frameBorder:"0",allowFullScreen:t.fullscreen,allow:t.fullscreen?"fullscreen":"",sandbox:"allow-scripts allow-forms allow-popups allow-modals allow-same-origin",style:{border:"none",borderRadius:"12px",display:n?"none":"block"},title:t.label})]}):E.jsxs("div",{style:{padding:"40px",textAlign:"center",background:"var(--sherry-input-bg)",borderRadius:"12px",color:"var(--sherry-description)"},children:[E.jsx("div",{style:{fontSize:"48px",marginBottom:"16px"},children:"🎮"}),E.jsx("p",{children:"Connect your wallet to play"})]})}function S6({actions:t,adapter:e,connectedAccount:n,setConnectedAccount:r,baseUrl:s}){const[i,o]=L.useState(null),a=t.filter(u=>Ke.isBlockchainAction(u)||Ye.isTransferAction(u)||we.isHttpAction(u)||lt.isDynamicAction(u)||vl.isHTMLAction(u));console.log("ActionForm supportedActions",a);const c=async()=>{try{const u=await e.connect();r(u)}catch(u){console.error("connect error",u)}};return E.jsxs("div",{className:"action-form",children:[n&&E.jsx(b6,{walletAddress:n}),E.jsx(g6,{txHash:i}),a.map((u,l)=>{if(console.log("ActionForm action",u),!n)return null;let d=null;return Ke.isBlockchainAction(u)?d=E.jsx(m6,{action:u,adapter:e,connectedAccount:n,setTxHash:o},l):Ye.isTransferAction(u)?d=E.jsx(y6,{action:u,adapter:e,connectedAccount:n,setTxHash:o},l):we.isHttpAction(u)?d=E.jsx("div",{children:"HTTP Action"},l):lt.isDynamicAction(u)?d=E.jsx(P6,{action:u,adapter:e,connectedAccount:n,setTxHash:o,baseUrl:s},l):vl.isHTMLAction(u)&&(console.log("HTML Action",u),d=E.jsx(T6,{action:u,connectedAccount:n})),d?E.jsx("div",{className:"action-form-item",children:d},l):null}),!n&&E.jsx(n6,{adapter:e,onConnect:c})]})}function C6(t){try{return new URL(t).hostname}catch(e){return console.error("URL inválida:",e),null}}function $6({link:t}){return E.jsxs("div",{className:"link-param",children:[E.jsx("a",{href:t||"https://app.sherry.social",target:"_blank",rel:"noopener noreferrer",className:"anchor-link",children:E.jsx("p",{className:"link-param-text",children:C6(t||"https://app.sherry.social")})}),E.jsx("a",{href:"https://docs.sherry.social/",target:"_blank",rel:"noopener noreferrer",className:"anchor-link",children:E.jsx("img",{src:"https://i.postimg.cc/qBN2Rhp0/share.png",alt:"",width:9,height:9})})]})}function I6({url:t}){return E.jsxs("div",{className:"powered-by-container",children:[E.jsx("h1",{className:"powered-by",children:"by"}),E.jsxs("div",{className:"powered-by-logo-container",children:[E.jsx("img",{className:"logo-light",src:"https://i.postimg.cc/7Y1LvnfF/dark-logo.png",alt:"logo-light",width:57,height:12}),E.jsx("img",{className:"logo-dark",src:"https://i.postimg.cc/0NkcvvPp/logo.png",alt:"logo-dark",width:57,height:12}),E.jsx("h1",{className:"sherry-logo",children:"&"}),E.jsx($6,{link:t??null})]})]})}function k6({state:t}){const e=()=>{switch(t){case"trusted":return E.jsxs("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z",fill:"#00aa00",fillOpacity:"0.2",stroke:"#00aa00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M9 12L11 14L15 10",stroke:"#00aa00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});case"unknown":return E.jsxs("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z",fill:"#ff9800",fillOpacity:"0.2",stroke:"#ff9800",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M12 8V12",stroke:"#ff9800",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("circle",{cx:"12",cy:"16",r:"0.5",fill:"#ff9800",stroke:"#ff9800",strokeWidth:"1.5"})]});case"malicious":return E.jsxs("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z",fill:"#f44336",fillOpacity:"0.2",stroke:"#f44336",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M15 9L9 15",stroke:"#f44336",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M9 9L15 15",stroke:"#f44336",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]});default:return E.jsxs("svg",{width:16,height:16,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[E.jsx("path",{d:"M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z",fill:"#ff9800",fillOpacity:"0.2",stroke:"#ff9800",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("path",{d:"M12 8V12",stroke:"#ff9800",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),E.jsx("circle",{cx:"12",cy:"16",r:"0.5",fill:"#ff9800",stroke:"#ff9800",strokeWidth:"1.5"})]})}},n=()=>{switch(t){case"trusted":return"Verified mini-app by SherryLinks";case"unknown":return"Unverified mini-app proceed with caution";case"malicious":return"Malicious mini-app detected";default:return"Unknown mini-app state"}};return E.jsxs("div",{className:`security-indicator ${t}`,title:`Security status: ${n()}`,children:[E.jsx("span",{className:"icon",children:e()}),E.jsx("label",{className:"text-[8px] font-light",children:n()})]})}function Pp(){var e;if(typeof window>"u")return"default";const t=(e=document.querySelector("html"))==null?void 0:e.style.colorScheme;return t?t==="dark"?"x-dark":"x-light":window.matchMedia("(prefers-color-scheme: dark)").matches?"x-dark":"x-light"}function B6(t){if(typeof window>"u"||typeof HTMLElement>"u")return null;const e=L.useMemo(()=>t.stylePreset?t.stylePreset:Pp(),[t.stylePreset]),n=L.useRef(null);L.useEffect(()=>{var y,w;if(typeof window>"u")return;((y=n.current)==null?void 0:y.closest("[data-x-theme]"))||(w=n.current)==null||w.setAttribute("data-x-theme",e)},[e]);const{adapter:r}=t,[s,i]=L.useState(null),[o,a]=L.useState("unknown"),[c,u]=L.useState(!1),[l,d]=L.useState(null),[f,h]=L.useState(null);if(L.useEffect(()=>{(async()=>{if(u(!0),d(null),i(null),a("unknown"),t.metadata){console.log("[MiniAppComponent] Using provided metadata."),i(t.metadata),typeof t.securityState<"u"?a(t.securityState):(console.warn('[MiniAppComponent] No security state provided with metadata. Defaulting to "unknown".'),a("unknown")),u(!1);return}if(t.url){const y=t.url;console.log("[MiniAppComponent] Fetching metadata from URL:",y);try{const w=_s.getInstance();try{await w.init(),console.log("[MiniAppComponent] MiniAppDirectory initialized.")}catch(P){throw console.error("[MiniAppComponent] Error initializing MiniAppDirectory:",P),new Xe({message:"Failed to initialize MiniAppDirectory",code:"DIRECTORY_INIT_ERROR"})}const g=await w.lookup(y);a(g),console.log(`🛡️ Directory lookup for ${y}: ${g}`),g==="malicious"&&console.warn(`⚠️ Malicious MiniApp URL detected: ${y}. Aborting fetch.`),g==="unknown"&&console.warn(`❓ Unknown MiniApp URL: ${y}. Proceeding cautiously.`),g==="trusted"&&console.log(`✅ Trusted MiniApp found in directory: ${y}`);let b;if(t.bypassProxy){console.warn(`[MiniAppComponent] Attempting direct fetch (bypassProxy=true) for ${y}. May fail due to CORS.`);const P=await fetch(y,{cache:"no-store"});if(!P.ok)throw new Xe({message:`Failed to fetch metadata directly. Status: ${P.status}`,httpStatus:P.status,context:{url:y,bypassProxy:!0}});b=await P.json()}else{const{url:P,headers:C}=await b1(y,!0);console.log(`📡 Fetching metadata via proxy: ${P}`);const S=await fetch(P,{method:"GET",headers:{...C,"Content-Type":"application/json"},cache:"no-store"});if(!S.ok)throw new Xe({message:`Failed to fetch metadata via proxy. Status: ${S.status}`,httpStatus:S.status,context:{url:y,bypassProxy:!1}});b=await S.json()}const A=f1(b);i(A)}catch(w){console.error("[MiniAppComponent] Error fetching metadata:",w),d(w.message||"Unknown error")}finally{u(!1)}}else d("No URL or metadata provided."),u(!1)})()},[t.url,t.metadata,t.securityState,t.bypassProxy]),c)return E.jsx("div",{className:"loading",children:"Loading..."});if(l)return E.jsxs("div",{style:{color:"red"},children:["Error: ",l]});if(!s)return E.jsx("div",{className:"mini-app-error",children:"Error: Could not load MiniApp data."});const m=s,p=E.jsx("img",{src:"https://kfrzkvoejzjkugwosqxx.supabase.co/storage/v1/object/public/images//IMG_9250.PNG",alt:m.title,width:380,height:500,className:"mini-app-img"});return E.jsxs("div",{className:`mini-app security-${o} ${e}`,children:[p,E.jsxs("div",{className:"mini-app-content",children:[E.jsx("h2",{className:"title",children:m.title}),E.jsx("p",{className:"description",children:m.description}),E.jsx(k6,{state:o}),E.jsx(S6,{actions:m.actions,adapter:r,connectedAccount:f,setConnectedAccount:h,baseUrl:m.baseUrl||void 0}),E.jsx(I6,{})]})]})}const M6={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}};function R6(t,e){return F6(t)?N6(t):Mb(t,e)}function N6(t){D6(t);const{sourceHash:e,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=t,u=[e,r,a??"0x",o?U(o):"0x",c?U(c):"0x",s?U(s):"0x",i?"0x1":"0x",n??"0x"];return De(["0x7e",ft(u)])}function F6(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function D6(t){const{from:e,to:n}=t;if(e&&!ee(e))throw new fe({address:e});if(n&&!ee(n))throw new fe({address:n})}const L6=It({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),j6=It({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),O6={estimateFeesPerGas:async t=>{var s;if(!((s=t.request)!=null&&s.feeCurrency))return null;const[e,n]=await Promise.all([V6(t.client,t.request.feeCurrency),U6(t.client,t.request.feeCurrency)]);return{maxFeePerGas:t.multiply(e-n)+n,maxPriorityFeePerGas:n}}};async function V6(t,e){const n=await t.request({method:"eth_gasPrice",params:[e]});return BigInt(n)}async function U6(t,e){const n=await t.request({method:"eth_maxPriorityFeePerGas",params:[e]});return BigInt(n)}function Tp(t){return t===0||t===0n||t===void 0||t===null||t==="0"||t===""||typeof t=="string"&&(Se(t).toLowerCase()==="0x"||Se(t).toLowerCase()==="0x00")}function Gn(t){return!Tp(t)}function z6(t){return typeof t.maxFeePerGas<"u"&&typeof t.maxPriorityFeePerGas<"u"}function Sp(t){return t.type==="cip64"?!0:z6(t)&&Gn(t.feeCurrency)}const _6={block:vy({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:{...Ds(r),...r.gatewayFee?{gatewayFee:Ce(r.gatewayFee),gatewayFeeRecipient:r.gatewayFeeRecipient}:{},feeCurrency:r.feeCurrency})}}}),transaction:by({format(t){if(t.type==="0x7e")return{isSystemTx:t.isSystemTx,mint:t.mint?Ce(t.mint):void 0,sourceHash:t.sourceHash,type:"deposit"};const e={feeCurrency:t.feeCurrency};return t.type==="0x7b"?e.type="cip64":(t.type==="0x7c"&&(e.type="cip42"),e.gatewayFee=t.gatewayFee?Ce(t.gatewayFee):null,e.gatewayFeeRecipient=t.gatewayFeeRecipient),e}}),transactionRequest:hy({format(t){const e={};return t.feeCurrency&&(e.feeCurrency=t.feeCurrency),Sp(t)&&(e.type="0x7b"),e}})};function H6(t,e){return Sp(t)?G6(t,e):R6(t,e)}const q6={transaction:H6};function G6(t,e){K6(t);const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,feeCurrency:l,data:d}=t,f=[U(n),s?U(s):"0x",c?U(c):"0x",a?U(a):"0x",r?U(r):"0x",i??"0x",o?U(o):"0x",d??"0x",Gr(u),l,...Mn(t,e)];return De(["0x7b",ft(f)])}const W6=jr;function K6(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i,feeCurrency:o}=t;if(e<=0)throw new zr({chainId:e});if(i&&!ee(i))throw new fe({address:i});if(r)throw new I("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(Gn(s)&&s>W6)throw new Pt({maxFeePerGas:s});if(Gn(n)&&Gn(s)&&n>s)throw new Tn({maxFeePerGas:s,maxPriorityFeePerGas:n});if(Gn(o)&&!ee(o))throw new I("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(Tp(o))throw new I("`feeCurrency` must be provided for CIP-64 transactions.")}const Lo={contracts:M6,formatters:_6,serializers:q6,fees:O6},Y6=It({...Lo,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),as=17e3,X6=It({...Lo,id:44787,name:"Alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"A-CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Alfajores Explorer",url:"https://celo-alfajores.blockscout.com",apiUrl:"https://celo-alfajores.blockscout.com/api"}},contracts:{...Lo.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:14569001},portal:{[as]:{address:"0x82527353927d8D069b3B452904c942dA149BA381",blockCreated:2411324}},disputeGameFactory:{[as]:{address:"0xE28AAdcd9883746c0e5068F58f9ea06027b214cb",blockCreated:2411324}},l2OutputOracle:{[as]:{address:"0x4a2635e9e4f6e45817b1D402ac4904c1d1752438",blockCreated:2411324}},l1StandardBridge:{[as]:{address:"0xD1B0E0581973c9eB7f886967A606b9441A897037",blockCreated:2411324}}},testnet:!0}),Z6=It({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),J6=It({id:10143,name:"Monad Testnet",nativeCurrency:{name:"Testnet MON Token",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Testnet explorer",url:"https://testnet.monadexplorer.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:251449}},testnet:!0}),Q6=It({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});function oc({adapter:t,metadata:e,originalUrl:n,mountNode:r,style:s,securityState:i}){const o=Pp(),a=document.createElement("div");a.className=`sherry-wrapper ${o}`,a.dataset.slinksPreview=n,r.replaceChildren(a);const c=kp.createRoot(a);return c.render(E.jsx("div",{onClick:u=>u.stopPropagation(),style:s,children:E.jsx(B6,{metadata:e,adapter:t,securityState:i,stylePreset:o})})),{container:a,reactRoot:c}}function HE(t){switch(t){case"metamask":case"rabby":return"ethereum";case"core":return"avalanche";default:throw new Error(`Unsupported wallet: ${t}`)}}async function qE(t){const e=window[t];if(!e)return{error:`${t} provider not found`};try{const[n]=await e.request({method:"eth_requestAccounts"});return{address:n}}catch(n){return{error:(n==null?void 0:n.message)??"Unknown connect error"}}}async function GE(t,e){var r,s;const n=window[e];if(!n)return{error:`${e} provider not found`};try{return await n.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),{success:!0}}catch(i){const o=(i==null?void 0:i.code)??((s=(r=i==null?void 0:i.data)==null?void 0:r.originalError)==null?void 0:s.code),a={"0xa86a":{chainId:"0xa86a",chainName:"Avalanche C-Chain",rpcUrls:["https://api.avax.network/ext/bc/C/rpc"],nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},blockExplorerUrls:["https://snowtrace.io"]},"0xa869":{chainId:"0xa869",chainName:"Avalanche Fuji C-Chain",rpcUrls:["https://api.avax-test.network/ext/bc/C/rpc"],nativeCurrency:{name:"Avalanche",symbol:"AVAX",decimals:18},blockExplorerUrls:["https://testnet.snowtrace.io"]},"0xa4ec":{chainId:"0xa4ec",chainName:"Celo Mainnet",rpcUrls:["https://forno.celo.org"],nativeCurrency:{name:"Celo",symbol:"CELO",decimals:18},blockExplorerUrls:["https://explorer.celo.org"]},"0xaef3":{chainId:"0xaef3",chainName:"Alfajores Testnet",rpcUrls:["https://alfajores-forno.celo-testnet.org"],nativeCurrency:{name:"Celo",symbol:"CELO",decimals:18},blockExplorerUrls:["https://explorer.celo.org/alfajores"]},"0x279f":{chainId:"0x279f",chainName:"Monad Testnet",rpcUrls:["https://rpc.testnet.monad.xyz"],nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorerUrls:["https://explorer.testnet.monad.xyz"]}};if(o===4902||i.message.includes("Unrecognized chain ID")){const c=a[t.toLowerCase()];if(!c)return{error:`Unknown chain ${t}`};try{return await n.request({method:"wallet_addEthereumChain",params:[c]}),await n.request({method:"wallet_switchEthereumChain",params:[{chainId:t}]}),{success:!0}}catch(u){return{error:(u==null?void 0:u.message)??"Failed to add chain"}}}return{error:i.message??"Unknown switchChain error"}}}async function WE(t,e,n,r,s){const i=window[r];if(!i)return{error:`${r} provider not found`};try{if(!s)return{error:"No account available"};const o={from:s,to:t,value:e};n&&(o.data=n),console.log("🚀 Sending tx with txParams:",o);const a=await i.request({method:"eth_sendTransaction",params:[o]});return console.log("✅ TX Hash:",a),{txHash:a}}catch(o){return console.log("💥 Error in eth_sendTransaction:",o),{error:(o==null?void 0:o.message)??"Transaction failed",fullError:JSON.stringify(o,Object.getOwnPropertyNames(o))}}}async function KE(t,e,n,r,s){console.log("[MAIN World] 📡 simulate_contract input:",{from:n,to:t,data:e,value:r});const i=window[s];if(!i)return{error:`${s} provider not found`};console.log("simulateContract → from:",n,"value:",r,"to:",t);try{const o=await i.request({method:"eth_call",params:[{from:n,to:t,data:e,value:r},"latest"]});return console.log("[MAIN World] ✅ eth_call result:",o),{result:o}}catch(o){return console.error("[MAIN World] ❌ simulate_contract failed:",o),{error:o.message??"Simulation error"}}}var jo={43114:L6,43113:j6,10143:J6,42220:Y6,44787:X6,1:Z6,11155111:Q6};function eE(t=43114){const e=jo[t];if(!e)throw new Error(`Unsupported chainId: ${t}`);return e}function xl(t){return JSON.parse(JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString():n))}var YE=class{constructor(t){this.wallet=t}async switchChain(t){const e="0x"+t.toString(16);return new Promise((n,r)=>{chrome.runtime.sendMessage({type:"switch_chain",wallet:this.wallet,payload:{hexChainId:e}},s=>{if(chrome.runtime.lastError)return r(chrome.runtime.lastError);if(s!=null&&s.error)return r(s.error);n()})})}async connect(){return new Promise((t,e)=>{chrome.runtime.sendMessage({type:"connect",wallet:this.wallet},n=>{if(chrome.runtime.lastError)return e(chrome.runtime.lastError);if(n!=null&&n.error)return e(n.error);t((n==null?void 0:n.address)??null)})})}async writeContract(t){const e=await this.connect();await this.switchChain(t.chainId??43114);const n=Ee({abi:t.abi,functionName:t.functionName,args:t.args}),r=typeof t.value=="bigint"?"0x"+t.value.toString(16):t.value?"0x"+BigInt(t.value).toString(16):"0x0",s=xl({to:t.address,data:n,value:r,from:e});return new Promise((i,o)=>{chrome.runtime.sendMessage({type:"send_transaction",wallet:this.wallet,payload:s},a=>{if(chrome.runtime.lastError)return o(chrome.runtime.lastError);if(a!=null&&a.error)return o(a.error);i({hash:a.txHash})})})}async sendTransaction(t){const e=await this.connect();await this.switchChain(t.chainId??43114);const n=typeof t.value=="bigint"?"0x"+t.value.toString(16):typeof t.value=="string"?t.value:"0x0",r=xl({to:t.to,data:t.data??null,value:n,from:e});return new Promise((s,i)=>{chrome.runtime.sendMessage({type:"send_transaction",wallet:this.wallet,payload:r},o=>{if(chrome.runtime.lastError)return i(chrome.runtime.lastError);if(o!=null&&o.error)return i(o.error);s({hash:o.txHash})})})}async signMessage(t,e){return new Promise(n=>{chrome.runtime.sendMessage({type:"sign_message",wallet:this.wallet,payload:{message:t}},r=>{if(chrome.runtime.lastError)return n({error:chrome.runtime.lastError.message});if(r!=null&&r.error)return n({error:r.error});n({signature:r.signature})})})}async readContract(t){var l;const e=t.chainId??43114,n=jo[e];if(!n)throw new Error(`Unsupported chainId: ${e}`);const r=typeof t.abi=="string"?JSON.parse(t.abi):t.abi,s=(l=t.args)==null?void 0:l.map(d=>{if(typeof d=="string"&&/^\d+$/.test(d))try{return BigInt(d)}catch{return d}return d}),i=Ee({abi:r,functionName:t.functionName,args:s}),o=await this.connect();if(!o)throw new Error("No connected account");const a=fs({chain:n,transport:ls(n.rpcUrls.default.http[0])}),c=await _r(a,{account:o,to:t.address,data:i}),u=typeof c=="string"?c:c==null?void 0:c.data;if(typeof u!="string")throw console.error("[Adapter] ❌ Unexpected result from callAction:",c),new Error("Invalid result: expected string hex");return BigInt(u)}async simulateContract(t){var a;const e=await this.connect(),n=typeof t.abi=="string"?JSON.parse(t.abi):t.abi,r=(a=t.args)==null?void 0:a.map(c=>{if(typeof c=="string"&&/^\d+$/.test(c))try{return BigInt(c)}catch{return c}return c}),s=Ee({abi:n,functionName:t.functionName,args:r}),i=typeof t.value=="bigint"?"0x"+t.value.toString(16):typeof t.value=="string"?t.value:"0x0",o={address:t.address,data:s,value:i,from:e};return console.log("[Adapter] 🧪 simulateContract payload:",o),new Promise((c,u)=>{chrome.runtime.sendMessage({type:"simulate_contract",wallet:this.wallet,payload:o},l=>{if(console.log("[Adapter] 📬 simulateContract response:",l),chrome.runtime.lastError)return u(chrome.runtime.lastError);if(l!=null&&l.error)return u(l.error);c(l.result)})})}async estimateGas(t){const e=t.chainId??43114,n=jo[e];if(!n)throw new Error(`Unsupported chainId: ${e}`);const r=fs({chain:n,transport:ls(n.rpcUrls.default.http[0])}),s=t.account??await this.connect();return console.log("[Adapter] ⛽ Estimating gas for tx:",{...t,account:s}),await r.estimateGas({...t,account:s,value:t.value?BigInt(t.value):void 0})}async waitForTransaction(t,e){const{minConfirmations:n=1n,timeoutMs:r=6e4,pollingIntervalMs:s=3e3,chainId:i=43114,onProgress:o}=e??{},a=fs({chain:eE(i),transport:ls()}),c=Date.now();let u=-1n;for(;;){if(Date.now()-c>r)throw new Error("Timeout while waiting for confirmations");const l=await xs(a,{hash:t}).catch(()=>null);if(l){const d=await bf(a,{transactionReceipt:l});if(d!==u&&(u=d,o==null||o(d)),d>=n)return l}await new Promise(d=>setTimeout(d,s))}}async sendDeserializedTransaction(t){if(typeof t!="object"||t===null)throw new Error("Deserialized tx must be an object");const{to:e,data:n,value:r,chainId:s}=t;return{hash:(await this.sendTransaction({to:e,data:n,value:typeof r=="bigint"?r:BigInt(r??"0x0"),chainId:s??43114})).hash}}};function ac(t){if(t.includes("action?url="))try{const s=new URL(t).searchParams.get("url");if(s)return s}catch(r){console.error("[processUrlWithAction] Error parsing:",r)}const e="actionurl",n=t.indexOf(e);return n!==-1?t.substring(n+e.length):t}var tE={url:"https://play.famobi.com/wrapper/garden-bloom/A1000-10",title:"⚡ Crypto Sumo ⚡",description:"Fight for FLOW! Push opponents out of the ring in this multiplayer sumo wrestling game. Bigger bets = stronger wrestlers!",icon:"https://tu-dominio.com/crypto-sumo/icon.png",actions:[{type:"html",label:"🥊 Play Crypto Sumo",url:"https://crypto-sumo.onrender.com",width:800,height:700,fullscreen:!0}]};function nE(){return new Promise(t=>{const e=()=>{document.querySelectorAll('[data-testid="card.wrapper"]').length>0?t():requestAnimationFrame(e)};e()})}async function rE(t){await nE();const e=document.body;if(!e)return;Array.from(document.querySelectorAll('[data-testid="card.wrapper"]')).forEach(s=>{Al(s,t)}),new MutationObserver(s=>{for(const i of s)for(const o of Array.from(i.addedNodes)){if(o.nodeType!==Node.ELEMENT_NODE)continue;const c=o.querySelector('[data-testid="card.wrapper"]');c&&Al(c,t)}}).observe(e,{childList:!0,subtree:!0}),console.log("[TwitterObserverEVM] ✅ Started observing with HTML5 game metadata override")}function sE(t){const e=t.querySelector("a");return!t||!e?null:{card:t,anchor:e}}function iE(t,e=!1){var n,r,s;return e?(n=t.closest("article"))==null?void 0:n.querySelector('[data-testid="tweet"]'):((s=(r=t.closest("article"))==null?void 0:r.querySelector('[data-testid="tweetText"]'))==null?void 0:s.parentElement)??null}async function Al(t,e){const n=t;if(!n||n.localName!=="div")return;let r;const s=sE(n);let i=iE((s==null?void 0:s.card)??n,!!s);if(s)r=s.anchor,i&&i.remove(),i=s.card.parentElement;else if(i)return;if(!r||!i||i.dataset.slinkMounted==="true")return;const o=_s.getInstance(),a=r.href;let c;try{c=await oE(a)}catch(f){console.warn("[handleNewNode] ❌ Failed to resolve URL:",a,f);return}const u=ac(c.toString()),l=o.lookup(u);if(l==="malicious"){console.warn("[handleNewNode] ❌ Malicious URL detected, skipping:",u);return}let d;try{console.log("[handleNewNode] 🎮 Using predefined HTML5 game metadata instead of fetching from:",u),d=tE,console.log("[handleNewNode] ✅ Successfully created metadata for HTML5 game:",d.title)}catch(f){console.error("[handleNewNode] ❌ Error creating HTML5 game metadata:",f);try{console.log("[handleNewNode] 🔄 Falling back to original fetch for:",u);const h=u,p=await fetch(h,{headers:{},cache:"no-store"});if(!p.ok)throw new Xe({message:`Failed to fetch metadata via proxy. Status: ${p.status}`,httpStatus:p.status,context:{url:u,proxifiedUrl:h}});d=await p.json(),console.log("[handleNewNode] ✅ Fallback fetch successful")}catch(h){console.error("[handleNewNode] ❌ Original fetch also failed:",h);return}}if(!d){console.warn("[handleNewNode] ❌ No metadata available, skipping");return}i.dataset.slinkMounted="true";try{oc({adapter:e,metadata:d,securityState:l||"unknown",originalUrl:u,mountNode:i}),console.log("[handleNewNode] ✅ HTML5 Game Slink mounted for URL:",u,"| Game:",d.title)}catch(f){console.error("[handleNewNode] ❌ Error creating slink:",f),delete i.dataset.slinkMounted}}async function oE(t){var o;const n=await(await fetch(t)).text(),i=(o=new DOMParser().parseFromString(n,"text/html").querySelector("title"))==null?void 0:o.textContent;if(!i)throw new Error("Could not extract URL from title tag");return new URL(i)}var aE="app.sherry.social",Cp="#description-inline-expander",cE='a[href*="youtube.com/redirect"]',uE=`a[href*="${aE}/action"]`;function lE(){return new Promise(t=>{const e=()=>{const n=document.querySelector(Cp);n?(console.log("[YT-Observer] ✅ description-inline-expander encontrado"),t(n)):requestAnimationFrame(e)};e()})}function dE(t){const e=Array.from(t.querySelectorAll(uE)),n=Array.from(t.querySelectorAll(cE));return[...e,...n].filter(s=>!s.dataset.slinkProcessed)}function fE(t){var n;const e=document.createElement("div");return e.className="sherrylinks-slink-container",e.style.marginTop="8px",(n=t.parentElement)==null||n.insertBefore(e,t.nextSibling),console.log("[YT-Observer] 🏗️ Contenedor de Slink insertado en el DOM"),e}async function hE(t){return(await fetch(t,{redirect:"follow"})).url}function pE(t){if(!t.href.includes("youtube.com/redirect"))return null;try{const n=new URL(t.href).searchParams.get("q");return n?decodeURIComponent(n):null}catch{return null}}function mE(t){var n;const e=t.previousSibling;e&&e.nodeType===Node.TEXT_NODE&&!((n=e.textContent)!=null&&n.trim())&&e.remove(),t.style.display="none",t.setAttribute("aria-hidden","true")}async function yE(t,e){t.dataset.slinkProcessed="true",console.log("[YT-Observer] ⏩ Procesando anchor:",t);let n=pE(t)??t.href;if(/https?:\/\/t\.co/.test(n))try{n=await hE(n),console.log("[YT-Observer] 🔄 Después de followRedirects:",n)}catch(c){console.warn("[YT-Observer] ⚠️ No se pudo hacer followRedirects",c)}const r=ac(n);console.log("[YT-Observer] 🏁 URL final normalizada:",r);const i=_s.getInstance().lookup(r);if(console.log("[YT-Observer] 🔒 securityState =",i),i==="malicious"){console.warn("[YT-Observer] 🚫 URL marcada como maliciosa; abortando");return}let o;try{const c=r,u={};console.log("[YT-Observer] 📡 Fetch metadata…",c);const l=await fetch(c,{headers:u,cache:"no-store"});if(!l.ok)throw new Xe({message:`Fetch metadata falló (${l.status})`,httpStatus:l.status,context:{proxifiedUrl:c}});o=await l.json(),console.log("[YT-Observer] ✅ Metadata recibida")}catch(c){console.error("[YT-Observer] ❌ Error obteniendo metadata",c);return}const a=fE(t);oc({adapter:e,metadata:o,originalUrl:r,mountNode:a,style:{width:"100%",maxWidth:"450px"},securityState:"unknown"}),mE(t)}function Ri(t,e){const n=t.querySelector("#expand");n&&!n.hidden&&(console.log("[YT-Observer] 👉 Clic en “…more” para expandir"),n.click()),dE(t).forEach(r=>yE(r,e))}async function gE(t){console.log("[sherrylinks] 🧠 Iniciando setupYoutubeObserverEVM…");const e=await lE();Ri(e,t),new MutationObserver(r=>{r.forEach(s=>{s.addedNodes.forEach(i=>{if(!(i instanceof HTMLElement))return;i.id==="description-inline-expander"&&(console.log("[YT-Observer] ✨ Nuevo description detectado (cambio SPA)"),Ri(i,t));const o=i.closest(Cp);o&&Ri(o,t)})})}).observe(document.body,{childList:!0,subtree:!0})}var bE=new Map;typeof window<"u"&&(window.__sherryUrlCache=bE);var wE='section[data-test-selector="chat-room-component-layout"]',Hn=".pinned-chat__highlight-card",vE=/https?:\/\/www\.twitch\.tv\/redirect/;function xE(){return new Promise(t=>{const e=()=>{const n=document.querySelector(wE);n?t(n):requestAnimationFrame(e)};e()})}function AE(t){return Array.from(t.querySelectorAll('a[href^="http"]')).filter(n=>!n.dataset.slinkProcessed)}function EE(t){var n;const e=document.createElement("div");return e.className="sherrylinks-slink-container",e.style.marginTop="4px",(n=t.parentElement)==null||n.insertBefore(e,t.nextSibling),e}async function PE(t){return(await fetch(t,{redirect:"follow"})).url}function TE(t){if(!vE.test(t.href))return null;try{const n=new URL(t.href).searchParams.get("url");return n?decodeURIComponent(n):null}catch{return null}}async function SE(t,e){t.dataset.slinkProcessed="true";let n=TE(t)??t.href;if(/https?:\/\/t\.co/.test(n))try{n=await PE(n)}catch{}const r=ac(n);if(_s.getInstance().lookup(r)==="malicious")return;let o;try{const c=r,l=await fetch(c,{headers:{},cache:"no-store"});if(!l.ok)throw new Xe({message:`Fetch metadata falló (${l.status})`,httpStatus:l.status,context:{proxifiedUrl:c}});o=await l.json()}catch(c){console.error("[Twitch-Observer] ❌ Error obteniendo metadata",c);return}const a=EE(t);oc({adapter:e,metadata:o,originalUrl:r,mountNode:a,securityState:"unknown"}),function(u){var d;const l=u.previousSibling;l&&l.nodeType===Node.TEXT_NODE&&!((d=l.textContent)!=null&&d.trim())&&l.remove(),u.style.display="none",u.setAttribute("aria-hidden","true")}(t)}function El(t,e){AE(t).forEach(n=>SE(n,e))}function CE(){if(document.getElementById("slinks-twitch-patch"))return;const t=document.createElement("style");t.id="slinks-twitch-patch",t.textContent=`
      /*  Contenedor externo de la tarjeta fijada  */
      .pinned-chat__highlight-card {
        max-height: var(--slinks-max-pinned, 70vh) !important;
        overflow: hidden !important;   /* evita doble barra */
      }
  
      /*  Área interna que ya usa SimpleBar  */
      .pinned-chat__scrollable-area,
      .pinned-chat__scrollable-area .simplebar-content {
        max-height: 100% !important;   /* hereda del padre */
        overflow: auto !important;     /* scroll si hace falta */
      }
    `,document.head.appendChild(t);const e=()=>{const n=document.querySelector(".chat-input");let r=180;if(n){const i=n.getBoundingClientRect();r=window.innerHeight-i.top+8}const s=window.innerHeight-r;document.documentElement.style.setProperty("--slinks-max-pinned",`${s}px`)};e(),window.addEventListener("resize",e)}async function $E(t){console.log("[sherrylinks] 🧠 Iniciando setupTwitchObserverEVM…"),CE();const e=await xE(),n=e.querySelector(Hn);n&&El(n,t),new MutationObserver(s=>{s.forEach(i=>{i.addedNodes.forEach(o=>{if(o instanceof HTMLElement&&(o.matches(Hn)||o.querySelector(Hn))){const a=o.matches(Hn)?o:o.querySelector(Hn);El(a,t)}})})}).observe(e,{childList:!0,subtree:!0}),console.log("[Twitch-Observer] 👁️ MutationObserver activo sobre chatRoot")}function XE(t,e={}){const{twitter:n=!0,youtube:r=!0,twitch:s=!0}=e,{hostname:i}=window.location;if(s&&i.endsWith("twitch.tv")){$E(t);return}if(r&&i.includes("youtube.com")){gE(t);return}if(n&&(i==="twitter.com"||i.endsWith(".twitter.com")||i==="x.com"||i.endsWith(".x.com")||i==="pro.x.com"||i.endsWith(".pro.x.com"))){rE(t);return}console.debug("[slinks] Ningún observer coincide con:",i)}export{I as B,Wn as H,_s as M,YE as S,XE as a,GE as b,qE as c,WE as d,KE as e,ce as f,Ko as g,U0 as h,aa as i,UE as j,_r as k,rf as l,dt as m,$t as n,et as o,HE as p,zE as s};
